{"version":3,"sources":["Component/BackGrond.js","Screen/history.js","Utils/Utils.js","Handler/ConnectionHandler.js","Handler/WebSocketHandler.js","Component/Button.js","Component/Title.js","Component/DivBetter.js","Screen/Subscribe/Admin/WatchDailyUsage.js","Component/Notifications.js","Component/MenuSubscribe.js","Component/Menu.js","Component/Row.js","Screen/Guest/GuestIndex.js","Component/Input.js","Screen/Guest/Register.js","Screen/Guest/Login.js","Screen/Subscribe/StoreOwnerWatchHistory.js","Screen/Subscribe/UserWatchPurchasesHistory.js","Screen/Guest/ViewStoresAndProducts.js","Component/Cart.js","Screen/Guest/ViewProductsInCart.js","Screen/Guest/AddProductToCart.js","Screen/Subscribe/ViewDeleteProductsInStore.js","Component/TextArea.js","Screen/Subscribe/SendRequestToStore.js","Screen/Subscribe/OpenStore.js","Screen/Subscribe/ManageProductInStore.js","Screen/Subscribe/ManageDiscount.js","Screen/Subscribe/RemoveManagerFromStore.js","Screen/Subscribe/StoreManagement.js","Screen/Guest/SearchAndFilterProducts.js","Screen/Subscribe/StoreMenu.js","Screen/Subscribe/AddOwnerToStore.js","Screen/Subscribe/AddManagerToStore.js","Screen/Subscribe/ApproveOwnerToStore.js","Screen/Guest/BuyCart.js","Screen/Subscribe/EditManagerPermissions.js","Screen/Subscribe/ViewAndReplyRequests.js","Screen/Subscribe/Admin/WatchUserAndStoreHistory.js","Screen/Subscribe/SubscribetIndex.js","Screen/Subscribe/EditProudctInStore.js","Screen/Subscribe/ViewDiscounts.js","Screen/Subscribe/ManagePolicy.js","Screen/Subscribe/ViewPolicy.js","Screen/Subscribe/Admin/InitSystem.js","Screen/Subscribe/Admin/WatchRevenu.js","App.js","serviceWorker.js","index.js","Assests/store.jpg","Assests/404_logo.jpg"],"names":["BackGrond","state","style","backgroundColor","padding","width","height","this","props","children","Component","history","pass","path","fromPath","push","pathname","https","require","send","method","msg","update","a","options","hostname","port","headers","length","req","request","res","on","data","receive","write","JSON","stringify","end","buffer","out","toString","parse","Stomp","stompClient","connect","id","socket","SockJS","over","frame","name","subscribe","greeting","body","obj","console","log","error","alert","code","Button","color","textAlign","margin","fontFamily","fontSize","border","onMouseDown","event","setState","onMouseUp","onClick","text","Menu","style_sheet","title","paddingTop","paddingBottom","DivBetter","hoverd","getStyle","onMouseEnter","onMouseLeave","WatchDailyUsage","dStart","undefined","mStart","yStart","dEnd","mEnd","yEnd","lst_enteries","changeSday","bind","changeEday","changeSmonth","changeEmonth","changeSyear","changeEyear","submitDate","saveCVS","getResults","getToday","date","Date","day","getDate","month","getMonth","year","getFullYear","max","guestNumber","subscribeNumber","managerNumber","ownerNumber","adminNumber","value","evalPresentage","presentage","float","borderBottom","marginTop","paddingRight","fontWeight","findMax","pre","evalDataPresentages","output","renderBar","onMouseOver","marginLeft","rows","forEach","element","warn","join","document","createElement","csvData","Blob","type","csvUrl","URL","createObjectURL","href","target","download","click","lst","renderGraph","t","parseInt","received","opt","reason","list","slice","forceUpdate","today","location","from","to","fromDate","toDate","marginBottom","changeDay","changeMon","changeYear","renderRangeGraph","refresh","send_date","Title","renderToday","renderSelectDate","Datey","min","onChange","flag_connected","products","products_notification","replays","replays_notification","managment","managment_notification","waiting_approvels","waiting_approvels_notification","approvels","approvels_notification","size_0","size_1","size_2","size_3","size_4","show","test","Notifications","color_0","color_1","color_2","color_3","color_4","handleNotification","parseNotification","parseList","renderPopUp","buttonX","opcode","includes","store","listNotification","productName","amount","content","comment","popup","popup_inner","renderProudcts","renderReplays","renderManagment","renderWaitingApprovals","renderApprovals","connectHandler","maring","borderRight","position","top","left","right","bottom","opacity","overflowY","MenuSubscribe","prevState","checkIfAdmin","getAdminWatchPurchaseHistoryHtml","checkIfManager","getManageStoresHtml","admin","manager","onHover","currentTarget","onLeave","disconnect","logout","logged","renderGuest","Row","GuestIndex","stores","flag","handleConnect","handleGetId","buildStores","create_stores","m","background","description","src","logo_store","renderStore","Logo_404","render_stores_table","Input","marginRight","style_error","Register","handleChangeName","handleChangePassword","handleSubmit","password","valid_error","userData","startsWith","Login","StoreOwnerWatchHistory","purchases","buildPurchases","create_Purchases","renderPurchase","counter","storeName","index","indexOf","buyer","price","substring","renderProduct","product","pro","category","purchaseType","lineHeight","UserWatchPurchasesHistory","review","writer","rev","sendReview","handleChangeReview","ViewStoresAndProducts","handleStores","buildProducts","create_products","render_stores","render_product_table","render_product","renderDiscountAndPolicyButtons","stores_updated","showProducts","e","s","style_table","under_line","Cart","renderTitle","renderCart","cart","handleDelete","handleEdit","ViewProductsInCart","getCart","getPromise","renderDelete","promiseEdit","priceBeforeDiscount","cartPrice","productStr","splice","newAmount","AddProductToCart","handleChangedAmount","handleAdd","addPromise","renderProducts","ViewDeleteProductsInStore","getProducts","deleteProduct","updated_products","reviews","purchase","proudcts","render_reviews","render_selected_product","TextArea","cols","SendRequestToStore","handleRequest","sendRequesPromise","addRequest","store_value","i","checked","render_request","OpenStore","handleChangeDescription","storeOpenPromise","storeDescription","str","handleOpen","InputBig","size","ManageProductInStore","addClick","addProductPromise","CLASS_AND","CLASS_OR","CLASS_XOR","CLASS_TERM","ManageDiscount","storeDiscounts","simpleDiscounts","selectedDiscounts","comlicatedDiscounts","termDiscounts","selectedProductsTerms","targetProductTerm","store_amount","store_precentag","chosenDiscount","selectedProduct","selectedProductSimpleDiscount","simple_precentag","selectedProudctTerm","target_amount","minAmount","percentage","CLASSNAME","DATA","discount","titleStyle","elemnt","selectClick","elment","comlicatedClick","addDiscountToSelectedDiscounts","deleteClick","borderLeft","addStoreDiscount","renderStoreDiscontList","renderSelectedProductPicked","onSelect","pName","percantage","renderSimpleDiscontSelection","renderSimpleDiscountList","term","terms","renderTermByClass","renderList","onX","morethen1","renderTermsList","object","renderTargetTerm","renderTragetProduct","renderTermsSelected","renderProductsList","deleteOn","x","renderComlicatedByClass","target_prodct","renderDiscountByClass","discounts","addDiscountToComplicated","error_selected","renderSelectedDiscountList","renderComplicatedDiscountList","deletOn","promise","paddingLeft","renderSendDiscount","renderSelectedProduct","renderSimpleDiscount","renderTermDiscount","renderStoreDiscount","renderSelctedDiscounts","SmallInput","Triple","sylte","buttonSmall","RemoveManagerFromStore","handleManager","handleCancel","getManagersAppointedByMe","getManagersPromise","render_managers_table","render_manager","renderManagers","deleteManagerPromise","managers","showManagers","names","newManagers","managerData","userName","preventDefault","StoreManagement","buildstores","permission","url","SearchAndFilterProducts","handleSearch","handleMinPrice","handleMaxPrice","handleSearchValue","search","searchValue","minPrice","maxPrice","filteredProducts","Number","MAX_SAFE_INTEGER","parseFloat","StoreMenu","init_permissions","buildpermissions","update_permissions","manageProduct","storePolicy","appointOwner","appointManager","managerPermissions","deleteManager","permissions","approveOwner","paragraph","render_permissions","AddOwnerToStore","promiseAppointOwner","onBack","getPermission","AddManagerToStore","ApproveOwnerToStore","renderWaitingOwners","sendApproved","promiseApproved","getOwners","owners","BuyCart","handleChangeAge","handleChangeAddress","handleChangeCountry","handleChangeCreditCard","handleChangeCvv","handleChangeID","handleChangeZip","handleChangeCity","handlebuy","buildbuy","render_name","cart1","address","country","creditCard","age","cvv","zip","city","payment_data","totalPrice","subscribe_name","EditManagerPermissions","handleCheckboxChange","addOrRemovePermissionsPromise","removePermission","filteredPermissions","filter","perm","render_Permissions","Checkbox","ViewAndReplyRequests","handleRequests","handleChangeComment","getRequestsPromise","getRequestById","getRequestOfStore","renderRequestTable","renderRequests","handleSend","requests","enableResponse","requestId","senderName","responseData","renderResponse","WatchUserAndStoreHistory","handleChangeStoreName","handleChangeUserName","create_Purchases_stores","renderPurchas","create_Purchases_user","render_optinos","create_list","buildUsers","switch_state","user","showStores","values","select_style","render_users","display","justifyContent","alignItems","SubscribeIndex","EditProductInStore","editClick","editProductPromise","Didnt","selected","ViewDiscounts","getMap","renderRowOfDiscounts","removeDiscount","deleteCallBack","canDeletePromise","mapped","map","canDelete","elementInRow","keys","Object","getOwnPropertyNames","b","mapsize","renderDiscount","renderDiscountsMap","CLASS_SYSTEM","CLASS_BASKET","CLASS_COUNRTY","CLASS_PRODUCT","ManagePolicy","list_selected","list_comlicated","list_county","map_prodcts","maxAmount","selected_policy","selected_product","selected_amount_max","selected_amount_min","updateClick","renderProductPolicy","renderSystemPurcahsePolicay","renderBasketPurcahsePolicy","policyList","policy","renderByClass","renderByComlicated","countries","renderCountriesList","amountPerProduct","key","clickd","renderComplex","sstyle","renderCountryList","update_amount","renderMapProducts","renderSelectedPolicy","renderColumn1","renderCountries","renderSelectedComplex","ViewPolicy","getPolicy","checkEmptyPolicy","renderPolicy","InitSystem","success","handleReceived","WatchRevenu","day_income","i_day","i_month","i_year","s_day","s_month","s_year","selected_day_income","get_Date","pprint_Date","render_SelectedDate","onChange_day","onChange_month","onChange_year","render_SelectedIncome","App","component","exact","withRouter","sendRequestToStore","Boolean","window","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.5a102dea.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass BackGrond extends Component {\r\n  \r\n  constructor(){\r\n    super()\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{  backgroundColor: \"#F9F9F9\", padding: 1, width: '100%', height:this.props.height + 200}}>\r\n        {this.props.children}\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default BackGrond;\r\n//\r\n// const style_sheet = {\r\n//\r\n// }\r\n","import {createBrowserHistory as history} from 'history';\r\n\r\nexport default history();","/**\r\n * passing data between react components\r\n * @param history - browser history\r\n * @param path - destination path\r\n * @param fromPath - source path\r\n * @param state - data to pass\r\n */\r\nexport const pass =(history,path,fromPath,state) =>{\r\n    history.push({\r\n        pathname: path,\r\n        fromPath: fromPath,\r\n        state: state\r\n    });\r\n}\r\n\r\n","const https = require('https');\r\n\r\n/* path - the path of the web site  */\r\n/* method - the method of the https protocol */\r\n/* msg - the msg  */\r\n/* update - the function of with the result of the connection given and act  */\r\n/* id - connection number of user - optional */\r\nexport const send = async (path, method, msg, update) => {\r\n  let options = {\r\n    hostname: 'localhost',\r\n    // hostname: '89.138.169.55',\r\n    port: 8443,\r\n    path: path,\r\n    method: method,\r\n    headers: { \r\n    //'Accept':'*/*',\r\n    //'Content-Type':'*',  \r\n    'Accept-Encoding':'gzip, deflate, br',\r\n    'Content-Length': msg.length,},\r\n  };\r\n  let req = https.request(options, (res) => {\r\n    res.on('data', (data) => { update(receive(data)); });\r\n    // closes https request\r\n    //res.on('close', (close)=> { update(null); })\r\n    //res.on('error', (error) => { alert('error in conection handler'); });\r\n  });\r\n  //req.on('error',(error)=>{ alert('error in conection handler'); alert(error)})\r\n  //req.on('close',(close)=>{ update(null); })\r\n  req.write(JSON.stringify(msg)+'\\n');\r\n  req.end();\r\n}\r\n\r\n//The function return a response object\r\nconst receive = (buffer) => {\r\n    //let out = Object.getOwnPropertyNames(buffer)\r\n    let out = buffer.toString();\r\n    //alert(out)\r\n    return JSON.parse(out);\r\n}","import SockJS from 'sockjs-client';\r\nimport {send} from '.././Handler/ConnectionHandler';\r\n\r\nvar Stomp = require('webstomp-client');\r\nvar stompClient = null;\r\n\r\nexport function connect(id,update) {\r\n  // var socket = new SockJS('https://89.138.169.55:8443/gs-guide-websocket');\r\n  var socket = new SockJS('https://localhost:8443/gs-guide-websocket');\r\n  stompClient = Stomp.over(socket);\r\n  stompClient.connect({'id':id}, function (frame) {\r\n      stompClient.subscribe('/user/queue/greetings', function (greeting) {\r\n        \r\n          let body = greeting.body;\r\n          let obj = JSON.parse(body);\r\n          console.log('object '+obj) \r\n          update(obj);\r\n      });\r\n      sendMessage(\"hey\");\r\n  },\r\n  (error)=>alert(error.code));\r\n}\r\n\r\n//send message\r\nexport function sendMessage(name) {\r\n  stompClient.send(\"/app/hello\", {},  name);\r\n}\r\n\r\n//close web soceket\r\nexport function closeSocket() {\r\n  if(stompClient!==null) {\r\n    stompClient.disconnect();\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nclass Button extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      color:'#4287FF'\r\n    } \r\n  }\r\n    \r\n  render() {\r\n    return (\r\n      <div style={{ textAlign:'center', margin:10}}>\r\n        <button style={{  textAlign: 'center', color: \"black\", backgroundColor: this.state.color, \r\n            padding: \"10px\", fontFamily: \"Arial\", fontSize: 14, border:'1px solid black',}} \r\n          onMouseDown={(event)=>{this.setState({color:'white'})}}\r\n          onMouseUp={(event)=>{this.setState({color:'#4287FF'})}}\r\n          onClick={this.props.onClick}> {this.props.text} </button>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n\r\nconst style_sheet = {\r\n  textAlign: 'center',\r\n  color: \"black\",\r\n  backgroundColor: '#4287FF',\r\n  padding: \"10px\",\r\n  fontFamily: \"Arial\",\r\n  fontSize: 14,\r\n  border:'1px solid black',\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nclass Menu extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <h2 style={style_sheet}>\r\n        {this.props.title}\r\n      </h2>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n\r\nconst style_sheet = {\r\n  textAlign: 'center',\r\n  color: \"black\",\r\n  backgroundColor: '#F3F3F3',\r\n  paddingTop:\"20px\",\r\n  paddingBottom: \"7px\",\r\n  fontFamily: \"Arial\",\r\n  width:\"99%\",\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nclass DivBetter extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hoverd: false,\r\n    };\r\n  }\r\n\r\n  getStyle() {\r\n    return this.state.hoverd\r\n      ? { backgroundColor: \"#92BAFF\",border:'1px solid black',textAlign:\"center\"}\r\n      : { backgroundColor: \"\",border:'1px solid black',textAlign:\"center\"};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={this.getStyle()}\r\n        onMouseEnter={() => this.setState({ hoverd: true })}\r\n        onMouseLeave={() => this.setState({ hoverd: false })}\r\n        onClick={this.props.onClick}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DivBetter;\r\n\r\n// const style_sheet = {\r\n//   backgroundColor: \"#F9F9F9\",\r\n//   padding: 1,\r\n//   width: \"100%\",\r\n// };\r\n","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../../Component/BackGrond\";\r\nimport Menu from \"../../../Component/Menu\";\r\nimport Title from \"../../../Component/Title\";\r\nimport Button from \"../../../Component/Button\";\r\nimport {send} from '../../../Handler/ConnectionHandler';\r\nimport {pass} from \"../../../Utils/Utils\";\r\nimport DivBetter from \"../../../Component/DivBetter\";\r\nimport {todayVisits, setTodayVisits, setRefresh} from \"../../../Component/Notifications\";\r\n\r\nvar flag=true;\r\n\r\nexport function reset_flag(){\r\n  flag=false;\r\n}\r\n\r\nclass WatchDailyUsage extends Component {\r\n\r\n    constructor() {\r\n      super();\r\n      this.pathname = \"/admin/watchDailyUsage\";\r\n      this.state = {\r\n        dStart:undefined,\r\n        mStart:undefined,\r\n        yStart:undefined,\r\n        dEnd:undefined,\r\n        mEnd:undefined,\r\n        yEnd:undefined,\r\n        lst_enteries:[],\r\n      };\r\n      this.changeSday = this.changeSday.bind(this);\r\n      this.changeEday = this.changeEday.bind(this);\r\n      this.changeSmonth = this.changeSmonth.bind(this);\r\n      this.changeEmonth = this.changeEmonth.bind(this);\r\n      this.changeSyear = this.changeSyear.bind(this);\r\n      this.changeEyear = this.changeEyear.bind(this);\r\n      this.submitDate = this.submitDate.bind(this);\r\n      this.saveCVS = this.saveCVS.bind(this);\r\n      this.getResults = this.getResults.bind(this);\r\n      this.getToday = this.getToday.bind(this);\r\n    }\r\n\r\n    ipos() {\r\n      let date = new Date();\r\n      let day = date.getDate();\r\n      let month = date.getMonth() + 1;\r\n      let year = date.getFullYear();\r\n      this.setState({dEnd:day, mEnd:month, yEnd:year, dStart:day, mStart:month, yStart:year});\r\n    }\r\n\r\n    findMax(data) {\r\n      let max = data.guestNumber;\r\n      if(data.subscribeNumber > max) \r\n        max = data.subscribeNumber;\r\n      if(data.managerNumber > max) \r\n        max = data.managerNumber;\r\n      if(data.ownerNumber > max)\r\n        max = data.ownerNumber;\r\n      if(data.adminNumber > max)\r\n        max = data.adminNumber;\r\n      return max;\r\n    }\r\n\r\n    evalPresentage(value, max) {\r\n      let result = (value/max) * 100;\r\n      return result  + '%';\r\n    }\r\n\r\n    evalDataPresentages(data, max) {\r\n      let guestNumber = this.evalPresentage(data.guestNumber, max); \r\n      let subscribeNumber = this.evalPresentage(data.subscribeNumber, max);\r\n      let managerNumber = this.evalPresentage(data.managerNumber, max);\r\n      let ownerNumber = this.evalPresentage(data.ownerNumber, max);\r\n      let adminNumber = this.evalPresentage(data.adminNumber, max);\r\n      return {guestNumber: guestNumber, subscribeNumber: subscribeNumber, managerNumber: managerNumber, \r\n                ownerNumber: ownerNumber, adminNumber: adminNumber};\r\n    }\r\n\r\n    renderBar(name, value, presentage, color) {\r\n      return (\r\n          <div style={{float:'left', width:'100%', borderBottom:'black solid 1px', paddingBottom:'5px'}}>\r\n            <div style={{float:'left', width:'15%'}}>\r\n              <p style={{textAlign:'center', fontSize:'16px'}}> {name} </p>\r\n            </div>\r\n            <div style={{float:'left', width:'83%', marginTop:'5px'}}>\r\n              <div style={{width:presentage,backgroundColor:color, border:'black solid 1px'}}>\r\n                <p style={{textAlign:'right', color:'black', paddingRight:'5px', fontSize:'14px', fontWeight:'bold'}}> {value} </p>\r\n              </div>\r\n            </div>\r\n          </div>);\r\n    }\r\n\r\n    renderGraph(data) {\r\n      let max = this.findMax(data);\r\n      let pre = this.evalDataPresentages(data, max);\r\n      let output = [];\r\n      output.push(this.renderBar('guests' ,data.guestNumber, pre.guestNumber, '#AFF78F'));\r\n      output.push(this.renderBar('subscribes', data.subscribeNumber, pre.subscribeNumber, '#85F7CD'));\r\n      output.push(this.renderBar('managers',data.managerNumber, pre.managerNumber, '#88F4F7'));\r\n      output.push(this.renderBar('owners',data.ownerNumber, pre.ownerNumber, '#827EF7'));\r\n      output.push(this.renderBar('admins',data.adminNumber, pre.adminNumber, '#D27CF7'));\r\n      return (<div style={{float:'left', width:'100%'}}>\r\n                <div style={{float:'left', width:'99%'}}>\r\n                  <h3 style={{textAlign:'center'}} onMouseOver= {()=>this.setState({})}> {data.date} </h3>\r\n                </div>\r\n                <div style={{float:'left', width:'90%', marginLeft:'5%', border:'1px solid black'}}>\r\n                {output}\r\n                </div>\r\n              </div>);\r\n    }\r\n\r\n    saveCVS() {\r\n      let output = [];\r\n      let rows = [['','date', 'guests', 'subscribes', 'managers', 'owners', 'admins']];\r\n      let data = this.state.lst_enteries;\r\n      data.forEach(element=> {\r\n        rows.push([element.date,element.guestNumber, element.subscribeNumber, element.managerNumber, element.ownerNumber,\r\n                      element.adminNumber]);\r\n      });\r\n      console.warn(rows);\r\n      rows.forEach(element=>{\r\n        output.push(element.join(','));\r\n        output.push(\"\\n\");\r\n      });\r\n      console.warn(output);\r\n      var a = document.createElement('a');\r\n      var csvData = new Blob([output], { type: 'text/csv' }); \r\n      var csvUrl = URL.createObjectURL(csvData);\r\n      a.href = csvUrl;      \r\n      a.target = \"_blank\";\r\n      a.download = \"usageReport.csv\";\r\n      a.click();\r\n    }\r\n\r\n    renderRangeGraph() {\r\n      if( this.state.lst_enteries === undefined)\r\n        return;\r\n      let lst = this.state.lst_enteries;\r\n      let output = [];\r\n      lst.forEach(element => {\r\n        output.push(this.renderGraph(element));\r\n      });\r\n      return (  <div style={{float:'left', width:'90%', marginLeft:'5%', border:'1px solid black', paddingBottom:'10px'}}>\r\n                  <div style={{float:'left', width:'10%', marginLeft:'89%'}}>\r\n                    <Button text='Save to CVS' onClick={this.saveCVS}/>\r\n                  </div>\r\n                  {output}\r\n                </div>);\r\n    }\r\n\r\n    changeSday(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      if( t > 31 || t < 0) {\r\n        alert(\"Wrong value for Start day\");\r\n        let date = new Date();\r\n        event.target.value = date.getDate();\r\n      }\r\n      this.setState({dStart:t});\r\n    }\r\n\r\n    changeEday(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      if( t > 31 || t < 1) {\r\n        alert(\"Wrong value for End day\");\r\n        let date = new Date();\r\n        event.target.value = date.getDate();\r\n      }\r\n      this.setState({dEnd:t});\r\n    }\r\n\r\n    changeSmonth(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      if( t > 12 || t < 1) {\r\n        alert(\"Wrong value for Start month\");\r\n        let date = new Date();\r\n        event.target.value = date.getMonth() + 1;\r\n      }\r\n      this.setState({mStart:t});\r\n    }\r\n\r\n    changeEmonth(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      if( t > 12 || t < 1) {\r\n        alert(\"Wrong value for End month\");\r\n        let date = new Date();\r\n        event.target.value = date.getMonth() + 1;\r\n      }\r\n      this.setState({mEnd:t});\r\n    }\r\n    \r\n    changeSyear(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      let date = new Date();\r\n      if( t > date.getFullYear() || t < 0) {\r\n        alert(\"Wrong value for Start year\");\r\n        event.target.value = date.getFullYear();\r\n      }\r\n      this.setState({yStart:t});\r\n    }\r\n\r\n    changeEyear(event) {\r\n      let value = event.target.value;\r\n      let t = parseInt(value);\r\n      let date = new Date();\r\n      if( t > date.getFullYear() || t < 0) {\r\n        alert(\"Wrong value for End year\");\r\n        event.target.value = date.getFullYear();\r\n      }\r\n      this.setState({yEnd:t});\r\n    }\r\n\r\n    getResults(received) {\r\n       if(received) {\r\n          let opt = ''+received.reason;\r\n          if (opt === \"Success\") {\r\n            let list = received.value.slice(0,received.value.length-1);\r\n            let last= received.value[received.value.length-1];\r\n            this.setState({ lst_enteries:list});\r\n            this.forceUpdate();\r\n          }\r\n          else if(opt === \"User_Not_Found\") {\r\n              alert(\"Error - the user is not in the system\");\r\n          }\r\n          else if(opt === \"NOT_ADMIN\") {\r\n            alert(\"The user is not an admin, rty again with other user\");\r\n          }\r\n          else if(opt === \"INVALID_DATE\") {\r\n            alert(\"The day youe enter is invalid, try again\");\r\n          }\r\n          else {\r\n            alert(\"visits could not recived data from the server\")\r\n          }\r\n        }\r\n        else {\r\n          alert('Problem in vitis per day')\r\n        }\r\n    }\r\n\r\n    getToday(received) {\r\n      if(received) {\r\n        let opt = ''+received.reason;\r\n        if (opt === \"Success\") {\r\n          // alert('today list' + received.value);\r\n          // console.log(received.value[0]);\r\n          let today = received.value[0];\r\n          this.setState({ today:today});\r\n        }\r\n        else if(opt === \"User_Not_Found\") {\r\n            alert(\"Error - the user is not in the system\");\r\n        }\r\n        else if(opt === \"NOT_ADMIN\") {\r\n          alert(\"The user is not an admin, rty again with other user\");\r\n        }\r\n        else if(opt === \"INVALID_DATE\") {\r\n          alert(\"The day youe enter is invalid, try again\");\r\n        }\r\n        else {\r\n          alert(\"visits could not recived data from the server\");\r\n        }\r\n      }\r\n      else {\r\n        alert('Cant get today');\r\n      }\r\n    }\r\n\r\n    submitDate() {\r\n      if(this.state.dStart === undefined ||  this.state.mStart === undefined || this.state.yStart === undefined) {\r\n        alert(\"Didnt Select Start Date correctly\");\r\n      }\r\n      else if(this.state.dEnd === undefined ||  this.state.mEnd === undefined || this.state.yEnd === undefined) {\r\n        alert(\"Didnt Select End Date correctly\");\r\n      }\r\n      else if(this.state.yStart>this.state.yEnd) {\r\n        alert(\"Cant Select Start year greater then End year\");\r\n      }\r\n      else if(this.state.yStart==this.state.yEnd && this.state.mStart>this.state.mEnd) {\r\n        alert(\"Cant Select Start month greater then End month\");\r\n      }\r\n      else if(this.state.yStart==this.state.yEnd && this.state.mStart==this.state.mEnd && this.state.dStart>this.state.dEnd) {\r\n        alert(\"Cant Select Start day greater then End day\");\r\n      }\r\n      else {\r\n        //TOOD: call send\r\n       let id = this.props.location.state.id;\r\n       \r\n       let from = { day:this.state.dStart, month:this.state.mStart, year:this.state.yStart}; \r\n       let to = { day:this.state.dEnd, month:this.state.mEnd, year:this.state.yEnd}; \r\n       let datesData = {\r\n         fromDate: from,\r\n         toDate: to,\r\n       }\r\n       //alert(id+' '+from.day+' '+from.month+' '+from.year+' '+to.day+' '+to.month+' '+to.year)\r\n       send('/admin/visits?id='+id,'POST',datesData,this.getResults);\r\n      }\r\n    }\r\n\r\n    renderSelectDate() {\r\n      return (\r\n        <div style={{float:'left', width:'98%', marginLeft:'1%', marginTop:'10px', marginBottom:'10px', backgroundColor:'#E6F0FA'}}>\r\n            <div style={{float:'left', width:'100%', textAlign:'center'}}>\r\n              <h2> Select Range of Dates </h2>\r\n            </div>\r\n            <div style={{float:'left', width:'10%',}}>\r\n                <p style={{textAlign:'center', fontSize:'20px'}}> Start Date: </p>\r\n            </div>\r\n            <div style={{float:'left', width:'39%'}}>\r\n              <Datey changeDay = {this.changeSday} changeMon = {this.changeSmonth} changeYear = {this.changeSyear}/>\r\n            </div>\r\n            <div style={{float:'left', width:'10%',}}>\r\n                <p style={{textAlign:'center', fontSize:'20px'}}> End Date: </p>\r\n            </div>\r\n            <div style={{float:'left', width:'39%'}}>\r\n              <Datey changeDay = {this.changeEday} changeMon = {this.changeEmonth} changeYear = {this.changeEyear}/>\r\n            </div>\r\n            <div style={{float:'left', width:'100%', textAlign:'center', marginTop:'2px'}}>\r\n              <Button text='Show' onClick={this.submitDate}/>\r\n            </div>\r\n            {this.renderRangeGraph()}\r\n        </div>  \r\n      );\r\n    }\r\n\r\n    renderToday() {\r\n      let refresh = (today) => {this.setState({today:today})};\r\n      setRefresh(refresh);\r\n      if (this.state.today===undefined) {\r\n        let id = this.props.location.state.id;\r\n        let date = new Date();\r\n        let day = date.getDate();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        let send_date = { day:day, month:month, year:year}; \r\n        let datesData = {\r\n          fromDate: send_date,\r\n          toDate: send_date,\r\n        }\r\n        send('/admin/visits?id='+id,'POST',datesData,this.getToday);\r\n        return\r\n      }\r\n      return this.renderGraph(this.state.today);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state} refresh={()=>{this.setState({})}}/>\r\n                <Title title=\"Daily Usage\"/>\r\n                <body>\r\n                  {this.renderToday()}\r\n                  {this.renderSelectDate()}\r\n                </body>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default WatchDailyUsage;\r\n\r\n\r\nclass Datey extends Component {\r\n\r\n  render() {\r\n    //this.props.\r\n    return (<div style = {{float:'left', width:'100%'}}>\r\n              <div style={{float:'left', width:'32%', border:'1px solid black', textAlign:'center', backgroundColor:'#FBFFF7'}}>\r\n                <p style={{marginTop:0, marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Day </p>\r\n                <input style={{textAlign:'center',marginBottom:10, width:'50%'}} type={'number'} min={1} max={31}\r\n                    onChange={this.props.changeDay} />\r\n              </div>\r\n              <div style={{float:'left', width:'32%', border:'1px solid black', textAlign:'center',backgroundColor:'#FBFFF7'}}>\r\n                <p style={{marginTop:0, marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Month </p>\r\n                <input style={{textAlign:'center',marginBottom:10, width:'50%'}} type={'number'} min={1} max={12} \r\n                    onChange={this.props.changeMon} />\r\n              </div>\r\n              <div style={{float:'left', width:'32%', border:'1px solid black', textAlign:'center', backgroundColor:'#FBFFF7'}}>\r\n                <p style={{marginTop:0, marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Year </p>\r\n                <input style={{textAlign:'center',marginBottom:10, width:'50%'}} type={'number'} min={0} max={2020} \r\n                    onChange={this.props.changeYear} />\r\n              </div>\r\n           </div>)\r\n  }\r\n}\r\nconst style_sheet = {\r\n    color: \"black\",\r\n    padding: \"1px\",\r\n    margin: \"10px\",\r\n    lineHeight: 5,\r\n    fontFamily: \"Arial\",\r\n    width:\"80%\",\r\n  }\r\n\r\nconst select_style={\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\"\r\n}","import React, {Component} from 'react';\r\nimport {connect, sendMessage} from '../Handler/WebSocketHandler'\r\nimport {send} from '../Handler/ConnectionHandler';\r\nimport Button from './Button';\r\nimport {reset_flag} from '../Screen/Subscribe/Admin/WatchDailyUsage'\r\n\r\nvar flag_connected = false;\r\nvar products = [];\r\nvar products_notification = [];\r\nvar replays = [];\r\nvar replays_notification = [];\r\nvar managment = [];\r\nvar managment_notification = [];\r\nvar waiting_approvels = [];\r\nvar waiting_approvels_notification = [];\r\nvar approvels = [];\r\nvar approvels_notification = [];\r\nvar size_0= 0;\r\nvar size_1= 0;\r\nvar size_2= 0;\r\nvar size_3= 0;\r\nvar size_4= 0;\r\nvar show = undefined;// PRODUCTS, REPLAYS , MANAGMENT\r\nvar test = undefined;\r\n\r\nvar refresh = undefined; \r\n\r\nexport function setRefresh(func) {\r\n  refresh = func;\r\n}\r\n\r\nexport function todayVisits(){\r\n  return test;\r\n}\r\n\r\nexport function setTodayVisits(today){\r\n  test=today;\r\n}\r\n\r\nexport function turnOf(){\r\n  flag_connected = false;\r\n};\r\n\r\n\r\nvar NOTIFICATION_PRODUCT = 'Buy_Product';\r\nvar NOTIFICATION_REPLAY = 'Reply_Request';\r\nvar NOTIFICATION_REMOVE_MANAGER = 'Removed_From_Management';\r\nvar NOTIFICATION_WAITING_APPROVED = 'Approve_Owner';\r\nvar NOTIFICATION_APPROVED = 'Add_Owner';\r\nvar NOTIFICATION_VISIT='Day_Visit';\r\nvar SHOW_PRODUCTS = 'PRODUCTS';\r\nvar SHOW_REPLAYS = 'REPLAYS';\r\nvar SHOW_MANAGMENT = 'MANAGMENT';\r\nvar SHOW_WAITING_APPROVES = 'WAITING_APPROVES';\r\nvar SHOW_APPROVED = 'APPROVED';\r\n\r\nexport class Notifications extends Component {\r\n  \r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      color_0: '#92BAFF',\r\n      color_1: '#92BAFF',\r\n      color_2: '#92BAFF',\r\n      color_3: '#92BAFF',\r\n      color_4: '#92BAFF',\r\n      refresh: undefined,\r\n    }\r\n    this.handleNotification = this.handleNotification.bind(this);\r\n    this.parseNotification = this.parseNotification.bind(this);\r\n    this.parseList = this.parseList.bind(this);\r\n    this.renderPopUp = this.renderPopUp.bind(this);\r\n    this.buttonX = this.buttonX.bind(this);\r\n  }\r\n\r\n  parseNotification(element) {\r\n    console.log(element);\r\n    let opcode = element.reason;\r\n    if(opcode===NOTIFICATION_PRODUCT) {\r\n      if(!products_notification.includes(element.id)) {\r\n        let list = element.value;\r\n        list.forEach(element=>{\r\n          products.push(element); //proudct data\r\n        });\r\n        products_notification.push(element.id); //id of notification\r\n      }\r\n    }\r\n    else if(opcode===NOTIFICATION_REPLAY) { \r\n      if(!replays_notification.includes(element.id)) {\r\n        replays.push(element.value); //Request\r\n        replays_notification.push(element.id); //id of notification\r\n      }\r\n    }\r\n    else if(opcode===NOTIFICATION_REMOVE_MANAGER) {\r\n      if(!managment_notification.includes(element.id)) {\r\n        managment.push(element.value); //String store name\r\n        managment_notification.push(element.id); //id of notification\r\n      }\r\n    }\r\n    else if(opcode===NOTIFICATION_WAITING_APPROVED) {\r\n      console.log(element.value);\r\n      let list = element.value;\r\n      let obj = {store: list[0], name:list[1]};\r\n      if(!waiting_approvels_notification.includes(element.id)) {\r\n        waiting_approvels.push(obj);\r\n        waiting_approvels_notification.push(element.id);\r\n      }\r\n    }\r\n    else if(opcode===NOTIFICATION_APPROVED) {\r\n      console.log(element.value);\r\n      let store = element.value;\r\n      let obj = {store: store};\r\n      approvels.push(obj);\r\n      approvels_notification.push(element.id);\r\n    }\r\n    else if(opcode===NOTIFICATION_VISIT){\r\n      test=element.value;\r\n      if(refresh!=undefined) {\r\n        refresh(test);\r\n      }\r\n      reset_flag();\r\n    }\r\n    else\r\n    {\r\n      alert('recived op code notifiaction');\r\n    }\r\n  }\r\n\r\n  parseList(list) {\r\n    list.forEach(element=>this.parseNotification(element))\r\n  }\r\n\r\n  handleNotification(listNotification) {\r\n    this.parseList(listNotification);\r\n    size_0 = products.length;\r\n    size_1 = replays.length;\r\n    size_2 = managment.length;\r\n    size_3 = waiting_approvels.length;\r\n    size_4 = approvels.length;\r\n    this.setState({});\r\n    this.forceUpdate();\r\n  }\r\n\r\n  connectHandler(id) {\r\n    if(flag_connected===false) {\r\n      products=[];\r\n      products_notification=[];\r\n      replays=[];\r\n      replays_notification=[];\r\n      managment=[];\r\n      managment_notification=[];\r\n      size_0= 0;\r\n      size_1= 0;\r\n      size_2= 0;\r\n      connect(''+id,this.handleNotification);\r\n      flag_connected=true;\r\n    }\r\n  }\r\n\r\n  buttonX() {\r\n    if(show===SHOW_PRODUCTS) {\r\n      let msg = products_notification;\r\n      products=[];\r\n      products_notification=[];\r\n      size_0= 0;\r\n      send('/ack?id='+this.props.id,'POST',msg,()=>{});\r\n    }\r\n    else if(show===SHOW_REPLAYS) {\r\n      let msg = replays_notification;\r\n      replays=[];\r\n      replays_notification=[];\r\n      size_1= 0;\r\n      send('/ack?id='+this.props.id,'POST',msg,()=>{});\r\n    }\r\n    else if(show===SHOW_MANAGMENT) {\r\n      let msg = managment_notification;\r\n      managment=[];\r\n      managment_notification=[];\r\n      size_2= 0;\r\n      send('/ack?id='+this.props.id,'POST',msg,()=>{});\r\n    }\r\n    else if(show===SHOW_WAITING_APPROVES) {\r\n      let msg = waiting_approvels_notification;\r\n      waiting_approvels=[];\r\n      waiting_approvels_notification=[];\r\n      size_3= 0;\r\n      send('/ack?id='+this.props.id,'POST',msg,()=>{});\r\n    }\r\n    else if(show===SHOW_APPROVED) {\r\n      let msg = approvels_notification;\r\n      approvels=[];\r\n      approvels_notification=[];\r\n      size_4= 0;\r\n      send('/ack?id='+this.props.id,'POST',msg,()=>{});\r\n    }\r\n    show=undefined;\r\n    this.setState({});\r\n  }\r\n\r\n  renderProudcts(){\r\n    let output = [];\r\n    if(products.length===0)\r\n      return <p style={{textAlign:'center'}}> No Product Notifications Yet </p>;\r\n    products.forEach(element=>{\r\n      output.push(\r\n        <div style={{border: \"2px solid black\", padding:2, backgroundColor:'white'}}>\r\n          <p style={{textAlign:'center', padding: 4}}> Proudct Name: {element.productName } </p>\r\n          <p style={{textAlign:'center', padding: 4}}> Store Name: {element.store} </p>\r\n          <p style={{textAlign:'center', padding: 4}}> Amount Bought: {element.amount} </p>\r\n        </div>\r\n      );\r\n    });\r\n    return output;\r\n  }\r\n\r\n  renderReplays(){\r\n    let output = [];\r\n    if(replays.length===0)\r\n      return <p style={{textAlign:'center'}}> No Replays Notification Yet </p>;\r\n    replays.forEach(element=>{\r\n        output.push(\r\n          <div style={{border: \"2px solid black\", padding:2, backgroundColor:'white'}}>\r\n            <p style={{textAlign:'center', padding: 4}}> Store Name: {element.store } </p>\r\n            <p style={{textAlign:'center', padding: 4}}> Content: {element.content} </p>\r\n            <p style={{textAlign:'center', padding: 4}}> Comment: {element.comment} </p>\r\n            <p style={{textAlign:'center', padding: 4}}> Id: {element.id} </p>\r\n          </div>\r\n        )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  renderManagment() {\r\n    let output = [];\r\n    if(managment.length===0)\r\n      return <p style={{textAlign:'center'}}> No Removes From Management Yet </p>;\r\n    managment.forEach(element=>{\r\n      output.push(\r\n        <div style={{border: \"2px solid black\", padding:2, backgroundColor:'white'}}>\r\n          <p style={{textAlign:'center', padding: 4,}}> Store Name: {element} </p>\r\n        </div>\r\n      )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  renderWaitingApprovals() {\r\n    let output = [];\r\n    if(waiting_approvels.length ===0)\r\n      return <p style={{textAlign:'center'}}> No New Waiting Approvels For Owners Yet </p>;\r\n    waiting_approvels.forEach(element=> {\r\n      console.log(element);\r\n      output.push(\r\n        <div style={{border: \"2px solid black\", padding:2, backgroundColor:'white'}}>\r\n          <p style={{textAlign:'center', padding: 4,}}> Store Name: {element.store} </p>\r\n          <p style={{textAlign:'center', padding: 4,}}> Owner Name: {element.name} </p>\r\n        </div>\r\n      )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  renderApprovals() {\r\n    let output = [];\r\n    if(approvels.length ===0)\r\n      return <p style={{textAlign:'center'}}> No New Approvels For Being Owners </p>;\r\n    approvels.forEach(element=> {\r\n      console.log(element);\r\n      output.push(\r\n        <div style={{border: \"2px solid black\", padding:2, backgroundColor:'white'}}>\r\n          <p style={{textAlign:'center', padding: 4,}}> Store Name: {element.store} </p>\r\n        </div>\r\n      )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  renderPopUp() {\r\n    if(show===undefined)\r\n      return\r\n    if(show===SHOW_PRODUCTS) {\r\n      return (\r\n        <div style={popup}>\r\n          <div style={popup_inner}>\r\n            <h2 style={{textAlign:'center', backgroundColor:'#150A80', width:'100%', marginTop:0, color:'white'}}>\r\n                 Products</h2>\r\n            <div>\r\n              {this.renderProudcts()}\r\n              <Button text=\"X\" onClick={this.buttonX}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    if(show===SHOW_REPLAYS) {\r\n      return (\r\n        <div style={popup}>\r\n        <div style={popup_inner}>\r\n          <h2 style={{textAlign:'center', backgroundColor:'#150A80', width:'100%', marginTop:0, color:'white'}}>\r\n               Replays</h2>\r\n          <div>\r\n            {this.renderReplays()}\r\n            <Button text=\"X\" onClick={this.buttonX}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )\r\n    }\r\n    if(show===SHOW_MANAGMENT){\r\n      return (\r\n        <div style={popup}>\r\n          <div style={popup_inner}>\r\n            <h2 style={{textAlign:'center', backgroundColor:'#150A80', width:'100%', marginTop:0, color:'white'}}>\r\n                Remove From Manager</h2>\r\n            <div>\r\n              {this.renderManagment()}\r\n              <Button text=\"X\" onClick={this.buttonX}/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    if(show===SHOW_WAITING_APPROVES) {\r\n      return (\r\n        <div style={popup}>\r\n        <div style={popup_inner}>\r\n          <h2 style={{textAlign:'center', backgroundColor:'#150A80', width:'100%', marginTop:0, color:'white'}}>\r\n              New Waiting Approvals</h2>\r\n          <div>\r\n            {this.renderWaitingApprovals()}\r\n            <Button text=\"X\" onClick={this.buttonX}/>\r\n          </div>\r\n        </div>\r\n      </div> \r\n      )\r\n    }\r\n    if(show==SHOW_APPROVED){\r\n      return (\r\n        <div style={popup}>\r\n        <div style={popup_inner}>\r\n          <h2 style={{textAlign:'center', backgroundColor:'#150A80', width:'100%', marginTop:0, color:'white'}}>\r\n              New Approvals </h2>\r\n          <div>\r\n            {this.renderApprovals()}\r\n            <Button text=\"X\" onClick={this.buttonX}/>\r\n          </div>\r\n        </div>\r\n      </div> \r\n      )\r\n    } \r\n    return\r\n  }\r\n\r\n  render() {\r\n    this.connectHandler(this.props.id);\r\n    return (\r\n      <div style={{width:'100%',backgroundColor:'#92BAFF',margin:0}}>\r\n        <div style={{float:'left',width:'19.9%',backgroundColor:this.state.color_0,maring:0,\r\n                      borderRight:'1px solid white'}}\r\n         onMouseOver={()=>this.setState({color_0: '#BEDEFF'})}\r\n         onMouseLeave={()=>this.setState({color_0: '#92BAFF'})}\r\n         onClick={()=>{show='PRODUCTS';this.setState({})}}>\r\n          <h4 style={{textAlign:'center',margin:0}}> Upcoming Phurchases \r\n            <em style={{color:'black', fontSize:23}}> {size_0} </em>\r\n          </h4>\r\n        </div>\r\n        <div style={{float:'left',width:'19.9%',backgroundColor:this.state.color_1,maring:0,\r\n                      borderRight:'1px solid white'}}\r\n            onMouseOver={()=>this.setState({color_1: '#BEDEFF'})}\r\n            onMouseLeave={()=>this.setState({color_1: '#92BAFF'})}\r\n            onClick={()=>{show=SHOW_REPLAYS;this.setState({})}}>\r\n          <h4 style={{textAlign:'center',margin:0}}> Replays \r\n            <em style={{color:'black',fontSize:23}}> {size_1} </em>\r\n          </h4>\r\n        </div>\r\n        <div style={{float:'left',width:'19.9%',backgroundColor:this.state.color_2,maring:0,\r\n                      borderRight:'1px solid white'}}\r\n            onMouseOver={()=>this.setState({color_2: '#BEDEFF'})}\r\n            onMouseLeave={()=>this.setState({color_2: '#92BAFF'})}\r\n            onClick={()=>{show=SHOW_MANAGMENT;this.setState({})}}>\r\n          <h4 style={{textAlign:'center',margin:0}}> Dismissal From Managment \r\n            <em style={{color:'black',fontSize:23}}> {size_2} </em>\r\n          </h4>\r\n        </div>\r\n        <div style={{float:'left',width:'20%',backgroundColor:this.state.color_3,maring:0,\r\n                      borderRight:'1px solid white'}}\r\n            onMouseOver={()=>this.setState({color_3: '#BEDEFF'})}\r\n            onMouseLeave={()=>this.setState({color_3: '#92BAFF'})}\r\n            onClick={()=>{show=SHOW_WAITING_APPROVES;this.setState({})}}>\r\n          <h4 style={{textAlign:'center',margin:0}}> Waiting Agreements \r\n            <em style={{color:'black',fontSize:23}}> {size_3} </em>\r\n          </h4>\r\n        </div>\r\n        <div style={{float:'left',width:'20%',backgroundColor:this.state.color_4,maring:0}}\r\n            onMouseOver={()=>this.setState({color_4: '#BEDEFF'})}\r\n            onMouseLeave={()=>this.setState({color_4: '#92BAFF'})}\r\n            onClick={()=>{show=SHOW_APPROVED;this.setState({})}}>\r\n          <h4 style={{textAlign:'center',margin:0}}> Approvels Agreements \r\n            <em style={{color:'black',fontSize:23}}> {size_4} </em>\r\n          </h4>\r\n        </div>\r\n        {this.renderPopUp()}\r\n        {/* {this.renderUsageGraph()} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst popup= { \r\n  position: 'fixed',\r\n  width: '100%',  \r\n  height: '100%',  \r\n  top: '0',  \r\n  left: '0',  \r\n  right: '0',  \r\n  bottom: '0',  \r\n  margin: 'auto',  \r\n  backgroundColor:'#7A919E',  \r\n  opacity:'0.95',\r\n}\r\nconst popup_inner= {  \r\n  position: 'absolute',  \r\n  left: '15%',  \r\n  right: '15%',  \r\n  top: '15%',  \r\n  bottom: '15%',  \r\n  margin: 'auto',  \r\n  backgroundColor: '#9DBBCC',  \r\n  overflowY: 'scroll'\r\n}","import React, {Component} from 'react';\r\nimport history from '../Screen/history'\r\nimport {pass} from '../Utils/Utils'\r\nimport {send} from '../Handler/ConnectionHandler';\r\nimport {closeSocket} from '../Handler/WebSocketHandler'\r\nimport {Notifications, turnOf} from './Notifications';\r\n\r\nconst WHITE_BLUE= '#B3D1F0'\r\nclass MenuSubscribe extends Component {\r\n  \r\n  constructor(props){\r\n    super(props)\r\n    this.fromPath = this.props.fromPath;\r\n    this.prevState = this.props.state;\r\n    this.refresh = this.refresh.bind(this);\r\n    this.checkIfAdmin = this.checkIfAdmin.bind(this);\r\n    this.getAdminWatchPurchaseHistoryHtml = this.getAdminWatchPurchaseHistoryHtml.bind(this);\r\n    this.checkIfManager = this.checkIfManager.bind(this);\r\n    this.getManageStoresHtml = this.getManageStoresHtml.bind(this);\r\n    this.admin = false;\r\n    this.manager = false;\r\n    this.state = { }\r\n    this.checkIfAdmin();\r\n    this.checkIfManager();\r\n  }\r\n\r\n  checkIfAdmin(){\r\n    let id = this.props.state.id;\r\n    send('/admin/allusers?id='+id,'GET','',(received)=>{\r\n      console.log(received)\r\n      if(received){\r\n        let opt = ''+received.reason;\r\n        if(opt === \"Success\")\r\n          this.setState({admin: true})\r\n        else\r\n          this.setState({admin: false})\r\n      }\r\n    });\r\n  }\r\n\r\n  getAdminWatchPurchaseHistoryHtml(){\r\n    let onHover = (event) => {\r\n      event.currentTarget.style.backgroundColor = WHITE_BLUE;\r\n    }\r\n    let onLeave = (event) => {\r\n        event.currentTarget.style.backgroundColor = '';\r\n    }\r\n    return [\r\n        <th style={{margin:0, borderRight:'1px solid white'}}\r\n            onClick={()=> pass(history,\"/admin/storehistory\",this.fromPath,this.props.state)}\r\n            onMouseOver={onHover} onMouseLeave={onLeave}> Purchases </th>,\r\n        <th style={{margin:0, borderRight:'1px solid white'}}\r\n            onClick={()=> pass(history,\"/admin/watchRevenu\",this.fromPath,this.props.state)}\r\n            onMouseOver={onHover} onMouseLeave={onLeave}> Revenues </th>,\r\n        <th style={{margin:0, borderRight:'1px solid white'}}\r\n            onClick={()=> pass(history,\"/admin/watchDailyUsage\",this.fromPath,this.props.state)}\r\n        onMouseOver={onHover} onMouseLeave={onLeave}> Daily Usage </th>];\r\n  }\r\n\r\n  checkIfManager(){\r\n    let id = this.props.state.id;\r\n    send('/managers/mystores?id='+id,'GET','',(received)=>{\r\n      console.log(received)\r\n      if(received){\r\n        let opt = ''+received.reason;\r\n        if(opt === \"Success\")\r\n          this.setState({manager: true})\r\n        else\r\n          this.setState({manager: false})\r\n      }\r\n    });\r\n  }\r\n\r\n  getManageStoresHtml(){\r\n    let onHover = (event) => {\r\n      event.currentTarget.style.backgroundColor = WHITE_BLUE;\r\n    }\r\n    let onLeave = (event) => {\r\n        event.currentTarget.style.backgroundColor = '';\r\n    }\r\n    return(\r\n        <th style={{margin:0, borderRight:'1px solid white'}}\r\n            onClick={()=> pass(history,\"/storeManagement\",this.fromPath,this.props.state)}\r\n            onMouseOver={onHover} onMouseLeave={onLeave}> Manage Stores </th>)\r\n  }\r\n\r\n  logout() {\r\n    let id = this.props.state.id;\r\n    turnOf();\r\n    send('/home/logout?id='+id,\"POST\",'',()=>{});\r\n    closeSocket();\r\n    pass(history,\"/\",this.fromPath,{id:id});\r\n  }\r\n\r\n  refresh() {\r\n    this.setState({});\r\n  }\r\n\r\n  render() {\r\n    let onHover = (event) => {\r\n      event.currentTarget.style.backgroundColor = WHITE_BLUE;\r\n    }\r\n    let onLeave = (event) => {\r\n        event.currentTarget.style.backgroundColor = '';\r\n    }\r\n    let onLeaveMenu = (event) => {\r\n      event.currentTarget.style.backgroundColor = '#FFEB57';\r\n    }\r\n    return (\r\n        <header style={{backgroundColor: '#FFC242', borderBottom:'2px solid #B38118',marginBottom:0}}>\r\n          <table style={style_sheet}>\r\n          <tr style={{width:'100%'}}>\r\n            <th style={{margin:0, borderRight:'1px solid white', backgroundColor:'#FFEB57'}}\r\n                onClick={() => pass(history,\"/subscribe\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeaveMenu}> Menu </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={() => pass(history,\"/viewStoresAndProducts\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> View Stores & Products </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=> pass(history,\"/searchAndFilter\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Search Products </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=> pass(history,\"/sendRequest\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Send Request </th>\r\n            \r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=> pass(history,\"/openStore\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Open Store </th>\r\n            { this.state.manager ? this.getManageStoresHtml() : \"\"}\r\n            { this.state.admin ? this.getAdminWatchPurchaseHistoryHtml() : \"\"}\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=> pass(history,\"/userWatchPurchasesHistory\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> My Purchases </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=>pass(history,\"/viewMyCart\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> My Cart </th>\r\n            <th onClick={()=>this.logout()}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Logout </th>\r\n          </tr>\r\n        </table>\r\n        <Notifications id={this.props.state.id}/>\r\n        </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuSubscribe;\r\n\r\nconst style_sheet = {\r\n  color: \"black\",\r\n  backgroundColor: '#FFC242',\r\n  fontFamily: \"Arial\",\r\n  fontSize: \"14px\",\r\n  width:\"100%\",\r\n  height:'50px',\r\n  padding:0,\r\n}\r\n","import React, {Component} from 'react';\r\nimport history from '../Screen/history'\r\nimport {pass} from '../Utils/Utils'\r\nimport MenuSubscribe from './MenuSubscribe';\r\n\r\nconst WHITE_BLUE= '#B3D1F0'\r\nclass Menu extends Component {\r\n  \r\n  constructor(props){\r\n    super(props)\r\n    this.fromPath = this.props.fromPath\r\n    this.state = { }\r\n  }\r\n  \r\n  renderGuest() {\r\n    let onHover = (event) => {\r\n      event.currentTarget.style.backgroundColor = WHITE_BLUE;\r\n    }\r\n    let onLeave = (event) => {\r\n        event.currentTarget.style.backgroundColor = '';\r\n    }\r\n    return (\r\n        <header style={{backgroundColor: '#FFC242', borderBottom:'2px solid #B38118'}}>\r\n          <title> Trading System </title>\r\n          {/*<p>{(this.props.state!=undefined)?this.props.state.id:''}</p>*/}\r\n          <table style={style_sheet}>\r\n          <tr style={{width:'100%'}}>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={() => pass(history,\"/\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Menu </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={() => pass(history,\"/viewStoresAndProducts\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Watch Store and Products </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=> pass(history,\"/searchAndFilter\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Search and Filter Products </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=>pass(history,\"/register\",this.fromPath,this.props.state)} \r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Register </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=>pass(history,\"/login\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Login </th>\r\n            <th style={{margin:0, borderRight:'1px solid white'}}\r\n                onClick={()=>pass(history,\"/viewMyCart\",this.fromPath,this.props.state)}\r\n                onMouseOver={onHover} onMouseLeave={onLeave}> Watch My Cart </th>\r\n          </tr>\r\n        </table>\r\n        </header>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (this.props.state===undefined)? this.renderGuest():\r\n           (this.props.state.logged===undefined)? this.renderGuest():\r\n            <MenuSubscribe state ={this.props.state}/>\r\n           \r\n  }\r\n}\r\n\r\nexport default Menu;\r\n\r\nconst style_sheet = {\r\n  color: \"black\",\r\n  backgroundColor: '#FFC242',\r\n  fontFamily: \"Arial\",\r\n  width:\"100%\",\r\n  height:'50px',\r\n  padding:0,\r\n  margin:0,\r\n}\r\n","import React, {Component} from \"react\";\r\n\r\nclass Row extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hoverd: false,\r\n    };\r\n  }\r\n\r\n  getStyle() {\r\n    return this.state.hoverd\r\n      ? { backgroundColor: \"#92BAFF\" }\r\n      : { backgroundColor: \"\" };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <tr\r\n        style={this.getStyle()}\r\n        onMouseEnter={() => this.setState({ hoverd: true })}\r\n        onMouseLeave={() => this.setState({ hoverd: false })}\r\n        onClick={this.props.onClick}\r\n      >\r\n        {this.props.children}\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Row;\r\n\r\nconst style_sheet = {\r\n  backgroundColor: \"#F9F9F9\",\r\n  padding: 1,\r\n  width: \"100%\",\r\n  height: \"700px\",\r\n};\r\n","import React, {Component, Image} from 'react';\r\nimport BackGrond from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Row from '../../Component/Row';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport Logo_404 from '../../Assests/404_logo.jpg'\r\nimport logo_store from '../../Assests/store.jpg';\r\nclass GuestIndex extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.pathname = \"/\"\r\n    this.state = {\r\n      id: -1,\r\n      error:'',\r\n      stores:[],\r\n      flag:false,\r\n    };\r\n    this.handleConnect = this.handleConnect.bind(this);\r\n    this.handleGetId = this.handleGetId.bind(this);\r\n    this.buildStores = this.buildStores.bind(this);\r\n    this.create_stores = this.create_stores.bind(this);\r\n  }\r\n\r\n  buildStores(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt === 'Success') {\r\n        this.setState({stores:received.value, flag:true})\r\n      }\r\n      else {\r\n        alert(\"Cant Buy cart see code problem: \"+opt);\r\n      }\r\n    }\r\n  };\r\n\r\n  create_stores() {\r\n    if(this.state.flag===false) {\r\n      send('/store', 'GET', '', this.buildStores)  \r\n    }\r\n  }\r\n\r\n  renderStore(element) {\r\n    let m = (90  / 3);\r\n    return ( <div style={{float:'left', width:m+'%', border:'1px solid black', textAlign:'center', margin:'1%'}}>\r\n                <div style={{float:'left', width:'100%', background:'#3086DB'}}>\r\n                  <p> {element.name} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <p> {element.description} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <img src={logo_store}/>\r\n                </div>\r\n             </div>\r\n    )\r\n  }\r\n\r\n  render_stores_table() {\r\n      this.create_stores();\r\n      let output = [];\r\n      this.state.stores.forEach( element => {\r\n          output.push(\r\n            this.renderStore(element)\r\n          )\r\n        }\r\n      )\r\n      return output;\r\n  }\r\n\r\n  handleConnect(){\r\n    send('/home/connect','GET','',this.handleGetId)\r\n  }\r\n\r\n  handleGetId(received) {\r\n    if(received === null)\r\n      this.props.location.state = {id:-1};\r\n    else {\r\n      let opt = '' + received.reason;\r\n      if (opt !== \"Success\") {\r\n        this.props.location.state = {id:-1};\r\n      } \r\n      else {\r\n        this.props.location.state = {id:received.value};\r\n      }\r\n    }\r\n    this.setState({});\r\n  };\r\n\r\n  render() {\r\n    if(this.props.location.state === undefined)\r\n      this.handleConnect();\r\n    if(this.props.location.state === undefined || this.props.location.state.id==-1)\r\n      return <img src={Logo_404}/>\r\n    return(\r\n      <BackGrond>\r\n          <Menu state={this.props.location.state}/>\r\n          <body>\r\n            <Title title=\"Welcome Guest\"/>\r\n            <div style={{float:'left', width:'100%'}}>\r\n              <h3 style={{textAlign:'center'}}> Stores </h3>\r\n              {this.render_stores_table()}\r\n            </div>\r\n          </body>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GuestIndex;\r\n\r\nconst style_table = {\r\n  \r\n  width:\"99%\", \r\n  textAlign: 'center',\r\n  border: '2px solid black',\r\n  lineHeight:1.5,\r\n  margin:7.5,\r\n}\r\n\r\nconst under_line = {\r\n  borderBottom: '2px solid black'\r\n}\r\n\r\nconst style_p = {\r\n  textAlign: 'center'\r\n}","import React, {Component} from 'react';\r\n\r\nclass Input extends Component {\r\n  \r\n  render() {\r\n    let border = '';\r\n    if(this.props.error!=null) {\r\n      border='2px solid red';\r\n    }\r\n    return (\r\n      <div style={{marginLeft:'30%', marginRight:'30%',padding:5, border:border}}>\r\n        <div style = {{textAlign:'center'}}>\r\n          <label style={{marginLeft:5, marginRight:12}}> {this.props.title} </label>\r\n        </div>\r\n        <div style= {{textAlign:'center'}}>\r\n          <input style={{textAlign:'center'}} type={this.props.type} min={this.props.min} max={this.props.max} value={this.props.value} onChange={this.props.onChange} />\r\n        </div>  \r\n        <div style = {{textAlign:'center'}}>\r\n            {this.props.error != null? (<lable style={style_error}> {this.props.error} </lable>) : ''}  \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Input;\r\n\r\nconst style_error = {\r\n  textAlign: 'center',\r\n  color: \"red\",\r\n  fontFamily: \"Arial\",\r\n  width:\"99%\",\r\n}\r\n","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Input from '../../Component/Input';\r\nimport Button from '../../Component/Button';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass Register extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.handleChangeName = this.handleChangeName.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.state = {\r\n      name: '',\r\n      password: '',\r\n    }\r\n  }\r\n\r\n  handleChangeName(event) {\r\n    this.setState({name: event.target.value});\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    /* hidden password */\r\n    this.setState({password: event.target.value});\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.setState({valid_error:''});\r\n    let promise = (received) => {\r\n      if(received === null) {\r\n        this.setState({valid_error: 'server crashed'});\r\n      }\r\n      else {\r\n        let opt = '' + received.reason;\r\n        if(\"Invalid_Register_Details\".startsWith(opt,0)) {\r\n          this.setState({valid_error: 'name or password isnt valid'});\r\n        }\r\n        else if (\"User_Name_Already_Exist\".startsWith(opt,0)) {\r\n          this.setState({valid_error:'user already exits'});\r\n        }\r\n        else if (\"Hash_Fail\".startsWith(opt,0)) {\r\n          this.setState({valid_error:'system error, invalid data'});\r\n        }\r\n        else if(opt ==='Success'){\r\n          let state = this.props.location.state;\r\n          state['name']= this.state.name;\r\n          pass(this.props.history,'/login',this.pathname, state)  \r\n        }\r\n      }\r\n    }\r\n    let id = this.props.location.state.id;\r\n    let userData = {name:this.state.name, password:this.state.password};\r\n    send('/home/register?id='+id,\"POST\",userData,promise)\r\n    this.setState({click:'true'})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <BackGroud>\r\n          <Menu state={this.props.location.state}/>\r\n          <Title title = 'Want to Register?'/>\r\n          <div>\r\n            <Input title = 'User Name:' error={this.state.valid_error !== undefined? \"\": this.state.valid_error } type=\"text\" value={this.state.name} onChange={this.handleChangeName} />\r\n            <Input title = 'Password:' error={this.state.valid_error} type=\"password\" value={this.state.password} onChange={this.handleChangePassword} />\r\n            <Button text = 'Submit' onClick={this.handleSubmit}/>\r\n          </div>\r\n        </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Input from '../../Component/Input';\r\nimport Button from '../../Component/Button';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass Login extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.handleChangeName = this.handleChangeName.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.state = {\r\n      name: '',\r\n      password: '',\r\n    }\r\n  }\r\n\r\n  handleChangeName(event) {\r\n    this.setState({name: event.target.value});\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    /* hidden password */\r\n    this.setState({password: event.target.value});\r\n  }\r\n\r\n  handleSubmit() {\r\n    //this.setState({server_error:'',valid_error:'',user_error:''});\r\n    let promise = (received) => {\r\n      if(received === null) {\r\n        alert(\"Server Crashed\")\r\n        //this.setState({server_error: 'server crashed'});\r\n      }\r\n      else {\r\n        let opt = '' + received.reason;\r\n\r\n        if(opt ==='Success'){\r\n          let state = this.props.location.state;\r\n          state['name']= this.state.name;\r\n          state['logged']=true;\r\n          pass(this.props.history,'/subscribe',this.pathname, state)\r\n        }\r\n        else {\r\n          if('Invalid_Login_Details'.startsWith(opt,0)) {\r\n            this.setState({valid_error: \"Invalid Name or Password\"});\r\n          }\r\n          else if (\"User_Not_Found\".startsWith(opt,0)) {\r\n            this.setState({valid_error: \"User Not Found\"});\r\n          }\r\n        }\r\n      }\r\n    }\r\n    let id = this.props.location.state.id;\r\n    let userData = {name:this.state.name, password:this.state.password};\r\n    send('/home/login?id='+id,\"POST\",userData,promise)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <BackGroud>\r\n          <Menu state={this.props.location.state}/>\r\n          <Title title = 'Want to Login?'/>\r\n          <div>\r\n            <Input title = 'User Name:' error={this.state.valid_error !== undefined? \"\": this.state.valid_error } type=\"text\" value={this.state.name} onChange={this.handleChangeName} />\r\n            <Input title = 'Password:' error={this.state.valid_error} type=\"password\" value={this.state.password} onChange={this.handleChangePassword} />\r\n            <Button text = 'Submit' onClick={this.handleSubmit}/>\r\n            <Button text=\"cancel\" onClick={() => pass(this.props.history,'/',this.pathname, this.props.location.state)  } />\r\n\r\n          </div>\r\n        </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\n//4.10\r\nclass StoreOwnerWatchHistory extends Component {\r\n\r\n  constructor(purchases) {\r\n    super();\r\n    this.pathname = \"/viewAndReplyRequests\";\r\n    this.buildPurchases=this.buildPurchases.bind(this);\r\n    this.create_Purchases=this.create_Purchases.bind(this);\r\n    this.renderPurchase=this.renderPurchase.bind(this);\r\n    this.state={\r\n      purchases:[],\r\n    }\r\n    this.flag=true;\r\n    this.counter=1;\r\n  }\r\n\r\n  create_Purchases(){\r\n    if(this.flag){\r\n      this.flag=false;\r\n      send('/managers/history/'+this.props.location.state.storeName+'?id='+this.props.location.state.id, 'GET','', this.buildPurchases);\r\n    }\r\n  }\r\n  \r\n  buildPurchases(received){\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt == 'Success') {\r\n        this.setState({purchases:received.value});\r\n      }\r\n      else if(opt == 'Store_Not_Found') {\r\n        alert(\"the store does'nt exist\");\r\n      }\r\n      else if(opt == 'Dont_Have_Permission') {\r\n        alert(\"you don't have permission to watch the store history\");\r\n      }\r\n      else {\r\n        alert(opt+\", Can't present your store purchases\");\r\n      }\r\n    }\r\n  }\r\n\r\n  renderPurchase(){\r\n    let output=[];\r\n    this.state.purchases.forEach(element => {\r\n      let index=element.date.indexOf('T'); \r\n      output.push(\r\n      <table style={style_sheet}>\r\n          <tr>\r\n              {\"purchase \"+this.counter+++\":\"}\r\n              <th>{\"buyer:\"+element.buyer}</th>\r\n              <th>{\"store:\"+element.storeName}</th>\r\n              <th>{\"total price:\"+element.price}</th>\r\n              <th>{\"date:\"+element.date.substring(0,index)}</th>\r\n              <th>{\"hour:\"+element.date.substring(index+1)}</th>\r\n            </tr>\r\n           {this.renderProduct(element.product)}\r\n        </table>\r\n        )\r\n    });\r\n    this.counter=1;\r\n    return output\r\n  }\r\n\r\n  renderProduct(products){\r\n    let output=[];\r\n    products.forEach(pro => {\r\n        output.push(\r\n            <tr>\r\n                <th>{\"product name:\"+pro.productName}</th>\r\n                <th>{\"category:\"+pro.category}</th>\r\n                <th>{\"amount:\"+pro.amount}</th>\r\n                <th>{\"purchase type:\"+pro.purchaseType}</th>\r\n            </tr>\r\n        )\r\n    }); \r\n    return output;\r\n  }\r\n\r\n  render() {\r\n    let onBack= () => {\r\n      pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n    }\r\n    this.create_Purchases();\r\n    return (\r\n      <BackGroud>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title = {this.state.purchases.length===0 ? \"you didn't have sales yet\":'store purchases:'}/> \r\n        {this.renderPurchase()} \r\n        <Button text=\"Back\" onClick={onBack}/>\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoreOwnerWatchHistory;\r\n\r\nconst style_sheet = {\r\n  color: \"black\",\r\n  padding: \"1px\",\r\n  margin: \"10px\",\r\n  lineHeight: 5,\r\n  fontFamily: \"Arial\",\r\n  width:\"80%\",\r\n}\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Button from '../../Component/Button';\r\nimport Input from '../../Component/Input';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport DivBetter from '../../Component/DivBetter';\r\n\r\n\r\nclass UserWatchPurchasesHistory extends Component {\r\n\r\nconstructor(purchases) {\r\n  super();\r\n  this.buildPurchases=this.buildPurchases.bind(this);\r\n  this.create_Purchases=this.create_Purchases.bind(this);\r\n  this.counter=1;\r\n  this.state={\r\n    purchases:[],\r\n  }   \r\n  this.flag=true;\r\n}\r\n\r\n\r\nhandleChangeReview(event,product) {\r\n  product.review= event.target.value;\r\n  this.setState({})\r\n}\r\n\r\nhandleSubmit(event,product) {\r\n  let writer = this.props.location.state.name;\r\n  let rev={\r\n    store:product.store,\r\n    productName:product.productName,\r\n    content:product.review,\r\n    writer:writer,\r\n  }\r\n  send('/home/product/review?id='+this.props.location.state.id, 'POST',rev, this.sendReview);\r\n}\r\n\r\nsendReview(received){\r\nif(received==null)\r\n  alert(\"Server Failed\");\r\n  else {\r\n    let opt = ''+ received.reason;\r\n    if(opt === 'Success') {\r\n      alert(\"review was added successfully\");\r\n    }\r\n    else if(opt==='Invalid_Review') {\r\n      alert(\"Can't send empty review\");\r\n    }\r\n    else if(opt==='Store_Not_Found') {\r\n      alert(\"Store not found\");\r\n    }\r\n    else if(opt==='Cant_Add_Review') {\r\n      alert(\"the product was removed from the store\");\r\n    }\r\n    else {\r\n      alert(opt+\", Can't add your review\");\r\n    }\r\n  }\r\n}\r\n\r\ncreate_Purchases(){\r\n  if(this.flag){\r\n  this.flag=false;\r\n  send('/home/history?id='+this.props.location.state.id, 'GET','', this.buildPurchases);\r\n  }\r\n}\r\n\r\nbuildPurchases(received){\r\n  if(received==null)\r\n    alert(\"Server Failed\");\r\n  else {\r\n    let opt = ''+ received.reason;\r\n    if(opt == 'Success') {\r\n      this.setState({purchases:received.value});\r\n    }\r\n    else {\r\n      alert(opt+\", Can't present your purchases\");\r\n      }\r\n    }\r\n  }\r\n\r\n  renderPurchase(){\r\n  let output=[];\r\n  this.state.purchases.forEach(element => {\r\n      let index=element.date.indexOf('T');\r\n      let onHover = (event) => {\r\n          event.currentTarget.style.backgroundColor = '#92BAFF'\r\n      }\r\n      let onLeave = (event) => {\r\n          event.currentTarget.style.backgroundColor = ''\r\n      } \r\n      output.push(\r\n        <div style={{float:'left', width:'100%', border:'1px solid black'}} \r\n              onMouseOver={onHover} onMouseLeave={onLeave}>\r\n          <div style={{float:'left',width:'100%', backgroundColor:'#9BEBE5'}}>\r\n            <div style={{float:'left',width:'20%', textAlign:'center'}}> \r\n              <p> Buyer: {element.buyer} </p>\r\n            </div>\r\n            <div style={{float:'left',width:'20%', textAlign:'center'}}> \r\n              <p> Store: {element.storeName} </p>\r\n            </div>\r\n            <div style={{float:'left',width:'20%'}}> \r\n              <p> Total Price: {element.price} </p>\r\n            </div>\r\n            <div style={{float:'left',width:'20%'}}> \r\n              <p> Date: {element.date.substring(0,index)} </p>\r\n            </div>\r\n            <div style={{float:'left',width:'20%'}}> \r\n              <p> Hour: {element.date.substring(index+1)} </p>\r\n            </div>\r\n          </div>\r\n          <div style={{float:'left',width:'100%'}}>\r\n            {this.renderProduct(element.product)}\r\n          </div>\r\n        </div>\r\n        )\r\n    });\r\n    this.counter=1;\r\n    return output\r\n  }\r\n\r\n  renderProduct(products){\r\n    let output=[];\r\n    products.forEach(pro => {\r\n      output.push(\r\n        <div style={{float:'left', width:'90%', marginLeft:'5%'}}>\r\n          <div style={{float:'left', width:'25%'}}>\r\n            <p> Product Name: {pro.productName} </p>\r\n          </div>\r\n          <div style={{float:'left', width:'25%'}}>\r\n            <p> Category: {pro.category} </p>\r\n          </div>\r\n          <div style={{float:'left', width:'25%'}}>\r\n            <p> Amount: {pro.amount} </p>\r\n          </div>\r\n          <div style={{float:'left', width:'25%'}}>\r\n            <p> Purchase Type: {pro.purchaseType} </p>\r\n          </div>\r\n          <div style={{float:'left', width:'50%'}}>\r\n            <Input title = 'Review:' type=\"text\" value={pro.review} onChange={(t)=>this.handleChangeReview(t,pro)} />\r\n          </div>\r\n          <div style={{float:'left', width:'50%'}}>\r\n            <Button text = {\"add review\"} onClick={(t)=>this.handleSubmit(t,pro)}/>\r\n          </div>\r\n        </div>)\r\n    }); \r\n  return output;\r\n  }\r\n\r\n  render() {\r\n    this.create_Purchases();\r\n    return (\r\n        <BackGroud>\r\n          <Menu state={this.props.location.state} />\r\n          <Title title ={ this.state.purchases.length===0 ? \"you did'nt make any purchases\":'my purchases:'}/> \r\n          <div>\r\n              {this.renderPurchase()} \r\n          </div>\r\n        </BackGroud>\r\n    );\r\n  }\r\n}\r\nexport default UserWatchPurchasesHistory;\r\n\r\nconst style_sheet = {\r\ncolor: \"black\",\r\npadding: \"1px\",\r\nmargin: \"10px\",\r\nlineHeight: 5,\r\nfontFamily: \"Arial\",\r\nwidth:\"80%\",\r\n}\r\n","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils';\r\nimport Button from \"../../Component/Button\";\r\n\r\nclass ViewStoresAndProducts extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.handleStores = this.handleStores.bind(this);\r\n    this.buildStores = this.buildStores.bind(this);\r\n    this.buildProducts = this.buildProducts.bind(this);\r\n    this.create_products = this.create_products.bind(this);\r\n    this.create_stores = this.create_stores.bind(this);\r\n    this.render_stores_table = this.render_stores_table.bind(this);\r\n    this.render_stores = this.render_stores.bind(this);\r\n    this.render_product_table = this.render_product_table.bind(this);\r\n    this.render_product = this.render_product.bind(this);\r\n    this.renderDiscountAndPolicyButtons = this.renderDiscountAndPolicyButtons.bind(this);\r\n    this.pathname = \"/viewStoresAndProducts\";\r\n    this.state = {\r\n      stores: [],\r\n      stores_updated: false,\r\n      products: [],\r\n      store: \"\",\r\n      showProducts: false,\r\n    };\r\n  }\r\n\r\n  buildStores(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt === 'Success') {\r\n        this.setState({stores:received.value})\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Store\");\r\n      }\r\n    }\r\n  };\r\n\r\n  create_stores() {\r\n    if(this.state.stores_updated===false)\r\n      send('/store', 'GET', '', this.buildStores)  \r\n  }\r\n\r\n  buildProducts(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt === 'Success') {\r\n        this.setState({products:received.value})\r\n      }\r\n      else if(opt === 'Store_Not_Found') {\r\n        alert('Store Not Found. Sorry.')\r\n        this.setState({stores_updated:true})\r\n        this.create_stores();\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Store\");\r\n      }\r\n    }\r\n  };\r\n\r\n  create_products(store) {\r\n    send('/home/product?store='+store, 'GET','', this.buildProducts);  \r\n  }\r\n\r\n  handleStores(event, store) {\r\n    this.setState({\r\n      showProducts: true,\r\n      store: store,\r\n    });\r\n    this.create_products(store);\r\n  }\r\n\r\n  renderStore(element) {\r\n    this.create_stores();\r\n    if(this.state.stores.length===0)\r\n      return <p style={{textAlign:'center'}}> No products in store </p>\r\n    let onHover = (event) => {\r\n        event.currentTarget.style.backgroundColor = '#92BAFF'\r\n    }\r\n    let onLeave = (event) => {\r\n        event.currentTarget.style.backgroundColor = ''\r\n    } \r\n    \r\n    let m = (90  / 3);\r\n    return ( <div style={{float:'left', width:m+'%', border:'1px solid black', textAlign:'center', margin:'1%'}}\r\n                    onMouseOver = {onHover} onMouseLeave = {onLeave}\r\n                    onClick={(e) => this.handleStores(e, element.name)}>\r\n                <div style={{float:'left', width:'100%', background:'#3086DB'}}>\r\n                  <p> {element.name} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <p> {element.description} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <img src={require('../../Assests/store.jpg')}/>\r\n                </div>\r\n             </div>\r\n    )\r\n  }\r\n\r\n  render_stores_table() {\r\n    let stores = this.state.stores;\r\n    let output = [];\r\n    stores.forEach(\r\n      (element) => output.push( this.renderStore(element)\r\n          // <Row onClick={(e) => this.handleStores(e, element.name)}>\r\n          //   <th>{element.name}</th>\r\n          //   <th> {element.description} </th>\r\n          // </Row>\r\n        )\r\n    );\r\n    return output;\r\n  }\r\n\r\n  render_stores() {\r\n    this.create_stores();\r\n    if(this.state.stores.length===0)\r\n      return <p style={{textAlign:'center'}}> No products in store </p>\r\n    return this.render_stores_table();\r\n  }\r\n\r\n  render_product_table() {\r\n    let state = this.props.location.state;\r\n    let onClick = (element) => {\r\n      state['product'] = {\r\n        productName: element.productName,\r\n        storeName: element.storeName,\r\n        category: element.category,\r\n        amount: element.amount,\r\n        price: element.price,\r\n        purchaseType: element.purchaseType,\r\n      };\r\n      pass(this.props.history,'/addToCart',this.pathname,state)\r\n    };\r\n    let products = this.state.products;\r\n    let output = [];\r\n    products.forEach((element) =>\r\n      output.push(\r\n        <Row onClick={()=>onClick(element)}>\r\n          <th> {element.productName} </th>\r\n          <th> {element.category} </th>\r\n          <th> {element.amount} </th>\r\n          <th> {element.price} </th>\r\n          <th> {element.purchaseType} </th>\r\n        </Row>\r\n      )\r\n    );\r\n    return output;\r\n  }\r\n\r\n  renderDiscountAndPolicyButtons(){\r\n    let s = this.props.location.state;\r\n    s[\"storeName\"] = this.state.store;\r\n    let onBackDiscounts = () => pass(this.props.history,\"/viewDiscounts\",this.pathname,s);\r\n    let onBackPolicies = () => pass(this.props.history,'/viewPolicies',this.pathname,s);\r\n    return(\r\n        <table style={style_table}>\r\n          <tr>\r\n            <th>\r\n              <Button text=\"View Store Discounts\" onClick={onBackDiscounts}>\r\n              </Button>\r\n            </th>\r\n            <th>\r\n              <Button text=\"View Store Policies\" onClick={onBackPolicies}>\r\n              </Button>\r\n            </th>\r\n          </tr>\r\n        </table>\r\n    );\r\n  }\r\n\r\n  render_product() {\r\n    return (\r\n      <div style={{float:'left', width:'100%'}}>\r\n        <h3 style={{textAlign: \"center\"}}> Store: {this.state.store}</h3>\r\n        {this.renderDiscountAndPolicyButtons()}\r\n        <table style={style_table}>\r\n          <tr>\r\n            <th style={under_line}> Product Name </th>\r\n            <th style={under_line}> Category </th>\r\n            <th style={under_line}> Amount </th>\r\n            <th style={under_line}> Price </th>\r\n            <th style={under_line}> Purchase Type </th>\r\n          </tr>\r\n          {this.render_product_table()}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n   // if(this.state.id === '') this.setState({id:this.props.location.state.id});\r\n    return (\r\n      <BackGroud>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"Watch Stores And Products\" />\r\n        <div>\r\n          <Title title=\"Stores :\" />\r\n          {this.render_stores()}\r\n          \r\n          {this.state.showProducts ? this.render_product() : \"\"}\r\n        </div>\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewStoresAndProducts;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n  borderBottom: \"2px solid black\",\r\n};\r\n","import React, {Component} from 'react';\r\nimport Button from '.././Component/Button';\r\nimport Title from '.././Component/Title';\r\nimport Row from '.././Component/Row';\r\nimport {pass} from '../Utils/Utils'\r\n\r\nclass Cart extends Component {\r\n  \r\n    constructor(props){\r\n        super(props)\r\n        this.renderTitle = this.renderTitle.bind(this);\r\n        this.renderCart = this.renderCart.bind(this);\r\n        this.renderProduct = this.renderProduct.bind(this);\r\n    }\r\n\r\n\r\n    renderTitle(){\r\n        if(this.props.cart.products.length===0)\r\n        return \"your cart is empty\";\r\n    else\r\n        return \"products in my cart:\"\r\n    }\r\n\r\n    handleBuyCart(){\r\n        this.props.cart.products=[]\r\n        this.setState({})\r\n    }\r\n\r\n  renderCart(){\r\n    let onClick = () => {\r\n        pass(this.props.history,'/buyCart',this.props.pathname,this.props.state)\r\n    }\r\n    let output=[];\r\n    output.push(\r\n        <div>\r\n            <div style={{width:'100%'}}>\r\n                <div style={{float:'left', width:'90%'}}>\r\n                    {/* <h3 style={{textAlign:'center'}}>{\"total price :\"+this.props.cart.priceBeforeDiscount}</h3> */}\r\n                </div>\r\n                <div style={{float:'left', width:'10%'}}>\r\n                    <Button text = \"Buy Cart\" onClick={()=>onClick()}/>\r\n                </div>\r\n            </div>\r\n            <table style={style_sheet}>\r\n                <tr>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>{}</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>product name</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>store</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>category</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>price per unit</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>purchase type</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}>amount</th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}></th>\r\n                    <th style= {{ borderBottom:'1px solid black'}}></th>\r\n                </tr>\r\n                {this.renderProduct(this.props.cart.products)}\r\n            </table>\r\n        </div>\r\n    );\r\n    return output\r\n  }\r\n\r\n  renderProduct(products){\r\n    let output=[];\r\n    products.forEach(pro => {\r\n        output.push(\r\n            <Row>\r\n                <Button text = \"X\" onClick={(t)=>this.props.handleDelete(t,pro)}/>\r\n                <th>{pro.productName}</th>\r\n                <th>{pro.storeName}</th>\r\n                <th>{pro.category}</th>\r\n                <th>{pro.price}</th>\r\n                <th>{pro.purchaseType}</th>\r\n                <th>{pro.amount}</th>\r\n                <th><input type=\"number\" min={1} onChange={(e)=>pro.amount=parseInt(e.target.value)}/></th>\r\n                <Button text = \"Edit\" onClick={(t)=>this.props.handleEdit(t,pro,pro.amount)}/>\r\n            </Row>\r\n        )\r\n    }); \r\n    return output;\r\n  }\r\n\r\n\r\n  render() {\r\n    return ( \r\n        <div>\r\n            <Title title = {this.renderTitle()}/>\r\n            {this.renderCart()}\r\n        </div>      \r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;\r\n\r\nconst style_sheet = {\r\n    color: \"black\",\r\n    padding: \"1px\",\r\n    margin: \"10px\",\r\n    lineHeight: 5,\r\n    fontFamily: \"Arial\",\r\n    border:'1px solid black',\r\n    width:\"99%\",\r\n  }","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Cart from '../../Component/Cart';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\n\r\n//2.7.1+2.7.2+2.7.3\r\nclass ViewProductsInCart extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.getCart = this.getCart.bind(this);\r\n    this.getPromise = this.getPromise.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.renderDelete = this.renderDelete.bind(this);\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n    this.promiseEdit = this.promiseEdit.bind(this);\r\n    this.state = {\r\n      cart:{ priceBeforeDiscount: 0,\r\n             products: [],}, \r\n             cartPrice:0,\r\n    }\r\n    this.pathname = '/viewMyCart';\r\n    this.getCart();\r\n  }\r\n\r\n  getPromise(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = \"\"+ received.reason;\r\n      if(opt !== 'Success') {\r\n        alert(\"Cant revcive cart\");\r\n      }\r\n      else {\r\n        this.setState({cart:received.value, \r\n          cartPrice:received.value.priceBeforeDiscount});\r\n      }\r\n    }\r\n  }\r\n\r\n  getCart() {\r\n    let id = this.props.location.state.id;\r\n    send('/home/cart?id='+id, 'GET', '', this.getPromise)\r\n  }\r\n\r\n  handleDelete(event,product) {\r\n    let id = this.props.location.state.id;\r\n    let productStr = {productName: product.productName,storeName: product.storeName, amount: product.amount};\r\n\r\n    send('/home/cart/delete?id='+id,'POST',productStr,(received) =>{\r\n      this.renderDelete(received,product)\r\n    });\r\n  }\r\n\r\n  renderDelete(received, product){\r\n    if(received && received.value){\r\n      let index=this.state.cart.products.indexOf(product);\r\n      if(index!==-1){\r\n        this.state.cart.products.splice(index,1);\r\n      }\r\n      this.getCart();\r\n      alert(\"Product Deleted\")\r\n    }\r\n    else{\r\n      alert(\"Invalid Product!\")\r\n    }\r\n  }\r\n\r\n  /* the function responseble for editing a product in my cart */\r\n  handleEdit(event, product, newAmount) {\r\n    let id = this.props.location.state.id;\r\n    let productStr = {productName: product.productName,storeName: product.storeName, amount: newAmount};\r\n\r\n    send('/home/cart/edit?id='+id, 'POST', productStr, this.promiseEdit);\r\n  }\r\n\r\n  /* the function responseble for the promise from of edit*/\r\n  promiseEdit(received) {\r\n    console.log(received);\r\n    if(received==null) {\r\n      alert('Server Crashed')\r\n    }\r\n    else {\r\n      let opcode = ''+received.reason;\r\n      if(opcode === 'Success') {\r\n        alert('Edit Product Amount Successfully');\r\n        this.getCart();\r\n      }\r\n      else {\r\n        alert('Cant Edit Product. Please try again.')\r\n      }\r\n    }\r\n  } \r\n  \r\n\r\n  render() {\r\n    return (\r\n      <BackGroud>\r\n        <Menu state={this.props.location.state}/>\r\n        <Cart cart={this.state.cart} history={this.props.history} \r\n              state={this.props.location.state} pathname={this.pathname} \r\n              cartPrice ={this.state.cartPrice}\r\n              handleDelete={this.handleDelete}\r\n              handleEdit={this.handleEdit}/>\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewProductsInCart;","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils';\r\n\r\nclass AddProductToCart extends Component {\r\n\r\n  /**\r\n   * constructor\r\n   * @param props\r\n   */\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChangedAmount = this.handleChangedAmount.bind(this);\r\n    this.handleAdd = this.handleAdd.bind(this);\r\n    this.addPromise = this.addPromise.bind(this);\r\n    this.state = {\r\n      product: this.props.location.state.product,\r\n      amount: 1,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * print the details about the product to add to cart\r\n   */\r\n  renderProducts() {\r\n    let product = this.state.product;\r\n    return (this.state.product === undefined)?\r\n    ( <h3> Didn't selected product </h3> ) :\r\n    ( <table style={style_table}>\r\n        <tr>\r\n          <th style = {under_line}> Product Name </th>\r\n          <th style = {under_line}> Store Name </th>\r\n          <th style = {under_line}> Category </th>\r\n          <th style = {under_line}> Amount </th>\r\n          <th style = {under_line}> Price </th>\r\n          <th style = {under_line}> Purchase Type </th>\r\n        </tr>\r\n        {}\r\n        <tr>\r\n          <th> {product.productName} </th>\r\n          <th> {product.storeName} </th>\r\n          <th> {product.category} </th>\r\n          <th> {product.amount} </th>\r\n          <th> {product.price} </th>\r\n          <th> {product.purchaseType} </th>\r\n        </tr>\r\n      </table>\r\n      );\r\n  }\r\n\r\n  addPromise(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt == 'Not_Found') {\r\n        alert(\"Product dosen't in the store any more. Went to menu\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state);\r\n      }\r\n      else if(opt == 'Invalid_Product') {\r\n        alert(\"Product is already in your cart, if you wasn't to add more please edit your cart. Went to menu\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state);\r\n      }\r\n      else if(opt == 'Store_Not_Found') {\r\n        alert(\"the store isn't exiist please try with a different store. Went to menu\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state);\r\n      }\r\n      else if(opt == 'Success') {\r\n        alert(\"Product Added to Cart.\");\r\n        pass(this.props.history,'/viewMyCart',this.pathname,this.props.location.state);\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Cart\");\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAdd() {\r\n    if(this.state.amount > this.state.product.amount){\r\n      alert(\"wrong amont selected\");\r\n    }\r\n    else {\r\n      let msg = { productName:this.state.product.productName , \r\n                  storeName:this.state.product.storeName ,\r\n                  amount:this.state.amount};\r\n      let id = this.props.location.state.id;\r\n      send('/home/cart?id='+id, 'POST', msg, this.addPromise) \r\n    }\r\n  }\r\n\r\n  handleChangedAmount(event) {\r\n    this.setState({amount: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackGroud>\r\n        <Menu state={this.props.location.state}/>\r\n        <body>\r\n          <Title title=\"Add product to cart\" />\r\n          {this.renderProducts()}\r\n          <Input\r\n            title=\"Choose amount to cart:\"\r\n            type=\"number\"\r\n            min={1}\r\n            value={this.state.amount}\r\n            onChange={this.handleChangedAmount}\r\n          />\r\n          <div>\r\n            <Button text=\"add\" onClick={this.handleAdd}/>\r\n          </div>\r\n        </body>\r\n        <Button text=\"back\" onClick={() => pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state)} />\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddProductToCart;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n  borderBottom: '2px solid black'\r\n}","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from \"../../Component/Title\";\r\nimport Row from '../../Component/Row';\r\nimport Button from '../../Component/Button';\r\nimport DivBetter from '../../Component/DivBetter'\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils';\r\n\r\n//4.1.2\r\nclass ViewDeleteProductsInStore extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.getProducts = this.getProducts.bind(this);\r\n    this.deleteProduct = this.deleteProduct.bind(this);\r\n    this.state = {\r\n      products:[],\r\n      updated_products:false,\r\n      productName: undefined,\r\n      category: '',\r\n      amount: 0,\r\n      price: 0,\r\n      reviews: [],\r\n      purchase: '',\r\n    }\r\n    this.store=\"hanut\";\r\n  }\r\n\r\n  /*this function gets the products from store */\r\n  getProducts() {\r\n    let buildProducts = (received) => {\r\n      if(received===null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+ received.reason;\r\n        if(opt === 'Success') {\r\n          console.log(received.value);\r\n          this.setState({products:received.value, updated_products:true})\r\n        }\r\n        else if(opt === 'Store_Not_Found') {\r\n          alert('Store Not Found. Soryy.')\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n        else {\r\n          alert(\"Cant Access products\");\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n      }\r\n    }\r\n    if(this.state.updated_products === false) {\r\n      send('/home/product?store='+this.props.location.state.storeName, 'GET','', buildProducts);  \r\n    }\r\n  }\r\n  /* the function print the product table */\r\n  render_product_table() {\r\n    let onClick = (element) => {\r\n      console.log(\"Reviews\");\r\n      console.log(element.reviews);\r\n      this.setState({\r\n        productName: element.productName,\r\n        category: element.category,\r\n        amount: element.amount,\r\n        price: element.price,\r\n        purchase: element.purchaseType,\r\n        reviews: element.reviews,\r\n      });\r\n    };\r\n    let proudcts = this.state.products;\r\n    let output = [];\r\n    proudcts.forEach((element) =>\r\n      output.push(\r\n        <Row onClick={()=>onClick(element)}>\r\n          <th> {element.productName} </th>\r\n          <th> {element.category} </th>\r\n          <th> {element.amount} </th>\r\n          <th> {element.price} </th>\r\n          <th> {element.purchaseType} </th>\r\n        </Row>\r\n      )\r\n    );\r\n    return output;\r\n  }\r\n\r\n  render_product() {\r\n    this.getProducts();\r\n    return (\r\n      <div>\r\n        <h3>{this.state.store}</h3>\r\n        <table style={style_table}>\r\n          <tr>\r\n            <th style={under_line}> Product Name </th>\r\n            <th style={under_line}> Category </th>\r\n            <th style={under_line}> Amount </th>\r\n            <th style={under_line}> Price </th>\r\n            <th style={under_line}> Purchase Type </th>\r\n          </tr>\r\n          {this.render_product_table()}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  deleteProduct() {\r\n    let promise = (received) => {\r\n      if(received===null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+received.reason;\r\n        if (opt == \"Invalid_Product\") {\r\n          alert(\"The product data isnt valid.\");\r\n          pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state);\r\n        } \r\n        else if(opt == 'Store_Not_Found') {\r\n          alert(\"Store doesn't Exits. Go back to main menu\");\r\n          pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state);\r\n        }\r\n        else if(opt ==\"Dont_Have_Permission\") {\r\n          alert(\"User Doesnt have premission for that. By By\");\r\n          pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state)\r\n        }\r\n        else if(opt == \"Success\") {\r\n          alert(\"Product Deleted\");\r\n          this.setState({\r\n            productName:undefined,\r\n            category:'',\r\n            amount: 1,\r\n            price: 1,\r\n            updated_products:false,\r\n          })\r\n        }\r\n        else {\r\n          alert(\" Cant Delete product. Try again later to Store\");\r\n          pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state)\r\n        }\r\n      }\r\n    }\r\n    let msg ={};\r\n    msg['productName']=this.state.productName;\r\n    msg['storeName']=this.props.location.state.storeName;\r\n    msg['category']=this.state.category;\r\n    msg['amount'] = this.state.amount;\r\n    msg['price'] = this.state.price;\r\n    msg['purchaseType'] = this.state.purchase;\r\n    let id = this.props.location.state.id;\r\n    send('/home/product/delete?id='+id,'POST', msg, promise)\r\n  }\r\n\r\n  render_reviews() {\r\n    if(this.state.reviews.length===0)\r\n      return <p style={{textAlign:'center'}}> Didnt have reviews yet</p>\r\n    let output = [];\r\n    this.state.reviews.forEach(element => {\r\n      output.push(\r\n        <DivBetter>\r\n          <div>\r\n            <div style={{float:'left', width:'30%'}}>\r\n              <p style={{textAlign:'center'}}> Writer: {element.writer} </p>\r\n            </div>\r\n            <div style={{float:'left', width:'69%'}}>\r\n              <p style={{textAlign:'center'}}> {element.content} </p>\r\n            </div>\r\n          </div>\r\n        </DivBetter>\r\n      )\r\n    });\r\n    return output;\r\n     \r\n  }\r\n\r\n  render_selected_product() {\r\n    if(this.state.productName===undefined)\r\n      return ''\r\n    //finish\r\n    return (\r\n      <div>\r\n          <div style={{margin:2 ,width:'30%', float:'left', padding:0, border:\"2px solid #89CCC1\"}}>\r\n            <h2 style={{textAlign:'center', backgroundColor:'#89CCC1', marginTop:0}}> \r\n                {this.state.productName} </h2>\r\n            <p style={{textAlign:'center'}}> Category: {this.state.category} </p>\r\n            <p style={{textAlign:'center'}}> Amount: {this.state.amount} </p>\r\n            <p style={{textAlign:'center'}}> Price: {this.state.price} </p>\r\n            <p style={{textAlign:'center'}}> purchaseType: {this.state.purchaseType} </p>\r\n            <Button text=\"Delete\" onClick={this.deleteProduct}/>\r\n          </div>\r\n          <div style={{width:'67.5%', float:'left'}}>\r\n            <h2 style={{textAlign:'center', marginTop:0}}> Reviews </h2>\r\n            {this.render_reviews()}\r\n          </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackGroud>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"View Products In Store\"/>\r\n        <h2 style={{textAlign:'center'}}>{this.props.location.state.storeName}</h2>\r\n        {this.render_product()}\r\n        {this.render_selected_product()}\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewDeleteProductsInStore;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n  borderBottom: \"2px solid black\",\r\n};\r\n","import React, {Component} from 'react';\r\n\r\nclass TextArea extends Component {\r\n\r\n    render() {\r\n        let border = '';\r\n        let error_msg = '';\r\n        if(this.props.error!=null) {\r\n            border='2px solid red';\r\n        }\r\n        return (\r\n            <div style={{marginLeft:'30%', marginRight:'30%',padding:5, border:border}}>\r\n                <div style = {{textAlign:'center'}}>\r\n                    <label style={{marginLeft:5, marginRight:12}}> {this.props.title} </label>\r\n                </div>\r\n                <div style= {{textAlign:'center'}}>\r\n                    <textarea style={{textAlign: 'left'}} rows={this.props.rows} cols={this.props.cols} value={this.props.value} onChange={this.props.onChange}/>\r\n                </div>\r\n                <div style = {{textAlign:'center'}}>\r\n                    {this.props.error != null? (<lable style={style_error}> {this.props.error} </lable>) : ''}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default TextArea;\r\n\r\nconst style_error = {\r\n    textAlign: 'center',\r\n    color: \"red\",\r\n    fontFamily: \"Arial\",\r\n    width:\"99%\",\r\n}\r\n","import React, {Component} from 'react';\r\nimport BackGroud from '../../Component/BackGrond';\r\nimport Menu from '../../Component/Menu';\r\nimport Title from '../../Component/Title';\r\nimport Button from '../../Component/Button';\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils';\r\nimport TextArea from \"../../Component/TextArea\";\r\n\r\nclass SendRequestToStore extends Component {\r\n \r\n    constructor() {\r\n        super();\r\n        this.handleStores = this.handleStores.bind(this);\r\n        this.handleRequest = this.handleRequest.bind(this);\r\n        this.buildStores = this.buildStores.bind(this);\r\n        this.create_stores = this.create_stores.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.sendRequesPromise = this.sendRequesPromise.bind(this);\r\n        this.state = {\r\n            stores: [],\r\n            name: '',\r\n            store: '',\r\n            addRequest: false,\r\n        };\r\n    }\r\n\r\n    buildStores(received) {\r\n        if(received==null)\r\n          alert(\"Server Failed\");\r\n        else {\r\n          let opt = ''+ received.reason;\r\n          if(opt == 'Success') {\r\n            this.setState({stores:received.value})\r\n          }\r\n          else {\r\n            alert(opt+\", Cant Add Product to Store\");\r\n          }\r\n        }\r\n      };\r\n    \r\n    create_stores() {\r\n        send('/store', 'GET', '', this.buildStores)  \r\n    }\r\n\r\n    handleStores(event, store) {\r\n        this.setState({\r\n          name: event.target.value,\r\n          addRequest: true,\r\n          store: store,\r\n        });\r\n    }\r\n    \r\n    getStoreSelected() {\r\n        var store_value;\r\n        for (var i = 0; i < this.state.stores.length; i++) {\r\n          if (this.state.stores[i].checked) {\r\n            store_value = this.state.stores[i].value;\r\n          }\r\n          return store_value;\r\n        }\r\n    }\r\n\r\n    render_stores_table() {\r\n        let stores = this.state.stores;\r\n        let output = [];\r\n        let i = 0;\r\n        stores.forEach(\r\n            (element) =>\r\n            output.push(\r\n                <Row onClick={(e) => this.handleStores(e, element.name)}>\r\n                    <th>{element.name}</th>\r\n                    <th> {element.description} </th>\r\n                </Row>\r\n            ),\r\n            (i = i + 1)\r\n        );\r\n        return output;\r\n    }\r\n\r\n    render_stores() {\r\n    return (\r\n        <table style={style_table}>\r\n        <tr>\r\n            <th style={under_line}> Store Name </th>\r\n            <th style={under_line}> Description </th>\r\n        </tr>\r\n        {this.render_stores_table()}\r\n        </table>\r\n        );\r\n    }\r\n\r\n    handleRequest(event) {\r\n        this.setState({request: event.target.value});\r\n    }\r\n    \r\n    sendRequesPromise(received) {\r\n        if(received==null)\r\n          alert(\"Server Failed\");\r\n        else {\r\n          let opt = ''+ received.reason;\r\n          if(opt === 'Null_Request') {\r\n            alert(\"Request is Null\");\r\n          }\r\n          else if(opt === 'Invalid_Request') {\r\n            alert(\"Request is Not Valid\");\r\n          }\r\n          else if(opt === 'Success') {\r\n            alert(\"Request Added. Thank You\");\r\n            pass(this.props.history,'/subscribe',this.pathname,this.props.location.state);\r\n          }\r\n          else {\r\n            alert(opt+\", Cant Add Review to Store\");\r\n          }\r\n        }\r\n    }\r\n\r\n    handleSubmit() {\r\n        let msg = {storeName:this.state.store, content:this.state.request};\r\n        let id = this.props.location.state.id;\r\n        send('/store/request?id='+id, 'POST', msg, this.sendRequesPromise)  \r\n    }\r\n\r\n    render_request() {\r\n        return (this.state.addRequest === false) ? \"\" : (\r\n            <div>\r\n                <h3>{this.state.store}</h3>\r\n                <table style={style_table}>\r\n                    <tr>\r\n                        <th> Write the request: </th>\r\n                        <th><TextArea title='Request:' rows={4} cols={50} value={this.state.request} onChange={this.handleRequest} /></th>\r\n                        <th><Button text='Submit' onClick={this.handleSubmit}/></th>\r\n                    </tr>\r\n                </table>\r\n                <Button text='cancel' onClick={()=>this.setState({addRequest: false})}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        this.create_stores();\r\n        return (\r\n            <BackGroud>\r\n                 <Menu state={this.props.location.state} />\r\n                <div>\r\n                    <Title title='Stores:' />\r\n                    <div>\r\n                        {this.render_stores()}\r\n                        <h5>\r\n                            To add a request to the store - choose a store and press on it.\r\n                        </h5>\r\n                    </div>\r\n                    {this.render_request()}\r\n                </div>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default SendRequestToStore;\r\n\r\nconst style_sheet = {\r\n    color: \"black\",\r\n    backgroundColor: \"#FFC242\",\r\n    fontFamily: \"Arial\",\r\n    width: \"100%\",\r\n    height: \"50px\",\r\n    borderBottom: \"2px solid #B38118\",\r\n};\r\n\r\nconst style_table = {\r\n    width: \"99%\",\r\n    textAlign: \"center\",\r\n    border: \"2px solid black\",\r\n};\r\n  \r\n  const under_line = {\r\n    borderBottom: \"2px solid black\",\r\n};","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass OpenStore extends Component {\r\n  constructor() {\r\n    super();\r\n    this.handleChangeName = this.handleChangeName.bind(this);\r\n    this.handleChangeDescription = this.handleChangeDescription.bind(this);\r\n    this.storeOpenPromise = this.storeOpenPromise.bind(this);\r\n    this.pathname = \"/openStore\";\r\n    this.state = {\r\n      storeName: \"\",\r\n      storeDescription: \"\",\r\n    };\r\n  }\r\n\r\n  handleChangeName(event) {\r\n    this.setState({ storeName: event.target.value });\r\n  }\r\n\r\n  handleChangeDescription(event) {\r\n    this.setState({ storeDescription: event.target.value });\r\n  }\r\n\r\n  handleOpen(event) {\r\n    let msg = {name:this.state.storeName, description:this.state.storeDescription};\r\n    let id = this.props.location.state.id;\r\n    send('/store?id='+id,'POST',msg,this.storeOpenPromise)\r\n  }\r\n\r\n  storeOpenPromise(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if (opt == \"Invalid_Store_Details\") {\r\n        alert(\"Invalid Store Details\");\r\n      } \r\n      else if(opt == 'Store_Not_Found') {\r\n        alert(\"Store Already Exites\");\r\n      }\r\n      else if(opt ==\"Store_Doesnt_Exist\") {\r\n        alert(\"Server Broken\");\r\n      }\r\n      else if(opt == 'Success') {\r\n        let str = \"Congratulation! The store \" + this.state.storeName \r\n                  + \" open.\\nYou are the owner, enjoy!\";\r\n        alert(str);\r\n        let state = this.props.location.state;\r\n        state['storeName'] = this.state.storeName;\r\n        pass(this.props.history,'/manageProducts',this.pathname,state)\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Open Store\");\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let onBack= () => {\r\n      pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n    }\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"Open Store\" />\r\n        <div>\r\n          <Input title=\"Store Name:\" type=\"text\"\r\n            value={this.state.storeName}\r\n            onChange={this.handleChangeName}/>\r\n          <InputBig title=\"Description: \" type=\"text\"\r\n            value={this.state.storeDescription}\r\n            onChange={this.handleChangeDescription}/>\r\n          <Button text=\"Open\" onClick={(e) => this.handleOpen(e)}></Button>\r\n          <Button text=\"Back\" onClick={onBack}/>\r\n        </div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\nexport default OpenStore;\r\n\r\nclass InputBig extends Input {\r\n  render() {\r\n    return (\r\n      <div style={{ marginLeft: \"30%\", marginRight: \"30%\", padding: 15 }}>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <label style={{ marginLeft: 5, marginRight: 12 }}>\r\n            {\" \"}\r\n            {this.props.title}{\" \"}\r\n          </label>\r\n        </div>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <input\r\n            type={this.props.type}\r\n            value={this.props.value}\r\n            onChange={this.props.onChange}\r\n            size={40}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from '../../Component/Menu';\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from '../../Component/Button';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass ManageProductInStore extends Component {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/manageProducts\";\r\n    this.addClick = this.addClick.bind(this);\r\n    this.addProductPromise = this.addProductPromise.bind(this);\r\n    this.state = {\r\n      name:'',\r\n      category:'',\r\n      amount: 1,\r\n      price: 1,\r\n      purchase: 'IMMEDDIATE',\r\n    }\r\n  }\r\n\r\n  addClick() {\r\n    let msg ={};\r\n    msg['productName']=this.state.name;\r\n    msg['storeName']=this.props.location.state.storeName;\r\n    msg['category']=this.state.category;\r\n    msg['amount'] = this.state.amount;\r\n    msg['price'] = this.state.price;\r\n    msg['purchaseType'] = this.state.purchase;\r\n    let id = this.props.location.state.id;\r\n    send('/home/product?id='+id,'POST',msg,this.addProductPromise)\r\n  }\r\n\r\n  addProductPromise(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if (opt == \"Invalid_Product\") {\r\n        alert(\"The product data isnt valid. please insert again\");\r\n      } \r\n      else if(opt == 'Store_Not_Found') {\r\n        alert(\"Store doesn't Exits. Go back to main menu\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state)\r\n      }\r\n      else if(opt ==\"Dont_Have_Permission\") {\r\n        alert(\"User Doesnt have premission for that. By By\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state)\r\n      }\r\n      else if(opt =='Already_Exists') {\r\n        alert(\"Product Already Exits, Please insert Again\");\r\n        this.setState({name:''});\r\n      }\r\n      else if(opt == 'Success') {\r\n        alert(\"Product Added. Go to Store mangment\");\r\n        pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state)\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Store\");\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title={\"Add Product To Store:\"}/>\r\n        <h2 style={{textAlign:'center'}}>{this.props.location.state.storeName}</h2>\r\n        <Input type=\"text\" title = 'Product Name:' value={this.state.name} \r\n              onChange={(e)=>{this.setState({name:e.target.value})}} />\r\n        <Input type=\"text\" title = 'Category:' value={this.state.category} \r\n              onChange={(e)=>{this.setState({category:e.target.value})}} />\r\n        <Input type=\"number\" min={1} title = 'Amount:' value={this.state.amount} \r\n              onChange={(e)=>{this.setState({amount:e.target.value})}} />\r\n        <Input type=\"number\" min={1} title = 'Price' value={this.state.price} \r\n              onChange={(e)=>{this.setState({price:e.target.value})}} />\r\n        <Input type=\"text\" title = 'Purchase Type:' value={this.state.purchase} \r\n              onChange={()=>{}} />\r\n        <Button text='Add' onClick={this.addClick}/>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageProductInStore;\r\n","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from '../../Component/Menu';\r\nimport Title from \"../../Component/Title\";\r\nimport Button from '../../Component/Button';\r\nimport DivBetter from '../../Component/DivBetter'\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nconst CLASS_AND = 'Domain.Discount.AndDiscount'; \r\nconst CLASS_OR = 'Domain.Discount.OrDiscount';\r\nconst CLASS_XOR = 'Domain.Discount.XorDiscount';\r\nconst CLASS_STORE = 'Domain.Discount.StoreDiscount';\r\nconst CLASS_SIMPLE = 'Domain.Discount.RegularDiscount';\r\nconst CLASS_BASIC_TERM = 'Domain.Discount.Term.BaseTerm';\r\nconst CLASS_AND_TERM = 'Domain.Discount.Term.AndTerm';\r\nconst CLASS_OR_TERM = 'Domain.Discount.Term.OrTerm';\r\nconst CLASS_XOR_TERM = 'Domain.Discount.Term.XorTerm';\r\nconst CLASS_TERM = 'Domain.Discount.ProductTermDiscount';\r\nconst MAX_HEIGHT = 1000;\r\n  \r\nclass ManageDiscount extends Component {\r\n  \r\n  constructor() {\r\n    super();\r\n    this.storeDiscounts = [];\r\n    this.simpleDiscounts = [];\r\n    this.selectedDiscounts = [];\r\n    this.comlicatedDiscounts = [];\r\n    this.termDiscounts = [];\r\n    this.selectedProductsTerms = [];\r\n    this.targetProductTerm = undefined;\r\n    this.pathname = \"/manageDiscount\";\r\n    this.state = {\r\n      products: [],\r\n      store_amount:1,\r\n      store_precentag:1,\r\n      chosenDiscount:undefined,\r\n      selectedProduct:undefined,\r\n      selectedProductSimpleDiscount:undefined,\r\n      simple_precentag:1,\r\n      selectedProudctTerm:undefined,\r\n      target_amount:1,\r\n    };\r\n    this.renderProducts = this.renderProducts.bind(this);\r\n  }\r\n\r\n  /* this function add discount to store discount list */\r\n  addStoreDiscount(){\r\n    let data = {minAmount:this.state.store_amount, percentage:this.state.store_precentag}\r\n    if(data.percentage <= 100 && data.minAmount>0) {\r\n      this.storeDiscounts.push({CLASSNAME: CLASS_STORE, DATA:data})\r\n      this.setState({})\r\n    }\r\n  }  \r\n\r\n  /* this function add discount to selected list */\r\n  addDiscountToSelectedDiscounts(discount){\r\n    this.selectedDiscounts.push(discount);\r\n    this.setState({});\r\n  }\r\n\r\n  /* this function render the store discount list */\r\n  renderStoreDiscontList(){\r\n    if(this.storeDiscounts.length===0)\r\n      return\r\n    let output = [<h2 style={titleStyle}> Discounts </h2>];\r\n    let deleteClick= (elemnt)=> {\r\n      this.storeDiscounts.splice(this.storeDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let comlicatedClick= (elemnt)=>{\r\n      this.addDiscountToSelectedDiscounts(elemnt); \r\n      this.storeDiscounts.splice(this.storeDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let selectClick = (elment)=> {\r\n      this.storeDiscounts.splice(this.storeDiscounts.indexOf(elment),1);\r\n      this.setState({chosenDiscount:elment});\r\n    }\r\n    this.storeDiscounts.forEach(elemnt => {\r\n      output.push(\r\n        <div style={{borderBottom:'1px solid black', textAlign:'center'}}>\r\n          <table style={{width:\"100%\"}}>\r\n            <DivBetter>\r\n              <p style={{backgroundColor:'#FFC242', height:30, marginTop:0}}> Discont</p>\r\n              <p style={{margin:2}}> Amount: {elemnt.DATA.minAmount} </p>\r\n              <p style={{margin:4}}> Precentage: {elemnt.DATA.percentage} % </p>\r\n            </DivBetter>\r\n          </table>\r\n          <Triple selectClick={()=>selectClick(elemnt)} \r\n                  comlicatedClick={()=>comlicatedClick(elemnt)} \r\n                  deleteClick={()=>deleteClick(elemnt)}/>\r\n        </div>    \r\n      )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  /* this function render the store discount section */\r\n  renderStoreDiscount(width) {\r\n    return (\r\n      <div style={{float: 'left', width:width, borderLeft: '1px solid black',height:MAX_HEIGHT}}>\r\n              <h2 style={titleStyle}> Store Discount </h2>\r\n              <div>\r\n                <SmallInput title = 'Minmum Price:' type=\"number\" min={0} value={this.state.store_amount} \r\n                    onChange={(e)=>{this.setState({store_amount:e.target.value})}} />\r\n                <SmallInput title = 'Discount Precentage:' type=\"number\" min={0} max={100} value={this.state.store_precentag} \r\n                    onChange={(e)=>{this.setState({store_precentag:e.target.value})}} />\r\n                <Button text='Add' onClick={()=>this.addStoreDiscount()}/>\r\n              </div>\r\n              <div> \r\n                {this.renderStoreDiscontList()}\r\n              </div>         \r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderSelectedProductPicked(){\r\n    let element = this.state.selectedProduct;\r\n    return (element===undefined)? '':\r\n    (\r\n      <DivBetter style={{borderBottom:'1px solid black', textAlign:\"center\", marginTop:0}}>\r\n        <h3 style={{marginTop:0, borderBottom:'1px solid black',backgroundColor:'#FFC242'}}> {element.productName} </h3>\r\n        <p> Price: {element.price} $ </p>\r\n        <p> Category: {element.category} </p>\r\n        <p> Type: {element.purchaseType} </p>\r\n      </DivBetter>\r\n    ) \r\n  }\r\n\r\n  /* */\r\n\r\n  /*the function print the selected product and move him to Simple Discount or Term Discount */\r\n  renderSelectedProduct(width) {\r\n      let onClickSimple = () => {\r\n        this.setState({ selectedProduct:undefined,\r\n          selectedProductSimpleDiscount:this.state.selectedProduct,})\r\n      }\r\n      let onClickTerm = () => {\r\n        this.setState({\r\n          selectedProduct:undefined,\r\n          selectedProudctTerm:this.state.selectedProduct,\r\n          })\r\n      }\r\n      return (\r\n        <div>\r\n          <h2 style={titleStyle}> Selected Product </h2>\r\n          <div style={{padding:4}}>\r\n            {this.renderSelectedProductPicked()}\r\n            <div style={{float:'left',width:'50%'}}> \r\n              <Button text=\"Select as Simple Discount\" onClick={onClickSimple}/>\r\n            </div>\r\n            <div style={{float:'left',width:'50%'}}> \r\n              <Button text=\"Select as Term Product\" onClick={onClickTerm} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n\r\n\r\n  /* the function render simple discount selection */\r\n  renderSimpleDiscontSelection() {\r\n    let onSelect = () => {\r\n      let data = {};\r\n      let pName = this.state.selectedProductSimpleDiscount.productName;\r\n      data[\"CLASSNAME\"]=CLASS_SIMPLE;\r\n      data[\"DATA\"] = {product:pName,percantage:this.state.simple_precentag};\r\n      this.simpleDiscounts.push(data);\r\n      this.setState({selectedProductSimpleDiscount:undefined});\r\n    }\r\n    if(this.state.selectedProductSimpleDiscount===undefined)\r\n      return (<p style={{textAlign:'center'}}> No product Selected </p>)\r\n    return (\r\n      <div>\r\n        {this.renderProduct(this.state.selectedProductSimpleDiscount,onSelect)}\r\n        <SmallInput title = 'Discount Prcentage:' type=\"number\" min={0} max={100} value={this.state.simple_precentag} \r\n              onChange={(e)=>{this.setState({simple_precentag:e.target.value})}} />\r\n        <Button text=\"Select\" onClick={onSelect}/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderSimpleDiscountList() {\r\n    if(this.simpleDiscounts.length===0)\r\n      return\r\n    let deleteClick = (elemnt)=>{\r\n      this.simpleDiscounts.splice(this.simpleDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let comlicatedClick= (elemnt)=>{\r\n      this.addDiscountToSelectedDiscounts(elemnt); \r\n      this.simpleDiscounts.splice(this.simpleDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let selectClick = (elemnt)=> {\r\n      this.simpleDiscounts.splice(this.simpleDiscounts.indexOf(elemnt),1);\r\n      this.setState({chosenDiscount:elemnt});\r\n    }\r\n    let output = [<h4 style={titleStyle}>Discounts </h4>];\r\n    this.simpleDiscounts.forEach(elemnt => {\r\n      output.push(\r\n        <DivBetter>\r\n          <p style={{backgroundColor:'lightgreen', marginTop:0}}> Simple Discount </p>\r\n          <p style={{textAlign:'center'}}>Product: {elemnt.DATA.product} </p>\r\n          <p style={{textAlign:'center'}}>Precentage: {elemnt.DATA.percantage} % </p>\r\n          <Triple selectClick={()=>selectClick(elemnt)} \r\n                  comlicatedClick={()=>comlicatedClick(elemnt)} \r\n                  deleteClick={()=>deleteClick(elemnt)}/>\r\n        </DivBetter>);\r\n    });\r\n    return output;\r\n  }\r\n\r\n  /*the function render simple discount */\r\n  renderSimpleDiscount(width) {\r\n      return (\r\n        <div style={{float: 'left', width:width, borderRight:'1px solid black', marginBottom:0}}>\r\n          <h3 style={titleStyle}> Simple Discount </h3>\r\n          {this.renderSimpleDiscontSelection()}\r\n          <div>\r\n            {this.renderSimpleDiscountList()}\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n\r\n  /*the funcion print terms */\r\n  renderTermByClass(term) {\r\n    let title = 'Simple Term';\r\n    switch(term.CLASSNAME) {\r\n      case CLASS_BASIC_TERM:\r\n        return (        \r\n        <DivBetter>\r\n          <p style={{backgroundColor:'pink',marginTop:0}}>{title}</p>\r\n          <p style={{textAlign:'center'}}> product: {term.DATA.product} </p>\r\n          <p style={{textAlign:'center'}}> amount: {term.DATA.amount} </p>\r\n        </DivBetter>)\r\n      case CLASS_AND_TERM: title = 'AND Term'; break;\r\n      case CLASS_OR_TERM: title = 'OR Term'; break; \r\n      case CLASS_XOR_TERM: title = 'XOR Term'; break;\r\n      default:\r\n    }\r\n    let renderList = (terms) => {\r\n      let output = [];\r\n      terms.forEach(element => {\r\n        output.push(this.renderTermByClass(element))\r\n      })\r\n      return output;\r\n    }\r\n    return (\r\n      <DivBetter>\r\n        <p style={{backgroundColor:'#E640B5',marginTop:0}}>{title}</p>\r\n        <div style={{padding:3}}>\r\n          {renderList(term.DATA.terms)}\r\n        </div>\r\n      </DivBetter>\r\n    )\r\n  }\r\n\r\n  /* the function render list of terms */\r\n  renderTermsList() {\r\n    let onX = (element) => {\r\n      this.selectedProductsTerms.splice(this.selectedProductsTerms.indexOf(element),1);\r\n      this.setState({})\r\n    }\r\n    let output = [];\r\n    this.selectedProductsTerms.forEach(element => {\r\n      output.push(\r\n        <div style={{textAlign:'center'}}>\r\n          {this.renderTermByClass(element)}\r\n          <button style={buttonX} onClick={()=>onX(element)} > X </button>\r\n        </div>\r\n      )\r\n    })\r\n    return output;\r\n  }\r\n\r\n  /* the function render the selected Product Terms */\r\n  renderTermsSelected() {\r\n    let element = this.selectedProductsTerms;\r\n    let morethen1 = () => {\r\n      if(this.selectedProductsTerms.length<=1) {\r\n        alert('please select more then 1 term to create complex terms.');\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n    let onAnd = () =>{\r\n      if(morethen1()) {\r\n        let data = this.selectedProductsTerms;\r\n        let term = {};\r\n        term['CLASSNAME'] = CLASS_AND_TERM;\r\n        term['DATA'] = {terms:data}\r\n        this.selectedProductsTerms = [];\r\n        this.selectedProductsTerms.push(term);\r\n        this.setState({})\r\n      }\r\n    }\r\n    let onOr = () => {\r\n      if(morethen1()) {\r\n        let data = this.selectedProductsTerms;\r\n        let term = {};\r\n        term['CLASSNAME'] = CLASS_OR_TERM;\r\n        term['DATA'] = {terms:data}\r\n        this.selectedProductsTerms = [];\r\n        this.selectedProductsTerms.push(term);\r\n        this.setState({})\r\n      }\r\n    }\r\n    let onXor = () => {\r\n      if(morethen1()) {\r\n        let data = this.selectedProductsTerms;\r\n        let term = {};\r\n        term['CLASSNAME'] = CLASS_XOR_TERM;\r\n        term['DATA'] = {terms:data}\r\n        this.selectedProductsTerms = [];\r\n        this.selectedProductsTerms.push(term);\r\n        this.setState({})\r\n      }\r\n    }\r\n\r\n    if(element.length===0)\r\n      return <p style={{textAlign:'center'}}> No Terms Selected </p>\r\n    return (\r\n      <div style={{float:'left', width:'100%'}}>\r\n        <h4 style={titleStyle}> Selected Terms </h4>\r\n        <div style={{overflowY: 'scroll'}}>\r\n          {this.renderTermsList()}\r\n        </div>\r\n        <div>\r\n          <div style={{float:'left',width:'33%'}}> \r\n            <Button text=\"AND\" onClick={onAnd}/>\r\n          </div>\r\n          <div style={{float:'left',width:'33%'}}> \r\n            <Button text=\"OR\" onClick={onOr}/>\r\n          </div>\r\n          <div style={{float:'left',width:'33%'}}>\r\n            <Button text=\"XOR\" onClick={onXor}/>\r\n          </div>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*the function render the target term */\r\n  renderTargetTerm() {\r\n    let element = this.state.selectedProudctTerm;\r\n    if(element===undefined)\r\n      return <p style={{textAlign:'center'}}> No Proudct Select to Term </p>\r\n    let onClickTarget = () => {\r\n      this.targetProductTerm = this.state.selectedProudctTerm;\r\n      this.targetProductTerm.amount = this.state.target_amount;\r\n      this.setState({\r\n        selectedProudctTerm:undefined,\r\n        target_amount:0,\r\n      })\r\n    }\r\n    let onClickTerm = () => {\r\n      if(this.selectedProductsTerms!==undefined) {\r\n        let data = {}\r\n        data['product'] = this.state.selectedProudctTerm.productName;\r\n        data['amount'] = this.state.target_amount;\r\n        let object = {CLASSNAME: CLASS_BASIC_TERM, DATA:data}\r\n        this.selectedProductsTerms.push(object);\r\n      }\r\n      this.setState({\r\n        selectedProudctTerm:undefined,\r\n      })\r\n    }\r\n    return (\r\n        <div style={{marginBottom:2}}>\r\n          <DivBetter>\r\n             <h3 style={{marginTop:0, borderBottom:'1px solid black',backgroundColor:'#FFC242'}}> {element.productName} </h3>\r\n              <SmallInput title=\"amount\" type=\"number\" min={1} value={this.state.target_amount} \r\n                      onChange={(e)=>this.setState({target_amount:e.target.value})}/>\r\n          <p></p>\r\n          </DivBetter>\r\n            <div style={{float:'left',width:'50%',}}> \r\n              <Button text=\"Select as target Term Discount\" onClick={onClickTarget} />\r\n            </div>\r\n            <div style={{float:'left',width:'50%'}}> \r\n              <Button text=\"Select as Term Discount\" onClick={onClickTerm}/>\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  renderTragetProduct() {\r\n    if(this.targetProductTerm===undefined)\r\n      return <p style={{textAlign:'center'}}> No Target Product Selected </p>\r\n    let element = this.targetProductTerm;\r\n    let onClick = () => {\r\n      if(this.selectedProductsTerms.length===0) \r\n        alert('no products term selected. please select before create a term discount')\r\n      else if(this.selectedProductsTerms.length>1) \r\n        alert('please select only 1 term.')\r\n      else {\r\n        let object = {};\r\n        object['CLASSNAME'] = CLASS_TERM;\r\n        object['DATA'] = {term:this.selectedProductsTerms[0],\r\n                          product:this.targetProductTerm.productName,\r\n                          amount:this.targetProductTerm.amount}\r\n       this.comlicatedDiscounts.push(object);\r\n        this.targetProductTerm = undefined;\r\n        this.selectedProductsTerms = [];\r\n        this.setState({})\r\n      }\r\n    }\r\n    return (\r\n      <div style={{float:'left', width:'100%', textAlign:'center', border:'1px solid black', margin:2}}>\r\n        <h4 style={{backgroundColor:'pink', marginTop:0}}> Target Product </h4>\r\n        <p> Proudct: {element.productName} </p>\r\n        <p> amount: {element.amount} </p>\r\n        <Button text=\"Create Term Discount\" onClick={onClick}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /* the function render the terms section */\r\n  renderTermDiscount(width) {\r\n    return (\r\n      <div style={{float: 'left', width:width,}}>\r\n        <h3 style={titleStyle}> Term Discount </h3>\r\n        {this.renderTargetTerm()}\r\n        {this.renderTragetProduct()}\r\n        {this.renderTermsSelected()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /* this function render a product */\r\n  renderProduct(element, onClick) {\r\n    if(element===undefined)\r\n      return (<p style={{color:'red'}}></p>)\r\n    return (\r\n      <div>\r\n      <DivBetter style={{borderBottom:'1px solid black', textAlign:\"center\"}} onClick={()=>onClick(element)}>\r\n        <h3 style={{marginTop:0, borderBottom:'1px solid black',backgroundColor:'#FFC242'}}> {element.productName} </h3>\r\n        <p> Price: {element.price} $ </p>\r\n        <p> Type: {element.purchaseType} </p>\r\n      </DivBetter>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*the function render list of product */\r\n  renderProductsList(list) {\r\n    let output = [];\r\n    let onClick = (element) => {\r\n      this.setState({selectedProduct:element})\r\n    }\r\n    list.forEach(element=>{\r\n      output.push(this.renderProduct(element,onClick))    \r\n    })\r\n    return output;\r\n  }\r\n\r\n\r\n\r\n  //this function get the list of product from the server by given store\r\n  getProducts(storeName) {\r\n    let buildProducts = (received) => {\r\n      if(received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+ received.reason;\r\n        if(opt === 'Success') {\r\n          this.setState({products: received.value});\r\n        }\r\n        else {\r\n          alert(\"Cant get Products from store. please try again later\");\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n      }\r\n    }\r\n    send('/home/product?store='+storeName, 'GET','', buildProducts)  \r\n  }\r\n\r\n  /*the function render products list */\r\n  renderProducts(width) {\r\n    if(this.state.products.length === 0) {\r\n      this.getProducts(this.props.location.state.storeName);\r\n    }\r\n    return (\r\n    <div style={{float: 'left', width:width ,  borderRight: '1px solid black',overflowY: 'scroll', height:MAX_HEIGHT}}>\r\n      <h2 style={titleStyle}> Products </h2>\r\n      {this.renderProductsList(this.state.products)}\r\n    </div>\r\n    );\r\n  }\r\n\r\n  /* this function print diffrent elemnts by the class name */\r\n  renderDiscountByClass(elemnt, deleteOn) {\r\n    let onClick = (x)=>{this.selectedDiscounts.splice(this.selectedDiscounts.indexOf(x),1);\r\n                        this.setState({})};\r\n    switch(elemnt.CLASSNAME) {\r\n      case CLASS_STORE:\r\n        return (<div>\r\n                  <DivBetter style={{margin:4}}>\r\n                    <p style={{backgroundColor:'#FFC242', height:30, marginTop:0}}> Discont</p>\r\n                    <p style={{margin:2}}> Amount: {elemnt.DATA.minAmount} </p>\r\n                    <p style={{margin:2}}> Precentage: {elemnt.DATA.percentage} % </p>\r\n                    {deleteOn? <button style={buttonX} onClick={onClick}> X</button> :''}\r\n                  </DivBetter>\r\n                </div>);\r\n      case CLASS_AND: case CLASS_XOR: case CLASS_OR:\r\n        return (\r\n          <div style = {{padding:2}}>\r\n            {this.renderComlicatedByClass(elemnt, false)}\r\n          </div>\r\n        );\r\n      case CLASS_SIMPLE:\r\n        return (\r\n          <DivBetter>\r\n            <p style={{backgroundColor:'lightgreen', marginTop:0}}> Simple Discount </p>\r\n            <p style={{textAlign:'center'}}>Product: {elemnt.DATA.product} </p>\r\n            <p style={{textAlign:'center'}}>Precentage: {elemnt.DATA.percantage} % </p>\r\n            {deleteOn? <button style={buttonX} onClick={onClick}> X</button> :''}\r\n          </DivBetter>\r\n        )\r\n      case CLASS_TERM:\r\n        let term = elemnt.DATA.term;\r\n        let target_prodct = elemnt.DATA.product;\r\n        let target_amount = elemnt.DATA.amount;\r\n        return (\r\n          <DivBetter> \r\n              <p style={{backgroundColor:'#CC84F0',textAlign:'center', marginTop:0}}> Term Discount </p>\r\n              <p style={{textAlign:'center'}}> Product: {target_prodct}</p>\r\n              <p style={{textAlign:'center'}}> Amount: {target_amount}</p>\r\n              <div style={{padding:4}}>\r\n                {this.renderTermByClass(term)}\r\n              </div>\r\n          </DivBetter>\r\n        );\r\n      default:\r\n    }\r\n  }\r\n\r\n  /*this function render the discount list */\r\n  renderSelectedDiscountList(element, deleteOn){\r\n    let output=[];\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_TERM:\r\n        output.push(this.renderDiscountByClass(element, deleteOn));\r\n        return output;\r\n      case CLASS_XOR: case CLASS_OR: case CLASS_AND:\r\n        let list = element.DATA.discounts;\r\n        list.forEach(elemnt =>{\r\n          output.push(this.renderDiscountByClass(elemnt, deleteOn) )\r\n        })\r\n        return output;\r\n      default:\r\n        element.forEach(elemnt =>{\r\n            output.push(this.renderDiscountByClass(elemnt, deleteOn) )\r\n        })\r\n        return output;\r\n    }\r\n  }\r\n\r\n  /*this function responble for rendering the select discount and chosing xor, and, or */\r\n  renderSelctedDiscounts(width){\r\n    let addDiscountToComplicated = (discount) => {\r\n      this.comlicatedDiscounts.push(discount);\r\n      this.selectedDiscounts = [];\r\n      this.setState({error_selected:undefined})\r\n    }\r\n    let andClick = (e) => {\r\n      if(this.selectedDiscounts.length>1)\r\n        addDiscountToComplicated({CLASSNAME:CLASS_AND,DATA:{discounts:this.selectedDiscounts}})\r\n      else if(this.selectedDiscounts.length===1)\r\n        this.setState({error_selected:'please select more then 1 discount'});\r\n      else\r\n        this.setState({error_selected:'empty discounts'});\r\n    };\r\n    let orClick = (e) => {\r\n      if(this.selectedDiscounts.length>1)\r\n        addDiscountToComplicated({CLASSNAME:CLASS_OR,DATA:{discounts:this.selectedDiscounts}})\r\n      else if(this.selectedDiscounts.length===1)\r\n        this.setState({error_selected:'please select more then 1 discount'});\r\n      else\r\n        this.setState({error_selected:'empty discounts'});\r\n    };\r\n    let xorClick = (e) => {\r\n      if(this.selectedDiscounts.length>1)\r\n        addDiscountToComplicated({CLASSNAME:CLASS_XOR,DATA:{discounts:this.selectedDiscounts}})\r\n      else if(this.selectedDiscounts.length===1)\r\n        this.setState({error_selected:'please select more then 1 discount'});\r\n      else\r\n        this.setState({error_selected:'empty discounts'});\r\n    };\r\n    return (\r\n      <div style={{overflowY: 'scroll',height:MAX_HEIGHT, width:width, borderLeft:'1px solid black'}}>\r\n        <h2 style={titleStyle}> Selected Discounts </h2>\r\n        <div style={{padding:4}}>\r\n          {this.renderSelectedDiscountList(this.selectedDiscounts, true)}\r\n        </div>\r\n        <p style={{color:'red'}}> {this.state.error_selected!==undefined?this.state.error_selected:''} </p>\r\n        <div style={{float:'left',width:'33%'}}> \r\n          <Button text=\"AND\" onClick={andClick}/>\r\n        </div>\r\n        <div style={{float:'left',width:'33%'}}> \r\n          <Button text=\"OR\" onClick={orClick}/>\r\n        </div>\r\n        <div style={{float:'left',width:'33%'}}>\r\n          <Button text=\"XOR\" onClick={xorClick} />\r\n        </div>\r\n        <div style={{float:'left',width:'100%'}}>\r\n          <h2 style={titleStyle}> Complicated Discounts </h2>\r\n          <div style={{padding:10}}>\r\n          {this.renderComplicatedDiscountList(true)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*the function print the comlicated discount by class */\r\n  renderComlicatedByClass(elemnt, deletOn){\r\n    let name='';\r\n    switch(elemnt.CLASSNAME) {\r\n      case CLASS_AND: name = 'AND Discount'; break; \r\n      case CLASS_OR: name = 'OR Discount'; break;\r\n      case CLASS_XOR: name = 'XOR Discount'; break;\r\n      default:\r\n    }\r\n    let deleteClick= (elemnt)=> {\r\n      this.comlicatedDiscounts.splice(this.comlicatedDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let comlicatedClick= (elemnt)=>{\r\n      this.addDiscountToSelectedDiscounts(elemnt); \r\n      this.comlicatedDiscounts.splice(this.comlicatedDiscounts.indexOf(elemnt),1);\r\n      this.setState({})\r\n    }\r\n    let selectClick = (elment)=> {\r\n      this.comlicatedDiscounts.splice(this.comlicatedDiscounts.indexOf(elemnt),1);\r\n      this.setState({chosenDiscount:elemnt});\r\n    }\r\n    return (\r\n      <div style= {{border:'1px solid black', textAlign:'center', marginBottom:5, backgroundColor:'white'}}>\r\n        <p style={{borderBottom:'1px solid black', backgroundColor:'#47CEFF', marginTop:0}}> {name} </p>\r\n        <div style={{padding:10}}>\r\n          {this.renderSelectedDiscountList(elemnt, false)}\r\n        </div>\r\n        {deletOn?<Triple selectClick={()=>selectClick(elemnt)} comlicatedClick={()=>comlicatedClick(elemnt)} deleteClick={()=>deleteClick(elemnt)}/>:''}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*the function print the comlicated discount list */\r\n  renderComplicatedDiscountList() {\r\n    let output = [];\r\n    this.comlicatedDiscounts.forEach( elemnt=>{\r\n      output.push(this.renderComlicatedByClass(elemnt,true));\r\n    })\r\n    return output;\r\n  }\r\n\r\n\r\n\r\n  /*the function responseble to render the send discount */\r\n  renderSendDiscount() {\r\n    if(this.state.chosenDiscount === undefined)\r\n      return\r\n    let sendToServer = () => {\r\n      let id = this.props.location.state.id;\r\n      let msg = this.state.chosenDiscount;\r\n      send('/store/discount?id='+id+'&store='+this.props.location.state.storeName,'POST',msg,promise);\r\n      alert('please wait this takes time');\r\n    }\r\n    let promise = (received) => {\r\n      if(received === null)\r\n        alert(\"Server Crashed pls try again layter\");\r\n      else {\r\n        let opt = '' + received.reason;\r\n        if(opt === 'Dont_Have_Permission') {\r\n          alert('You dont have premession to this action!');\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n        else if(opt === 'Invalid_Product') {\r\n          alert('Product dont exits in Store any more.');\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n        else if(opt ==='Success'){\r\n          alert('Discount Added to store');\r\n          this.setState({chosenDiscount:undefined, products:[]})}\r\n      }\r\n    }\r\n\r\n    let cancle = () => {\r\n      this.setState({chosenDiscount:undefined});\r\n    }\r\n    return (\r\n      <div style={{width:'100%', marginBottom:10}}>\r\n        <div style={{float:'left', width:'40%', paddingLeft:300}}>\r\n          {this.renderDiscountByClass(this.state.chosenDiscount,false)}\r\n        </div>\r\n        <div style={{float:'left', width:'29%'}}>\r\n          <div style={{textAlign:'center'}}>\r\n            <Button text=\"Cancle\" onClick={cancle}/>\r\n          </div>\r\n          <div style={{textAlign:'center'}}>\r\n            <Button text=\"Send\" onClick={sendToServer}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n\r\n  /*the main render function */\r\n  render() {\r\n    let onBack= () => {\r\n      pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n    }\r\n    return (\r\n      <BackGrond height={MAX_HEIGHT}>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"Discount Manager\"/>\r\n        <h2 style={{textAlign:'center', marginTop:0}}>{this.props.location.state.storeName}</h2>\r\n        {this.renderSendDiscount()}\r\n        <div style={{float:'left',height:MAX_HEIGHT, width:'100%'}}>\r\n          {this.renderProducts('15%')}\r\n          <div style={{float: 'left', width:'84%'}}>\r\n            <div style={{float: 'left', width:'50%'}}>\r\n              {this.renderSelectedProduct()}\r\n              {this.renderSimpleDiscount('50%')}\r\n              {this.renderTermDiscount('49.7%')}\r\n            </div>\r\n            {this.renderStoreDiscount('24%')}\r\n            {this.renderSelctedDiscounts('25%')}\r\n          </div>\r\n          <Button text=\"Back\" onClick={onBack}/>\r\n        </div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageDiscount;\r\n\r\nclass SmallInput extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style = {{textAlign:'center'}}>\r\n          <label style={{marginLeft:5, marginRight:12}}> {this.props.title} </label>\r\n        </div>\r\n        <div style= {{textAlign:'center'}}>\r\n          <input style={{textAlign:'center'}} type={this.props.type} min={this.props.min} max={this.props.max} value={this.props.value} onChange={this.props.onChange} />\r\n        </div>  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Triple extends Component {\r\n\r\n  render() {\r\n    return (\r\n    <table style={{width:\"100%\"}}>\r\n      <tr sylte={{ textAlign:'center'}}>\r\n        <th><button style={buttonSmall} onClick={this.props.selectClick}> select </button> </th>\r\n        <th><button style={buttonSmall} onClick={this.props.comlicatedClick}> complicated </button> </th>\r\n        <th><button style={buttonX} onClick={this.props.deleteClick} > X </button> </th>\r\n      </tr>\r\n    </table>\r\n    );\r\n  }\r\n}\r\n\r\nconst titleStyle ={\r\n  textAlign:'center',\r\n  backgroundColor:'lightgray',\r\n  borderBottom:'1px solid black',\r\n  marginBottom:5,\r\n};\r\n\r\nconst buttonX = {\r\n  backgroundColor:'#B38118',\r\n  margin:5,\r\n}\r\n\r\nconst buttonSmall = {\r\n  backgroundColor:'#0041B3', \r\n  color:'white'\r\n}","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Button from \"../../Component/Button\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\n\r\nclass RemoveManagerFromStore extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleManager = this.handleManager.bind(this);\r\n        this.handleCancel = this.handleCancel.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.getManagersAppointedByMe = this.getManagersAppointedByMe.bind(this);\r\n        this.getManagersPromise = this.getManagersPromise.bind(this);\r\n        this.render_managers_table = this.render_managers_table.bind(this);\r\n        this.render_manager = this.render_manager.bind(this);\r\n        this.renderManagers = this.renderManagers.bind(this);\r\n        this.deleteManagerPromise = this.deleteManagerPromise.bind(this);\r\n\r\n\r\n        this.pathname = \"/removeManagerFromStore\";\r\n        this.state = {\r\n            managers: '',\r\n            showManagers: false,\r\n        };\r\n        this.getManagersAppointedByMe();\r\n    }\r\n\r\n\r\n    getManagersAppointedByMe(){\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        send('/home/managers/'+store+'?id='+id, 'GET', '', this.getManagersPromise)\r\n    }\r\n\r\n    getManagersPromise(received){\r\n        if(received==null)\r\n            alert(\"Server Failed\");\r\n        else {\r\n            console.log(received)\r\n            let opt = \"\"+ received.reason;\r\n            if(opt === 'Success') {\r\n                let names = received.value;\r\n                let newManagers = [];\r\n                names.forEach(\r\n                    (name) =>{\r\n                        newManagers.push({name: name});\r\n                    }\r\n                );\r\n                this.setState({managers: newManagers });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleManager(event, manager) {\r\n        this.setState({\r\n          name: event.target.value,\r\n          showManagers: true,\r\n          manager: manager,\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        this.setState({\r\n            showManagers: false,\r\n        });\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        let managerData = {userName: this.state.manager , storeName: store}\r\n        send('/managers/deleteManager/?id='+id, 'POST', managerData, this.deleteManagerPromise)\r\n    }\r\n\r\n    deleteManagerPromise(received){\r\n        if(received==null)\r\n            alert(\"Server Failed\");\r\n        else {\r\n            console.log(received)\r\n            let opt = \"\"+ received.reason;\r\n            if(opt === 'Success') {\r\n                if(received.value) {\r\n                    alert(\"Deleted Manager successfully!\");\r\n                    this.getManagersAppointedByMe();\r\n                }\r\n                else\r\n                    alert(\"Cannot delete Manager\");\r\n            }\r\n            else if (opt === \"User_Not_Found\")\r\n                alert(\"User Not Found\");\r\n            else if (opt === \"Store_Not_Found\")\r\n                alert(\"User Not Found\");\r\n        }\r\n    }\r\n\r\n    handleCancel(event) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            showManagers: false,\r\n        })\r\n    }\r\n\r\n    \r\n    render_managers_table() {\r\n        let managers = this.state.managers;\r\n        let output = [];\r\n        if(managers) {\r\n            managers.forEach(\r\n                (element) =>\r\n                    output.push(\r\n                        <Row onClick={(e) => this.handleManager(e, element.name)}>\r\n                            <th>{element.name}</th>\r\n                        </Row>\r\n                    ),\r\n            );\r\n        }\r\n        return output;\r\n    }\r\n    \r\n    render_manager() {\r\n        return (\r\n          <table style={style_table}>\r\n            <tr>\r\n              <th style={under_line}> manager: </th>\r\n            </tr>\r\n            {this.render_managers_table()}\r\n          </table>\r\n        );\r\n    }\r\n    \r\n    renderManagers() {\r\n        return (\r\n           <table style={style_table} >\r\n               <tr>\r\n                    <h3> remove {this.state.manager}? </h3>\r\n               </tr>\r\n           </table> \r\n        );\r\n    }\r\n\r\n    render() {\r\n      let onBack= () => {\r\n        pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n      }\r\n      return(\r\n          <BackGroud>\r\n              <Menu state={this.props.location.state} />\r\n              <div>\r\n                  <Title title=\"Delete manager from store:\"/>\r\n                  {this.state.showManagers === false ? this.render_manager() : \"\"}\r\n                  {this.state.showManagers === false ? <Button text=\"Back\" onClick={onBack}/> : \"\"}\r\n                  {this.state.showManagers === true ? this.renderManagers() : \"\"}\r\n                  {this.state.showManagers === true ? <Button text=\"Remove\" onClick={this.handleSubmit}/> : \"\"}\r\n                  {this.state.showManagers === true ? <Button text=\"Back\" onClick={this.handleCancel}/> : \"\"}\r\n              </div>\r\n          </BackGroud>\r\n      );\r\n    }\r\n}\r\n\r\n\r\nexport default RemoveManagerFromStore;\r\n\r\nconst style_table = {\r\n    width: \"99%\",\r\n    textAlign: \"center\",\r\n    border: \"2px solid black\",\r\n};\r\n  \r\nconst under_line = {\r\n    borderBottom: \"2px solid black\",\r\n};\r\n  \r\n  \r\n","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass StoreManagement extends Component {\r\n  constructor() {\r\n    super();\r\n    this.create_stores = this.create_stores.bind(this);\r\n    this.buildstores=this.buildstores.bind(this);\r\n    this.pathname = \"/storeManagement\";\r\n    this.state = {\r\n      stores: [],\r\n    };\r\n    this.flag=true;\r\n  }\r\n\r\n  create_stores() {\r\n    let id=this.props.location.state.id;\r\n    if(this.flag){\r\n      this.flag=false;\r\n      send('/managers/mystores?id='+id, 'GET','',this.buildstores);\r\n    }  \r\n  }\r\n\r\n  buildstores(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else{\r\n      let opt = ''+ received.reason;\r\n      if(opt == 'Success') {\r\n        this.setState({stores:received.value})\r\n      }\r\n      else if(opt == 'No_Stores_To_Manage') {\r\n        alert('No Stores To Manage. Soryy.')\r\n      }\r\n      else {\r\n        alert(opt+\", Cant get your stores \");\r\n      }\r\n    }\r\n  }\r\n\r\n  render_stores() {\r\n    return (\r\n      <div>\r\n        <h3>The stores of the {this.state.permission} :</h3>\r\n        <table style={style_table}>\r\n          <tr>\r\n            <th style={under_line}> Store Name </th>\r\n            <th style={under_line}> Description </th>\r\n          </tr>\r\n          {this.render_stores_table()}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render_stores_table() {\r\n    let onClick = (element) => {\r\n      let state = this.props.location.state;\r\n      state['storeName'] = element.name;\r\n      pass(this.props.history,'/storeMenu',this.pathname,this.props.location.state)\r\n    }\r\n    let output = [];\r\n    this.state.stores.forEach((element) =>\r\n      output.push(\r\n        <Row onClick={() =>onClick(element)}>\r\n          <th> {element.name} </th>\r\n          <th> {element.description} </th>\r\n        </Row>\r\n      )\r\n    );\r\n    return output;\r\n  }\r\n\r\n  pass(url, storeName) {\r\n    this.props.history.push({\r\n      pathname: url,\r\n      fromPath: \"/storeManagement\",\r\n      storeName: storeName, // your data array of objects\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.create_stores();\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"Manage Store\" />\r\n        <div>{this.render_stores()}</div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\nexport default StoreManagement;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n  borderBottom: \"2px solid black\",\r\n};\r\n\r\nconst style_sheet = {\r\n  textAlign: \"center\",\r\n  color: \"black\",\r\n  backgroundColor: \"#F3F3F3\",\r\n  padding: \"1px\",\r\n  fontFamily: \"Arial\",\r\n  width: \"99%\",\r\n  marginTop: 0,\r\n};\r\n","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils';\r\n\r\nclass SearchAndFilterProducts  extends Component{\r\n\r\n    constructor() {\r\n        super();\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.handleMinPrice = this.handleMinPrice.bind(this);\r\n        this.handleMaxPrice = this.handleMaxPrice.bind(this);\r\n        this.handleSearchValue = this.handleSearchValue.bind(this);\r\n        this.create_products=this.create_products.bind(this);\r\n        this.buildProducts=this.buildProducts.bind(this);\r\n        this.pathname = \"/searchAndFilter\";\r\n        this.state = {\r\n            search: 'NONE',\r\n            searchValue: '',\r\n            minPrice: 0,\r\n            maxPrice: '',\r\n            filteredProducts : [],\r\n        }\r\n    }\r\n\r\n    create_products() {\r\n        let data={search:this.state.search,\r\n                  value:this.state.searchValue,\r\n                  minPrice: this.state.minPrice,\r\n                  maxPrice: (this.state.maxPrice==''?Number.MAX_SAFE_INTEGER:this.state.maxPrice),\r\n                  category:'',\r\n                };\r\n        if(data.minPrice>data.maxPrice)\r\n            alert('max price must be greater than min price. Soryy.');\r\n        else\r\n        //this.setState({search:'changed'});\r\n            send('/home/product/filter', 'POST',data, this.buildProducts)  \r\n      }\r\n\r\n    buildProducts(received) {\r\n        if(received==null)\r\n          alert(\"Server Failed\");\r\n        else {\r\n          let opt = ''+ received.reason;\r\n          if(opt == 'Success') {\r\n            this.setState({filteredProducts:received.value})\r\n          }\r\n          else if(opt == 'Not_Valid_Filter') {\r\n            alert('Not_Valid_Filter. Soryy.')\r\n          }\r\n          else {\r\n            alert(opt+\", Cant serach by those filters\");\r\n          }\r\n        }\r\n    };\r\n\r\n    pass(url, data) {\r\n        this.props.history.push({\r\n            pathname: url,\r\n            fromPath: '/searchAndFilter',\r\n            data: data // your data array of objects\r\n        });\r\n    }\r\n\r\n    render_product_table(){\r\n        let state = this.props.location.state;\r\n        let onClick = (element) => {\r\n            state['product'] = {\r\n              productName: element.productName,\r\n              storeName: element.storeName,\r\n              category: element.category,\r\n              amount: element.amount,\r\n              price: element.price,\r\n              purchaseType: element.purchaseType,\r\n          };\r\n          pass(this.props.history,'/addToCart',this.pathname,state)\r\n        };\r\n        let output = [];\r\n        this.state.filteredProducts.forEach( element =>\r\n            output.push(\r\n                <Row onClick={()=>onClick(element)}>\r\n                    <th> {element.productName} </th>\r\n                    <th> {element.storeName} </th>\r\n                    <th> {element.category} </th>\r\n                    <th> {element.amount} </th>\r\n                    <th> {element.price} </th>\r\n                    <th> {element.purchaseType} </th>\r\n                </Row>\r\n            )\r\n        )\r\n        return output;\r\n    }\r\n\r\n    render_product() {\r\n        return (\r\n            <table style={style_table}>\r\n                <tr>\r\n                    <th style = {under_line}> Product Name </th>\r\n                    <th style = {under_line}> Store Name </th>\r\n                    <th style = {under_line}> Category </th>\r\n                    <th style = {under_line}> Amount </th>\r\n                    <th style = {under_line}> Price </th>\r\n                    <th style = {under_line}> Purchase Type </th>\r\n                </tr>\r\n                {this.render_product_table()}\r\n            </table>);\r\n    }\r\n\r\n    handleSearch(event){\r\n        this.setState({search: event.target.value});\r\n    }\r\n\r\n    handleSearchValue(event){\r\n        this.setState({searchValue: event.target.value});\r\n    }\r\n\r\n    handleMinPrice(event){\r\n        let minPrice = parseFloat(event.target.value)\r\n        this.setState({minPrice: minPrice});\r\n    }\r\n    handleMaxPrice(event){\r\n        let maxPrice = parseFloat(event.target.value)\r\n        this.setState({maxPrice: maxPrice});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state}/>\r\n                <Title title = 'Search And Filter Products'/>\r\n                <table>\r\n                    <tr>\r\n                        <th>\r\n                            <label>Search by:</label>\r\n                            <select onChange={this.handleSearch}>\r\n                            <option value=\"NONE\">none</option>\r\n                            <option value=\"CATEGORY\">category</option>\r\n                            <option value=\"KEY_WORD\">key word</option>\r\n                            <option value=\"PRODUCT_NAME\">product name</option>\r\n                            </select>\r\n                        </th>\r\n                        <th><Input title=\"Value:\" type=\"text\" value={this.state.searchValue} onChange={this.handleSearchValue} /></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th><Input title=\"MinPrice\" type=\"number\" min={0} max={Number.MAX_SAFE_INTEGER} value={this.state.minPrice} onChange={this.handleMinPrice} /></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th><Input title=\"MaxPrice\" type=\"number\" min={1} max={Number.MAX_SAFE_INTEGER} value={this.state.maxPrice} onChange={this.handleMaxPrice} /></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th><Button text=\"Submit\" onClick={this.create_products}/></th>\r\n                    </tr>\r\n                </table>\r\n                <div>\r\n                    <h3 style={{textAlign:'center'}}> Filtered Products </h3>\r\n                    {this.render_product()}\r\n                </div>\r\n            </BackGroud>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchAndFilterProducts\r\n\r\nconst style_table = {\r\n\r\n    width:\"99%\",\r\n    textAlign: 'center',\r\n    border: '2px solid black',\r\n    lineHeight:1.5,\r\n    margin:7.5,\r\n}\r\n\r\nconst under_line = {\r\n    borderBottom: '2px solid black'\r\n}","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass StoreMenu extends Component {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/storeMenu\";\r\n    this.init_permissions=this.init_permissions.bind(this);\r\n    this.buildpermissions=this.buildpermissions.bind(this);\r\n    this.update_permissions=this.update_permissions.bind(this);\r\n    this.flag=true;\r\n    this.state = {\r\n      manageProduct: true,\r\n      storeDiscounts: true,\r\n      storePolicy: true,\r\n      appointOwner: true,\r\n      appointManager: true,\r\n      managerPermissions: true,\r\n      deleteManager: true,\r\n    };\r\n  }\r\n\r\n  onClick(path) {\r\n    pass(this.props.history,path,this.pathname,this.props.location.state);\r\n  }\r\n\r\n  \r\n  init_permissions() {\r\n    let id=this.props.location.state.id;\r\n    if(this.flag){\r\n      this.flag=false;\r\n      send('/home/permissions/'+this.props.location.state.storeName+'?id='+id, 'GET','',this.buildpermissions);\r\n    }  \r\n  }\r\n\r\n  buildpermissions(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else{\r\n      let opt = ''+ received.reason;\r\n      if(opt === 'Success') {\r\n        this.update_permissions(received.value);\r\n      }\r\n      else if(opt === 'Dont_Have_Permission') {\r\n        alert('Dont Have Permission for that store. Soryy.')\r\n        pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state);\r\n      }\r\n      else {\r\n        alert(opt+\", Cant get your permissions \");\r\n        pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state);\r\n      }\r\n    }\r\n  }\r\n\r\n  update_permissions(permissions){\r\n    this.setState({\r\n      manageProduct: permissions.includes(\"OWNER\")||permissions.includes(\"PRODUCTS_INVENTORY\"),\r\n      storeDiscounts: permissions.includes(\"OWNER\")||permissions.includes(\"CRUD_POLICY_DISCOUNT\"),\r\n      storePolicy: permissions.includes(\"OWNER\")||permissions.includes(\"CRUD_POLICY_DISCOUNT\"),\r\n      appointOwner: permissions.includes(\"OWNER\")||permissions.includes(\"ADD_OWNER\"),\r\n      appointManager: permissions.includes(\"OWNER\")||permissions.includes(\"ADD_MANAGER\"),\r\n      managerPermissions: permissions.includes(\"OWNER\")||permissions.includes(\"ADD_MANAGER\"),\r\n      deleteManager: permissions.includes(\"OWNER\")||permissions.includes(\"DELETE_MANAGER\"),\r\n      approveOwner: permissions.includes(\"OWNER\"),\r\n    });\r\n  }\r\n  \r\n  render_permissions() {\r\n    return (\r\n      <table style = {style_table}>\r\n        {this.state.manageProduct ? (<Row onClick={() => this.onClick(\"/manageProducts\")}>\r\n            <p style={paragraph}> Add Product </p></Row>) : (\"\")}\r\n        {this.state.manageProduct ? (<Row onClick={() => this.onClick(\"/editProduct\")}>\r\n            <p style={paragraph}> Edit Product </p></Row>) : (\"\")}\r\n        {this.state.manageProduct ? (<Row onClick={() => this.onClick(\"/productsDelete\")}>\r\n            <p style={paragraph}> View & Delete Product </p> </Row>) : (\"\")}\r\n        {this.state.storeDiscounts ? (<Row onClick={() => this.onClick(\"/manageDiscount\")}>\r\n            <p style={paragraph}>Add Discounts</p> </Row>) : (\"\")}\r\n        {this.state.storeDiscounts ? (<Row onClick={() => this.onClick(\"/viewDiscounts\")}>\r\n            <p style={paragraph}>View & Delete Discounts</p> </Row>) : (\"\")}\r\n        {this.state.storePolicy ? (<Row onClick={() => this.onClick(\"/policy\")}>\r\n            <p style={paragraph}> Store Policy</p> </Row>) : (\"\")}\r\n        {this.state.appointOwner ? (<Row onClick={() => this.onClick(\"/addOwnerToStore\")}>\r\n            <p style={paragraph}>Appoint Owner</p> </Row>):(\"\")}\r\n        {this.state.approveOwner ? (<Row onClick={() => this.onClick(\"/approveOwnerToStore\")}>\r\n            <p style={paragraph}>Approved Owner </p> </Row>):(\"\")}\r\n        {this.state.appointManager ? (<Row onClick={() => this.onClick(\"/addManagerToStore\")}>\r\n            <p style={paragraph}>Appoint Manager</p> </Row>):(\"\")}\r\n        {this.state.managerPermissions ? (<Row onClick={() => this.onClick(\"/editManagerPermissions\")}>\r\n            <p style={paragraph}>Manager Permissions</p> </Row>):(\"\")}\r\n        {this.state.deleteManager ? (<Row onClick={() => this.onClick(\"/removeManagerFromStore\")}>\r\n            <p style={paragraph}>Delete Manager</p> </Row>):(\"\")}\r\n        <Row onClick={() => this.onClick(\"/viewAndReplyRequests\")}>\r\n            <p style={paragraph}>View And Reply Requests</p> </Row>\r\n        <Row onClick={() => this.onClick(\"/storeOwnerWatchHistory\")}>\r\n            <p style={paragraph}>Owner Watch Purchase History</p> </Row>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    this.init_permissions();\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title={\"Welcome to - \" + this.props.location.state.storeName} />\r\n        <Title title=\"What do you want to do in your store?\" />\r\n        <div style={{paddingLeft:'25%', width:'50%'}}>\r\n          {this.render_permissions()}\r\n        </div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\nexport default StoreMenu;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst paragraph = {\r\n  textAlign:'center',\r\n  fontSize:19,\r\n  margin:0,\r\n  padding:0,\r\n  borderBottom:'1px solid black',\r\n}","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass AddOwnerToStore extends Component {\r\n    constructor() {\r\n        super();\r\n        this.handleChangeName = this.handleChangeName.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.promiseAppointOwner = this.promiseAppointOwner.bind(this);\r\n        this.onBack = this.onBack.bind(this);\r\n        this.pathname = \"/addOwnerToStore\";\r\n        this.url = '/managers/owner?id=';\r\n        this.state = {\r\n            name:''\r\n        };\r\n    }\r\n\r\n    handleChangeName(event){\r\n        this.setState({name: event.target.value});\r\n    }\r\n\r\n    handleSubmit(event){\r\n        let id = this.props.location.state.id;\r\n        let storeName = this.props.location.state.storeName;\r\n        let managerData = {\r\n            storeName: storeName,\r\n            userName: this.state.name,\r\n        }\r\n        send(this.url+id, 'POST', managerData, this.promiseAppointOwner);\r\n    }\r\n\r\n    promiseAppointOwner(received){\r\n        if(received==null) {\r\n            alert('Server Crashed')\r\n        }\r\n        else {\r\n            let opcode = ''+received.reason;\r\n            if(opcode === 'Success' && received.value) {\r\n                let msg = \"\";\r\n                msg += \"The user : \"+this.state.name+\" added successfully\\n\";\r\n                msg += \"In Store : \"+this.props.location.state.storeName;\r\n                alert(msg);\r\n            }\r\n            else if(opcode === 'User_Not_Found') {\r\n                let msg = \"\";\r\n                msg += \"User Not Found\";\r\n                alert(msg);\r\n            }\r\n            else if(opcode==='Already_Exists'){\r\n                alert(\"user has alredy owner agreement\");\r\n            }\r\n            else if(opcode==='Already_Owner'){\r\n                alert(\"user already owner\");\r\n            }\r\n            else {\r\n                console.log(received);\r\n                alert(`Cant Appoint ${this.getPermission()}!\\n Please try again.`)\r\n            }\r\n        }\r\n    }\r\n\r\n    onBack(){\r\n        pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state);\r\n    }\r\n\r\n    render() {        \r\n\r\n        return (\r\n            <BackGrond>\r\n                <Menu state={this.props.location.state} />\r\n                <Title title={\"Add Manager To Store - \" + this.props.location.state.storeName}></Title>\r\n                <h4 style={style_sheet}>Enter the name of the user you want to add, then press submit</h4>\r\n                <Input title = 'User Name:' type=\"text\" value={this.state.name} onChange={this.handleChangeName} />\r\n                <Button text = 'Submit' onClick={this.handleSubmit}/>\r\n                <Button text=\"Back\" onClick={this.onBack}/>\r\n            </BackGrond>\r\n        );\r\n    }\r\n    getPermission(){ return \"Owner\"; }\r\n}\r\nexport default AddOwnerToStore;\r\n\r\nconst style_sheet = {\r\n    textAlign: 'center',\r\n    color: \"black\",\r\n    backgroundColor: '#F3F3F3',\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\",\r\n    width:\"99%\",\r\n    marginTop:0,\r\n}","import React from \"react\";\r\nimport AddOwnerToStore from \"./AddOwnerToStore\";\r\n\r\nclass AddManagerToStore extends AddOwnerToStore {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/addManagerToStore\";\r\n    this.url = \"/managers/manager?id=\"\r\n    this.state = {\r\n        name:''\r\n    };\r\n  }\r\n  getPermission(){ return \"Manager\"; }\r\n}\r\nexport default AddManagerToStore;\r\n","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\nimport DivBetter from \"../../Component/DivBetter\";\r\n\r\nclass ApproveOwnerToStore extends Component {\r\n    constructor() {\r\n        super();\r\n        this.renderWaitingOwners = this.renderWaitingOwners.bind(this);\r\n        this.sendApproved = this.sendApproved.bind(this);\r\n        this.promiseApproved = this.promiseApproved.bind(this);\r\n        this.getOwners = this.getOwners.bind(this);\r\n        this.onBack = this.onBack.bind(this);\r\n        this.pathname = \"/approveOwnerToStore\";\r\n        this.url = '/managers/approve/owner?id=';\r\n        this.state = {\r\n            owners: undefined,\r\n        };\r\n    }\r\n    \r\n    onBack(){\r\n        pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state);\r\n    }\r\n\r\n    getOwners() {\r\n        let promiseOwnersList = (received) => {\r\n            if(received==null) {\r\n                alert('Server Crashed');\r\n            }\r\n            else {\r\n                let opcode = ''+received.reason;\r\n                if(opcode === 'Store_Not_Found') {\r\n                    alert('Store Not Found');\r\n                    pass(this.props.history,'/storeManagement',this.pathname, this.props.location.state)\r\n                }\r\n                else if(opcode ==='Success') {\r\n                    this.setState({owners:received.value})\r\n                }\r\n                else {\r\n                    alert('Error Opcode '+opcode);\r\n                }\r\n            }\r\n        }\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        send('/managers/approve/list?id='+id, 'POST', store, promiseOwnersList);\r\n    }\r\n\r\n    promiseApproved(received){\r\n        if(received==null) {\r\n            alert('Server Crashed');\r\n        }\r\n        else {\r\n            let opcode = ''+received.reason;\r\n            if(opcode === 'User_Not_Found') {\r\n                alert('User Not Found');\r\n                this.getOwners();\r\n            }\r\n            else if(opcode === 'Store_Not_Found') {\r\n                alert('Store Not Found');\r\n                pass(this.props.history,'/storeManagement',this.pathname, this.props.location.state)\r\n            }\r\n            else if(opcode === 'Dont_Have_Permission') {\r\n                alert('User dont have premeissions.');\r\n                pass(this.props.history,'/storeManagement',this.pathname, this.props.location.state)    \r\n            }\r\n            else if(opcode === 'Success') {\r\n                alert('Aggremment Approved');\r\n                this.getOwners();\r\n            }\r\n            else {\r\n                alert('Error Opcode '+opcode);\r\n            }\r\n        }\r\n    }\r\n    \r\n    sendApproved(name) {\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        send('/managers/approve/owner?id='+id+'&store='+store+'&user='+name, 'POST', '', this.promiseApproved);\r\n    }\r\n\r\n    renderWaitingOwners() {\r\n        let output = [];\r\n        let list = this.state.owners;\r\n        if(list===undefined || list.length === 0)\r\n            return <p style={{textAlign:'center'}}> No Waiting Approvels </p>;\r\n        list.forEach(element=>{\r\n            let onHover = (event) => {\r\n                event.currentTarget.style.backgroundColor = '#92BAFF'\r\n            }\r\n            let onLeave = (event) => {\r\n                event.currentTarget.style.backgroundColor = ''\r\n            }\r\n            output.push(\r\n                <div style={{float:'left' , border:'1px solid black', marginLeft:'30%', width:'40%'}}\r\n                    onMouseOver={onHover} onMouseLeave={onLeave}>\r\n                    <div style={{float:'left', width:'60%'}}\r\n                        onMouseOver={()=>{}} onMouseLeave={()=>{}}>\r\n                        <p style={{textAlign:'center'}}> User Name: {element}</p>\r\n                    </div>\r\n                    <div style={{float:'left', width:'40%'}}\r\n                        onMouseOver={()=>{}} onMouseLeave={()=>{}}>\r\n                        <Button text=\"Appointment\" onClick={(e)=>{this.sendApproved(element)}}/>\r\n                    </div>\r\n                </div>      \r\n            )\r\n        })\r\n        \r\n        return output;\r\n    }   \r\n\r\n    render() {    \r\n        if(this.state.owners===undefined)\r\n            this.getOwners();    \r\n        return (\r\n            <BackGrond>\r\n                <Menu state={this.props.location.state} />\r\n                <Title title={\"Approve Owners - \" + this.props.location.state.storeName}></Title>\r\n                {this.renderWaitingOwners()}\r\n                <div style={{float:'left' , width:'100%'}}>\r\n                    <Button text=\"Back\" onClick={this.onBack}/>\r\n                </div>\r\n            </BackGrond>\r\n        );\r\n    }\r\n}\r\nexport default ApproveOwnerToStore;\r\n\r\nconst style_sheet = {\r\n    textAlign: 'center',\r\n    color: \"black\",\r\n    backgroundColor: '#F3F3F3',\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\",\r\n    width:\"99%\",\r\n    marginTop:0,\r\n}","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from \"../../Component/Button\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass BuyCart extends Component {\r\n\r\n\r\n    constructor(cart) {\r\n        super();\r\n        this.handleChangeName = this.handleChangeName.bind(this);\r\n        this.handleChangeAge = this.handleChangeAge.bind(this);\r\n        this.handleChangeAddress = this.handleChangeAddress.bind(this);\r\n        this.handleChangeCountry = this.handleChangeCountry.bind(this);\r\n        this.handleChangeCreditCard = this.handleChangeCreditCard.bind(this);\r\n\r\n        this.handleChangeCvv = this.handleChangeCvv.bind(this);\r\n        this.handleChangeID = this.handleChangeID.bind(this);\r\n        this.handleChangeZip = this.handleChangeZip.bind(this);\r\n        this.handleChangeCity = this.handleChangeCity.bind(this);\r\n        this.handlebuy = this.handlebuy.bind(this);\r\n        this.buildbuy=this.buildbuy.bind(this);\r\n        this.render_name = this.render_name.bind(this);\r\n        this.cart = cart1;\r\n        this.pathname = '/buyCart';\r\n        this.state = {\r\n            name: \"\",\r\n            address: \"\",\r\n            country: \"\",\r\n            creditCard: \"\",\r\n            age: \"\",\r\n            cvv: \"\",\r\n            id: \"\",\r\n            zip: \"\",\r\n            city: \"\",\r\n        }\r\n    }\r\n\r\n    handleChangeName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n\r\n    handleChangeAge(event) {\r\n        this.setState({age: event.target.value});\r\n    }\r\n    \r\n    handleChangeAddress(event) {\r\n        this.setState({address: event.target.value});\r\n    }\r\n\r\n    handleChangeCountry(event) {\r\n        this.setState({country: event.target.value});\r\n    }\r\n\r\n    handleChangeCreditCard(event) {\r\n        this.setState({creditCard: event.target.value});\r\n    }\r\n\r\n    handleChangeCvv(event) {\r\n      this.setState({cvv: event.target.value});\r\n    }\r\n\r\n    handleChangeID(event) {\r\n      this.setState({id: event.target.value});\r\n    }\r\n\r\n    handleChangeZip(event) {\r\n      this.setState({zip: event.target.value});\r\n    }\r\n\r\n    handleChangeCity(event) {\r\n      this.setState({city: event.target.value});\r\n    }\r\n\r\n    handlebuy() {\r\n        // if (this.state.creditCard.length !== 4) {\r\n        //   alert(\"wrong credit card, must be length 4\") \r\n        // }\r\n        if (this.state.cvv.length !== 3) {\r\n          alert(\"wrong cvv, must be length 3\") \r\n        }\r\n        else if (this.state.cvv < 100 | this.state.cvv > 999) {\r\n          alert(\"wrong cvv, must be bewtween 100-999\") \r\n        }\r\n        else if (this.state.id > 999999999) {\r\n          alert(\"wrong id, must be smaller\") \r\n        }\r\n        else {\r\n          let payment_data={\r\n              name:this.state.name,\r\n              address: this.state.address,\r\n              age: this.state.age,\r\n              creditCard: this.state.creditCard,\r\n              totalPrice: 0,\r\n              country: this.state.country,\r\n              city: this.state.city,\r\n              id:this.state.id,\r\n              zip:this.state.zip,\r\n              cvv:this.state.cvv,\r\n          };\r\n          send('/home/buy?id='+this.props.location.state.id, 'POST',payment_data, this.buildbuy)\r\n        }\r\n    }\r\n\r\n    buildbuy(received) {\r\n        if(received==null)\r\n          alert(\"Server Failed\");\r\n        else {\r\n          let opt = ''+ received.reason;\r\n          if(opt == 'Success') {\r\n            alert(\"buy succefully\");\r\n            if(this.props.location.state.name===undefined)\r\n              pass(this.props.history,'/',this.pathname,this.props.location.state)\r\n            else\r\n              pass(this.props.history,'/subscribe',this.pathname,this.props.location.state)\r\n          }\r\n          else if(opt == 'Wrong_Address') {\r\n            alert('error: please fill your adress properly. Sorry.')\r\n          }\r\n          else if(opt == 'Wrong_Card') {\r\n            alert('error: please fill your credit cart number properly. Sorry.')\r\n          }\r\n          else if(opt == 'Wrong_Id') {\r\n            alert('error: please fill your id properly. Sorry.')\r\n          }\r\n          else if(opt == 'Wrong_CVV') {\r\n            alert('error: please fill your credit cart CVV properly. Sorry.')\r\n          }\r\n          else if(opt == 'Wrong_City') {\r\n            alert('error: please fill your city name properly. Sorry.')\r\n          }\r\n          else if(opt == 'Wrong_Zip') {\r\n            alert('error: please fill your zip number properly. Sorry.')\r\n          }\r\n          else if(opt == 'Invalid_Payment_Data') {\r\n            alert('error: please fill your name and adress properly. Sorry.')\r\n          }\r\n          else if(opt == 'Invalid_Delivery_Data') {\r\n            alert('error: please fill your country and adress properly. Sorry.')\r\n          }\r\n          else if(opt == 'Fail_Buy_Cart') {\r\n            alert('error: not enougth amout in the store. Sorry.')\r\n          }\r\n          else if(opt == 'Not_Stands_In_Policy') {\r\n            alert('error: please view the store policy to buy properly. Sorry.')\r\n          }\r\n          else if(opt == 'Payment_Reject') {\r\n            alert('payment regected: please speak with your credit card company. Sorry.')\r\n          }\r\n          else if(opt == 'Supply_Reject') {\r\n            alert('supply regected: please check with doar israel. Sorry.')\r\n          }\r\n          else if(opt == 'Basket_Policy_Failed') {\r\n              alert('The amount of products you try to buy is greater than the store policy allowed.')\r\n          }\r\n          else if(opt == 'Products_Policy_Failed') {\r\n              alert('The amount of one the products you try to buy is greater than the store policy allowed.')\r\n          }\r\n          else if(opt == 'Age_Policy_Failed') {\r\n              alert('Your age is too low.')\r\n          }\r\n          else if(opt == 'Country_Policy_Failed') {\r\n              alert('You cant buy from this country.')\r\n          }\r\n          else {\r\n            alert(opt+\", Unexpected error. Can't buy.\");\r\n          }\r\n        }\r\n      };\r\n\r\n    render_name() {\r\n      let subscribe_name = this.props.location.state.name; \r\n      if(subscribe_name!=undefined) {\r\n        this.state.name = subscribe_name;\r\n        return <p style={{textAlign:'center'}}> name: {subscribe_name} </p>;\r\n      }\r\n      return (\r\n        <Input title=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChangeName} />\r\n      );\r\n    }  \r\n\r\n    render() {\r\n        let onClick =()=> {\r\n            pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state)\r\n        }\r\n        return (\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state}/>\r\n                <body>\r\n                    <Title title='Buy Cart' />\r\n                    <h3 style={style_sheet}> Enter your details:</h3>\r\n                    {/*<Input title=\"name\" type=\"text\" value={this.state.name} onChange={this.handleChangeName} />*/}\r\n                    {this.render_name()}\r\n                    <Input title=\"age\" type=\"number\" min={1} value={this.state.age} onChange={this.handleChangeAge} />\r\n                    <Input title=\"address\" type=\"text\" value={this.state.address} onChange={this.handleChangeAddress} />\r\n                    <Input title=\"city\" type=\"text\"  value={this.state.city} onChange={this.handleChangeCity} />\r\n                    <Input title=\"zip\" type=\"number\" min={1} value={this.state.zip} onChange={this.handleChangeZip} />\r\n                    <Input title=\"country\" type=\"text\" value={this.state.country} onChange={this.handleChangeCountry} />\r\n                    <Input title=\"creditCard\" type=\"text\" value={this.state.creditCard} onChange={this.handleChangeCreditCard} />\r\n                    <Input title=\"cvv\" type=\"number\" value={this.state.cvv} onChange={this.handleChangeCvv} />\r\n                    <Input title=\"id\" type=\"number\" min={1} value={this.state.id} onChange={this.handleChangeID} />\r\n                    <Button text=\"buy\" onClick={this.handlebuy}/>\r\n                    <Button text=\"cancel\" onClick={onClick} />\r\n                </body>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default BuyCart;\r\n\r\nconst product={\r\n    productName: \"peanuts\",\r\n    store: \"hanut\",\r\n    category: \"category\",\r\n    amount: 3,\r\n    price: 4.5,\r\n    purchaseType: \"immediate\"\r\n}\r\n\r\nconst product2={\r\n    productName: \"peanuts2\",\r\n    store: \"hanut aheret\",\r\n    category: \"category\",\r\n    amount: 90,\r\n    price: 6.89,\r\n    purchaseType: \"immediate\"\r\n}\r\n\r\nconst cart1={\r\n    price: 30,\r\n    products: [product,product2],\r\n}\r\n\r\nconst style_table = {\r\n    width: \"99%\",\r\n    textAlign: \"center\",\r\n    border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\nborderBottom: '2px solid black'\r\n}\r\n\r\nconst style_sheet = {\r\n    textAlign: 'center',\r\n    color: \"black\",\r\n    backgroundColor: '#F3F3F3',\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\",\r\n    width:\"99%\",\r\n    marginTop:0,\r\n}","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Button from \"../../Component/Button\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass EditManagerPermissions extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleManager = this.handleManager.bind(this);\r\n        this.handleCancel = this.handleCancel.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n        this.getManagersAppointedByMe = this.getManagersAppointedByMe.bind(this);\r\n        this.getManagersPromise = this.getManagersPromise.bind(this);\r\n        this.addOrRemovePermissionsPromise = this.addOrRemovePermissionsPromise.bind(this);\r\n\r\n        this.pathname = \"/editManagerPermissions\";\r\n        this.state = {\r\n            managers: [],\r\n            showManagers: false,\r\n            manager: \"\",\r\n            permissions: [],\r\n            removePermission: false\r\n        };\r\n        this.getManagersAppointedByMe();\r\n    }\r\n\r\n    getManagersAppointedByMe(){\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        send('/home/managers/'+store+'?id='+id, 'GET', '', this.getManagersPromise)\r\n    }\r\n\r\n    getManagersPromise(received){\r\n        if(received==null)\r\n            alert(\"Server Failed\");\r\n        else {\r\n            console.log(received)\r\n            let opt = \"\"+ received.reason;\r\n            if(opt === 'Success') {\r\n                let names = received.value;\r\n                let newManagers = [];\r\n                names.forEach(\r\n                    (name) =>{\r\n                        newManagers.push({name: name});\r\n                    }\r\n                );\r\n                this.setState({managers: newManagers });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleManager(event, manager) {\r\n        this.setState({\r\n          name: event.target.value,\r\n          showManagers: true,\r\n          manager: manager,\r\n        });\r\n    }\r\n\r\n    handleSubmit() {\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        let managerData = {userName: this.state.manager , storeName: store, permissions: this.state.permissions}\r\n        let url = this.state.removePermission ? '/managers/permissions/delete' : '/managers/permissions'\r\n        console.log(\"in submit\")\r\n        send(url+'?id='+id, 'POST', managerData, this.addOrRemovePermissionsPromise)\r\n    }\r\n\r\n    addOrRemovePermissionsPromise(received){\r\n        console.log(\"here\");\r\n        if(received==null)\r\n            alert(\"Server Failed\");\r\n        else {\r\n            console.log(received)\r\n            let opt = \"\"+ received.reason;\r\n            if(opt === 'Success') {\r\n                if(received.value) {\r\n                    this.state.removePermission ? alert(\"Remove Permissions successfully!\") :\r\n                        alert(\"Added Permissions successfully!\")\r\n                }\r\n            }\r\n            else if( opt === 'Not_Found')\r\n                alert(\"Permissions Not Found to Remove\")\r\n            else if (opt === 'Invalid_Permissions')\r\n                alert(\"Inserted Invalid Permissions\")\r\n            else if (opt === 'Dont_Have_Permission')\r\n                alert(\"You don't have permission to add these permissions\")\r\n            else if (opt === 'Already_Exists')\r\n                alert(\"User already have all these permissions\")\r\n            else if (opt === \"User_Not_Found\")\r\n                alert(\"User Not Found\");\r\n            else if (opt === \"Store_Not_Found\")\r\n                alert(\"User Not Found\");\r\n        }\r\n        this.setState({\r\n            showManagers: false,\r\n            permissions : [],\r\n            removePermission: false\r\n        });\r\n    }\r\n\r\n    handleCancel(event) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            showManagers: false,\r\n            permissions : [],\r\n            removePermission: false\r\n        })\r\n    }\r\n\r\n\r\n    handleCheckboxChange(event, value){\r\n        let checked = event.target.checked;\r\n        let filteredPermissions = this.state.permissions.filter(perm => perm !== value);\r\n        if(checked) {\r\n            filteredPermissions.push(value);\r\n            console.log(filteredPermissions);\r\n        }\r\n        this.setState({permissions: filteredPermissions});\r\n    }\r\n\r\n\r\n    render_managers_table() {\r\n        let managers = this.state.managers;\r\n        let output = [];\r\n        managers.forEach(\r\n          (element) =>\r\n            output.push(\r\n              <Row onClick={(e) => this.handleManager(e, element.name)}>\r\n                <th>{element.name}</th>\r\n              </Row>\r\n            ),\r\n        );\r\n        return output;\r\n    }\r\n    \r\n    render_manager() {\r\n        return (\r\n          <table style={style_table}>\r\n            <tr>\r\n              <th style={under_line}> store managers: </th>\r\n            </tr>\r\n            {this.render_managers_table()}\r\n          </table>\r\n        );\r\n    }\r\n    \r\n    render_Permissions() {\r\n        return (\r\n            <body>\r\n               <table style={style_table} >\r\n                <tr>\r\n                    <h2> add/remove permissions to {this.state.manager}: </h2>\r\n                </tr>\r\n                   <tr>\r\n                       <label>\r\n                           <Checkbox\r\n                               onChange={(e)=> {\r\n                                   this.setState({removePermission: e.target.checked});\r\n                               }}\r\n                           />\r\n                           <span>Check in order to remove permission</span>\r\n                       </label>\r\n                   </tr>\r\n            </table> \r\n            <div>\r\n                <table style={style_table}>\r\n                    <tr>\r\n                        <th>\r\n                            <label>\r\n                                <Checkbox\r\n                                    onChange={(e)=> this.handleCheckboxChange(e,\"PRODUCTS_INVENTORY\")}\r\n                                />\r\n                            <span>Inventory management</span>\r\n                            </label>\r\n                        </th>\r\n                        <th>\r\n                            <label>\r\n                                <Checkbox\r\n                                    onChange={(e)=> this.handleCheckboxChange(e,\"ADD_MANAGER\")}\r\n                                />\r\n                            <span>Add/Delete manager</span>\r\n                            </label>\r\n                        </th>\r\n                        <th>\r\n                            <label>\r\n                                <Checkbox\r\n                                    onChange={(e)=> this.handleCheckboxChange(e,\"ADD_OWNER\")}\r\n                                />\r\n                            <span>Add/Delete owner</span>\r\n                            </label>\r\n                        </th>\r\n                        <th>\r\n                            <label>\r\n                                <Checkbox\r\n                                    onChange={(e)=> this.handleCheckboxChange(e,\"CRUD_POLICY_DISCOUNT\")}\r\n                                />\r\n                            <span>Policy management</span>\r\n                            </label>\r\n                        </th>\r\n                    </tr>\r\n                </table>\r\n            </div>    \r\n            </body>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let onBack= () => {\r\n            pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n        }\r\n        return(\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state} />\r\n                <div>\r\n                    <Title title=\"Edit permissions to manager from store:\"/>\r\n                    {this.state.showManagers === false ? this.render_manager() : \"\"}\r\n                    {this.state.showManagers === false ? <Button text=\"Back\" onClick={onBack}/> : \"\"}\r\n                    {this.state.showManagers === true ? this.render_Permissions() : \"\"}\r\n                    {this.state.showManagers === true ? <Button text=\"Add\" onClick={this.handleSubmit}/> : \"\"}\r\n                    {this.state.showManagers === true ? <Button text=\"Back\" onClick={this.handleCancel}/> : \"\"}\r\n                </div>\r\n            </BackGroud>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditManagerPermissions;\r\n\r\nconst style_table = {\r\n    width: \"99%\",\r\n    textAlign: \"center\",\r\n    border: \"2px solid black\",\r\n};\r\n  \r\nconst under_line = {\r\n    borderBottom: \"2px solid black\",\r\n};\r\n\r\nconst Checkbox = props => (\r\n    <input type=\"checkbox\" {...props} />\r\n)","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Button from \"../../Component/Button\";\r\nimport Row from \"../../Component/Row\";\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\nimport TextArea from \"../../Component/TextArea\";\r\n\r\nclass ViewAndReplyRequests extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleRequests = this.handleRequests.bind(this);\r\n        this.handleChangeComment = this.handleChangeComment.bind(this);\r\n        this.getRequestsPromise = this.getRequestsPromise.bind(this);\r\n        this.getRequestById = this.getRequestById.bind(this);\r\n        this.getRequestOfStore = this.getRequestOfStore.bind(this);\r\n        this.renderRequestTable = this.renderRequestTable.bind(this);\r\n        this.renderRequests = this.renderRequests.bind(this);\r\n        this.handleSend = this.handleSend.bind(this);\r\n\r\n        this.pathname = \"/viewAndReplyRequests\";\r\n        this.state ={\r\n            requests: '',\r\n            enableResponse: false,\r\n            requestId:'',\r\n            comment: '',\r\n        }\r\n        this.getRequestOfStore();\r\n    }\r\n\r\n    getRequestOfStore(){\r\n        let id = this.props.location.state.id;\r\n        let store = this.props.location.state.storeName;\r\n        send('/managers/request/'+store+'?id='+id, 'GET', '', this.getRequestsPromise)\r\n    }\r\n\r\n    getRequestsPromise(received){\r\n        if(received==null)\r\n            alert(\"Server Failed\");\r\n        else {\r\n            let opt = \"\"+ received.reason;\r\n            if(opt === 'Success') {\r\n                this.setState({\r\n                    requests: received.value,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    renderRequestTable(){\r\n        let requests = this.state.requests;\r\n        let output = [];\r\n        if(requests) {\r\n            requests.forEach(\r\n                (element) =>\r\n                    output.push(\r\n                        <Row onClick={(e) => this.handleRequests(e, element.id)}>\r\n                            <th>{element.id}</th>\r\n                            <th>{element.senderName}</th>\r\n                            <th>{element.content}</th>\r\n                        </Row>\r\n                    )\r\n            );\r\n        }\r\n        return output;\r\n    }\r\n\r\n    renderRequests() {\r\n        return (\r\n            <table style={style_table}>\r\n                <tr>\r\n                    <th style={under_line}> ID </th>\r\n                    <th style={under_line}> Sender </th>\r\n                    <th style={under_line}> Content </th>\r\n                </tr>\r\n                    {this.renderRequestTable()}\r\n            </table>\r\n        );\r\n    }\r\n\r\n    handleRequests(event, requestId){\r\n        this.setState({\r\n            name: event.target.value,\r\n            enableResponse: true,\r\n            requestId: requestId,\r\n        })\r\n    }\r\n\r\n    handleChangeComment(event){\r\n        this.setState({comment: event.target.value});\r\n    }\r\n\r\n    handleSend(event) {\r\n        let requestId = this.state.requestId;\r\n        if(this.state.comment === '')\r\n            alert(\"Cannot send an empty comment!\")\r\n        if(this.getRequestById(requestId).comment !== null){\r\n            alert(\"Already sent a comment!\")\r\n        }\r\n        else {\r\n            let id = this.props.location.state.id;\r\n            let store = this.props.location.state.storeName;\r\n            let responseData = {requestId: requestId, content: this.state.comment};\r\n            send('/managers/response/'+store+'?id='+id, 'POST', responseData, (received) =>{\r\n                if(received==null) {\r\n                    alert('Server Crashed')\r\n                }\r\n                else {\r\n                    let opcode = ''+received.reason;\r\n                    if(opcode === 'Success') {\r\n                        let request = received.value;\r\n                        request.comment === this.state.comment ?\r\n                            alert(`Send response to request ${requestId} Successfully!`) :\r\n                            alert(`Cannot send response to request ${requestId}!`)\r\n                    }\r\n                    else if(opcode=='InvalidRequest'){\r\n                        alert(\"invalid comment: please, send non empty cooment \");\r\n                    }\r\n                    else if(opcode=='Dont_Have_Permission'){\r\n                        alert(\"you don't have permission for that action\");\r\n                        pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n                    }\r\n                    else{\r\n                        alert(\"store not found, wrong details\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    getRequestById(requestId){\r\n        let requests = this.state.requests;\r\n        return requests.filter((req) => req.id === requestId)[0];\r\n    }\r\n\r\n    renderResponse(){\r\n        return(\r\n            <div>\r\n                <TextArea title = {'Response to request with id '+ this.state.requestId +':'} rows={4} cols={50} value={this.state.comment} onChange={this.handleChangeComment}></TextArea>\r\n                <Button text=\"send\" onClick={this.handleSend}></Button>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let onBack= () => {\r\n            pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n        }\r\n        return (\r\n            <BackGrond>\r\n                <Menu state={this.props.location.state} />\r\n                <Title title=\"Watch And Replay On Requests\"></Title>\r\n                <div>\r\n                    <h4 style={style_sheet}>Requests in store: {this.props.location.state.storeName}</h4>\r\n                    <div>\r\n                        {this.renderRequests()}\r\n                    </div>\r\n                    {this.state.enableResponse ? this.renderResponse() : (\"\")}\r\n                    <Button text=\"Back\" onClick={onBack}/>\r\n                </div>\r\n            </BackGrond>\r\n        );\r\n    }\r\n}\r\nexport default ViewAndReplyRequests;\r\n\r\nconst style_sheet = {\r\n    textAlign: 'center',\r\n    color: \"black\",\r\n    backgroundColor: '#F3F3F3',\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\",\r\n    width:\"99%\",\r\n    marginTop:0,\r\n}\r\n\r\nconst style_table = {\r\n    width: \"99%\",\r\n    textAlign: \"center\",\r\n    border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n    borderBottom: \"2px solid black\",\r\n};\r\n","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../../Component/BackGrond\";\r\nimport Menu from \"../../../Component/Menu\";\r\nimport Title from \"../../../Component/Title\";\r\nimport Button from \"../../../Component/Button\";\r\nimport {send} from '../../../Handler/ConnectionHandler';\r\nimport {pass} from \"../../../Utils/Utils\";\r\n\r\n\r\nclass WatchUserAndStoreHistory extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.handleChangeStoreName = this.handleChangeStoreName.bind(this);\r\n        this.handleChangeUserName = this.handleChangeUserName.bind(this);\r\n        this.create_Purchases_stores=this.create_Purchases_stores.bind(this);\r\n        this.buildPurchases=this.buildPurchases.bind(this);\r\n        this.renderPurchas=this.renderPurchase.bind(this);\r\n        this.create_Purchases_user=this.create_Purchases_user.bind(this);\r\n        this.render_optinos=this.render_optinos.bind(this);\r\n        this.create_list=this.create_list.bind(this);\r\n        this.buildStores=this.buildStores.bind(this);\r\n        this.buildUsers=this.buildUsers.bind(this);\r\n        this.switch_state=this.switch_state.bind(this);\r\n        this.flag=true;\r\n        this.state = {\r\n            user: \"\",\r\n            store: \"\",\r\n            purchases:[],\r\n            showStores: true,\r\n            values:[],\r\n        };\r\n        \r\n    }\r\n\r\n    create_Purchases_stores(){\r\n        this.flag=false;\r\n        let id = this.props.location.state.id;\r\n        send('/admin/storehistory/'+this.state.store+'?id='+id, 'GET','', this.buildPurchases);\r\n    }\r\n\r\n    create_Purchases_user(){\r\n        let id = this.props.location.state.id;\r\n        send('/admin/userhistory/'+this.state.user+'?id='+id, 'GET','', this.buildPurchases);\r\n    }\r\n      \r\n      buildPurchases(received){\r\n        if(received==null)\r\n          alert(\"Server Failed\");\r\n        else {\r\n          let opt = ''+ received.reason;\r\n          if(opt == 'Success') {\r\n            this.setState({purchases:received.value});\r\n          }\r\n          else if(opt == 'Store_Not_Found') {\r\n            alert(\"the store does'nt exist\");\r\n          }\r\n          else if(opt == 'Dont_Have_Permission') {\r\n            alert(\"you don't have permission to watch the store history\");\r\n          }\r\n          else {\r\n            alert(opt+\", Can't present your store purchases\");\r\n          }\r\n        }\r\n      }\r\n     \r\n  renderPurchase(){\r\n    let output=[];\r\n    this.state.purchases.forEach(element => {\r\n      let index=element.date.indexOf('T'); \r\n      output.push(\r\n      <table style={style_sheet}>\r\n          <tr>\r\n              {\"purchase \"+this.counter+++\":\"}\r\n              <th>{\"buyer:\"+element.buyer}</th>\r\n              <th>{\"store:\"+element.storeName}</th>\r\n              <th>{\"total price:\"+element.price}</th>\r\n              <th>{\"date:\"+element.date.substring(0,index)}</th>\r\n              <th>{\"hour:\"+element.date.substring(index+1)}</th>\r\n            </tr>\r\n           {this.renderProduct(element.product)}\r\n        </table>\r\n        )\r\n    });\r\n    this.counter=1;\r\n    return output\r\n  }\r\n\r\n  renderProduct(products){\r\n    let output=[];\r\n    products.forEach(pro => {\r\n        output.push(\r\n            <tr>\r\n                <th>{\"product name:\"+pro.productName}</th>\r\n                <th>{\"category:\"+pro.category}</th>\r\n                <th>{\"amount:\"+pro.amount}</th>\r\n                <th>{\"purchase type:\"+pro.purchaseType}</th>\r\n            </tr>\r\n        )\r\n    }); \r\n    return output;\r\n  }\r\n\r\n  create_list(){\r\n    if(this.flag){\r\n      this.flag=false;\r\n      if(this.state.showStores){\r\n        send('/store', 'GET','', this.buildStores);\r\n      }\r\n      else{\r\n          let id = this.props.location.state.id;\r\n          send('/admin/allusers/'+this.state.user+'?id='+id, 'GET','', this.buildUsers);\r\n      }\r\n    }\r\n  }\r\n\r\n  buildStores(received){\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n    if(opt == 'Success') {\r\n      let stores=[];\r\n      received.value.forEach(store=>{\r\n        stores.push(store.name);\r\n      });\r\n      this.setState({values:stores});\r\n    }\r\n    else {\r\n      alert(opt+\", Can't present purchases\");\r\n      this.setState({values:[]});\r\n    }\r\n  }\r\n  }\r\n\r\n  buildUsers(received){\r\n    if(received==null)\r\n    alert(\"Server Failed\");\r\n  else {\r\n    let opt = ''+ received.reason;\r\n    if(opt == 'Success') {\r\n      this.setState({values:received.value});\r\n    }\r\n    else if(opt == 'NOT_ADMIN') {\r\n      alert(\"you are not admin\");\r\n      this.setState({values:[]});\r\n    }\r\n    else {\r\n      alert(opt+\", Can't present purchases\");\r\n      this.setState({values:[]});\r\n    }\r\n  }\r\n  }\r\n\r\n    handleChangeStoreName(event) {\r\n        this.setState({store: event.target.value,});\r\n    }\r\n\r\n    handleChangeUserName(event) {\r\n        this.setState({user: event.target.value,});\r\n    }\r\n\r\n    render_stores() {\r\n        return (\r\n            <BackGroud>\r\n                <Title title='Watch store history:' />\r\n                <div style={select_style}>\r\n                    <label style = {{textAlign:'center'}}>Store name: </label>\r\n                  </div>\r\n                  <div style={select_style}>\r\n                    <select  onChange={this.handleChangeStoreName}>\r\n                    <option value=\"\">-------------------</option>\r\n                    {this.render_optinos()}\r\n                    </select>\r\n                  </div>\r\n                <Button text='show history of the store' onClick={this.create_Purchases_stores}/>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n    render_optinos(){\r\n      let output=[];\r\n      this.state.values.forEach(element => {\r\n        output.push(\r\n          <option value={element}>{element}</option>\r\n        )\r\n      })\r\n      return output;\r\n    }\r\n\r\n    render_users() {\r\n        return (\r\n            <BackGroud>\r\n                <Title title='Watch user history:' />\r\n                  <div style={select_style}>\r\n                    <label style = {{textAlign:'center'}}>User name: </label>\r\n                  </div>\r\n                  <div style={select_style}>\r\n                    <select  onChange={this.handleChangeUserName}>\r\n                    <option value=\"\">-------------------</option>\r\n                    {this.render_optinos()}\r\n                    </select>                    \r\n                  </div>\r\n                \r\n                <Button text='show history of the user' onClick={this.create_Purchases_user}/>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n    switch_state(){\r\n      this.setState({showStores: !this.state.showStores,purchases:[], user:'',store:'',values:[]});\r\n      this.flag=true;\r\n    }\r\n\r\n    render() {\r\n        let onBack= () => {\r\n            pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state);\r\n        }\r\n      this.create_list();\r\n        return (\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state}/>\r\n                <body>\r\n                    {this.state.showStores === true ? this.render_stores() : this.render_users()}\r\n                    <Button text=\"switch\" onClick={this.switch_state} />\r\n                </body>\r\n                {this.renderPurchase()} \r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default WatchUserAndStoreHistory;\r\n\r\nconst style_sheet = {\r\n    color: \"black\",\r\n    padding: \"1px\",\r\n    margin: \"10px\",\r\n    lineHeight: 5,\r\n    fontFamily: \"Arial\",\r\n    width:\"80%\",\r\n  }\r\n\r\nconst select_style={\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\"\r\n}","import React, {Component} from 'react';\r\nimport BackGrond from '../../Component/BackGrond';\r\nimport Title from '../../Component/Title';\r\nimport Row from '../../Component/Row';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport MenuSubscribe from '../../Component/MenuSubscribe';\r\nimport logo_store from '../../Assests/store.jpg';\r\nclass SubscribeIndex extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.pathname = \"/subscribe\"\r\n    this.state = {\r\n      id: -1,\r\n      error:'',\r\n      stores:[],\r\n      flag:false\r\n    };\r\n    this.buildStores = this.buildStores.bind(this);\r\n  }\r\n\r\n  buildStores(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if(opt == 'Success') {\r\n        this.setState({stores:received.value, flag:true})\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Store\");\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  create_stores() {\r\n    if(this.state.flag===false) {\r\n      send('/store', 'GET', '', this.buildStores)  \r\n    }\r\n  }\r\n\r\n  renderStore(element) {\r\n    let m = (90  / 3);\r\n    return ( <div style={{float:'left', width:m+'%', border:'1px solid black', textAlign:'center', margin:'1%'}}>\r\n                <div style={{float:'left', width:'100%', background:'#3086DB'}}>\r\n                  <p> {element.name} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <p> {element.description} </p>\r\n                </div>\r\n                <div style={{float:'left', width:'100%'}}>\r\n                  <img src={logo_store}/>\r\n                </div>\r\n             </div>\r\n    )\r\n  }\r\n\r\n  render_stores_table() {\r\n      let output = [];\r\n      this.state.stores.forEach( element =>\r\n        output.push( this.renderStore(element)\r\n        //   <Row>\r\n        //     <th> {element.name} </th>\r\n        //     <th> {element.description} </th>\r\n        //   </Row>\r\n        )\r\n      )\r\n      return output;\r\n  }\r\n\r\n  render_stores() {\r\n    return this.render_stores_table();\r\n    // <table style={style_table}>\r\n    //   <tr>\r\n    //     <th style = {under_line}> Store Name </th>\r\n    //     <th style = {under_line}> Description </th>\r\n    //   </tr>\r\n    //   {this.render_stores_table()}\r\n    // </table>);\r\n  }\r\n\r\n  render() {\r\n    this.create_stores();\r\n    return (\r\n      <BackGrond>\r\n          <MenuSubscribe state={this.props.location.state}/>\r\n          {/*<Notifications id={this.props.location.state.id}/>*/}\r\n          <body>\r\n            <Title title={\"Welcome user \"+this.props.location.state.name}/>\r\n            <div >\r\n              <h3 style={{textAlign:'center'}}> Stores </h3>\r\n              {(this.state.stores.length===0)?<h3 style={{textAlign:'center'}}> no stores on board</h3>: this.render_stores()}\r\n            </div>\r\n          </body>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SubscribeIndex;\r\n\r\nconst style_table = {\r\n  \r\n  width:\"99%\", \r\n  textAlign: 'center',\r\n  border: '2px solid black',\r\n  lineHeight:1.5,\r\n  margin:7.5,\r\n}\r\n\r\nconst under_line = {\r\n  borderBottom: '2px solid black'\r\n}\r\n\r\nconst style_p = {\r\n  textAlign: 'center'\r\n}","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from '../../Component/Menu';\r\nimport Title from \"../../Component/Title\";\r\nimport Input from \"../../Component/Input\";\r\nimport Button from '../../Component/Button';\r\nimport Row from '../../Component/Row';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nclass EditProductInStore extends Component {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/editProduct\";\r\n    this.editClick = this.editClick.bind(this);\r\n    this.editProductPromise = this.editProductPromise.bind(this);\r\n    this.getProducts = this.getProducts.bind(this);\r\n    this.state = {\r\n      products:[],\r\n      updated_products: false,\r\n      name:undefined,\r\n      category:'',\r\n      amount: 1,\r\n      price: 1,\r\n      purchase: 'IMMEDDIATE',\r\n    }\r\n  }\r\n\r\n  getProducts() {\r\n    let buildProducts = (received) => {\r\n      if(received===null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+ received.reason;\r\n        if(opt === 'Success') {\r\n          this.setState({products:received.value, updated_products:true})\r\n        }\r\n        else if(opt === 'Store_Not_Found') {\r\n          alert('Store Not Found. Soryy.')\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n        else {\r\n          alert(\"Cant Access products\");\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n      }\r\n    }\r\n    if(this.state.updated_products === false) {\r\n      send('/home/product?store='+this.props.location.state.storeName, 'GET','', buildProducts);  \r\n    }\r\n  }\r\n\r\n\r\n  editClick() {\r\n    let msg ={};\r\n    msg['productName']=this.state.name;\r\n    msg['storeName']=this.props.location.state.storeName;\r\n    msg['category']=this.state.category;\r\n    msg['amount'] = this.state.amount;\r\n    msg['price'] = this.state.price;\r\n    msg['purchaseType'] = this.state.purchase;\r\n    let id = this.props.location.state.id;\r\n    send('/home/product/edit?id='+id,'POST',msg,this.editProductPromise)\r\n  }\r\n\r\n  editProductPromise(received) {\r\n    if(received===null)\r\n      alert(\"Server Failed\");\r\n    else {\r\n      let opt = ''+ received.reason;\r\n      if (opt === \"Invalid_Product\") {\r\n        alert(\"The product data isnt valid. please insert again\");\r\n      } \r\n      else if(opt === 'Store_Not_Found') {\r\n        alert(\"Store doesn't Exits. Go back to main menu\");\r\n        pass(this.props.history,'/subscribe',this.pathname,this.props.location.state)\r\n      }\r\n      else if(opt ===\"Dont_Have_Permission\") {\r\n        alert(\"User Doesnt have premission for that. By By\");\r\n        pass(this.props.history,'/storeManagement',this.pathname,this.props.location.state)\r\n      }\r\n      else if(opt === 'Success') {\r\n        alert(\"Product Edit\");\r\n        this.setState({\r\n          name:undefined,\r\n          category:'',\r\n          amount: 1,\r\n          price: 1,\r\n          updated_products:false,\r\n        })\r\n      }\r\n      else {\r\n        alert(opt+\", Cant Add Product to Store\");\r\n      }\r\n    }\r\n  }\r\n\r\n  /* the function render the selected product */\r\n  renderSelectedProduct() {\r\n    if(this.state.name === undefined)\r\n      return <p style={{textAlign:'center'}} Didnt selected a product></p>\r\n    return ( \r\n    <div>\r\n        <h2 style={{textAlign:'center'}}>{this.state.name} </h2>\r\n        <Input type=\"text\" title = 'Category:' value={this.state.category} \r\n              onChange={(e)=>{this.setState({category:e.target.value})}} />\r\n        <Input type=\"number\" min={1} title = 'Amount:' value={this.state.amount} \r\n              onChange={(e)=>{this.setState({amount:e.target.value})}} />\r\n        <Input type=\"number\" min={1} title = 'Price' value={this.state.price} \r\n              onChange={(e)=>{this.setState({price:e.target.value})}} />\r\n        <Input type=\"text\" title = 'Purchase Type:' value={this.state.purchase} \r\n              onChange={()=>{}} />\r\n        <Button text='Edit' onClick={this.editClick}/>\r\n    </div>);\r\n  }\r\n\r\n  /* the function print the product table */\r\n  render_product_table() {\r\n    let onClick = (element) => {\r\n      this.setState({\r\n        name: element.productName,\r\n        category: element.category,\r\n        amount: element.amount,\r\n        price: element.price,\r\n        purchase: element.purchaseType,\r\n      });\r\n    };\r\n    let proudcts = this.state.products;\r\n    let output = [];\r\n    proudcts.forEach((element) =>\r\n      output.push(\r\n        <Row onClick={()=>onClick(element)}>\r\n          <th> {element.productName} </th>\r\n          <th> {element.category} </th>\r\n          <th> {element.amount} </th>\r\n          <th> {element.price} </th>\r\n          <th> {element.purchaseType} </th>\r\n        </Row>\r\n      )\r\n    );\r\n    return output;\r\n  }\r\n\r\n  render_product() {\r\n    this.getProducts();\r\n    return (\r\n      <div>\r\n        <h3>{this.state.store}</h3>\r\n        <table style={style_table}>\r\n          <tr>\r\n            <th style={under_line}> Product Name </th>\r\n            <th style={under_line}> Category </th>\r\n            <th style={under_line}> Amount </th>\r\n            <th style={under_line}> Price </th>\r\n            <th style={under_line}> Purchase Type </th>\r\n          </tr>\r\n          {this.render_product_table()}\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title={\"Add Product To Store:\"}/>\r\n        <h2 style={{textAlign:'center'}}>{this.props.location.state.storeName}</h2>\r\n        {this.render_product()}\r\n        {this.renderSelectedProduct()}\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProductInStore;\r\n\r\nconst style_table = {\r\n  width: \"99%\",\r\n  textAlign: \"center\",\r\n  border: \"2px solid black\",\r\n};\r\n\r\nconst under_line = {\r\n  borderBottom: \"2px solid black\",\r\n};\r\n","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from '../../Component/Menu';\r\nimport Title from \"../../Component/Title\";\r\nimport Button from '../../Component/Button';\r\nimport DivBetter from '../../Component/DivBetter'\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nconst CLASS_AND = 'Domain.Discount.AndDiscount'; \r\nconst CLASS_OR = 'Domain.Discount.OrDiscount';\r\nconst CLASS_XOR = 'Domain.Discount.XorDiscount';\r\nconst CLASS_STORE = 'Domain.Discount.StoreDiscount';\r\nconst CLASS_SIMPLE = 'Domain.Discount.RegularDiscount';\r\nconst CLASS_BASIC_TERM = 'Domain.Discount.Term.BaseTerm';\r\nconst CLASS_AND_TERM = 'Domain.Discount.Term.AndTerm';\r\nconst CLASS_OR_TERM = 'Domain.Discount.Term.OrTerm';\r\nconst CLASS_XOR_TERM = 'Domain.Discount.Term.XorTerm';\r\nconst CLASS_TERM = 'Domain.Discount.ProductTermDiscount';\r\n  \r\nclass ViewDiscounts extends Component {\r\n  \r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/viewDiscounts\";\r\n    this.getMap = this.getMap.bind(this);\r\n    this.renderRowOfDiscounts = this.renderRowOfDiscounts.bind(this);\r\n    this.removeDiscount=this.removeDiscount.bind(this);\r\n    this.deleteCallBack=this.deleteCallBack.bind(this);\r\n    this.init_permissions = this.init_permissions.bind(this);\r\n    this.canDeletePromise = this.canDeletePromise.bind(this);\r\n    this.flag = true;\r\n    this.state = {\r\n      mapped: false,\r\n      map: {},\r\n      canDelete: false,\r\n    };\r\n    this.elementInRow = 3;\r\n  }\r\n\r\n  init_permissions() {\r\n    let id=this.props.location.state.id;\r\n    if(this.flag){\r\n      this.flag=false;\r\n      send('/home/permissions/'+this.props.location.state.storeName+'?id='+id, 'GET','',this.canDeletePromise);\r\n    }\r\n  }\r\n\r\n  canDeletePromise(received) {\r\n    if(received==null)\r\n      alert(\"Server Failed\");\r\n    else{\r\n      let opt = ''+ received.reason;\r\n      if(opt === 'Success') {\r\n        let permissions = received.value;\r\n        this.setState({\r\n          canDelete: permissions.includes(\"OWNER\")||permissions.includes(\"CRUD_POLICY_DISCOUNT\")\r\n        });\r\n      }\r\n      else{\r\n        this.setState({\r\n          canDelete: false\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /* get the map of discounts */\r\n  getMap() {\r\n    if(this.state.mapped==false) {\r\n    let promise = (received) => {\r\n      if (received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = received.reason;\r\n        console.log(received.value);\r\n        if(opt == 'Store_Not_Found') {\r\n            alert(\"Store Not Exites\");\r\n          }\r\n        else if(opt == 'Success') {\r\n          this.setState({map:received.value,mapped:true});\r\n          this.init_permissions();\r\n        }\r\n        }\r\n      }\r\n    send('/store/discount/get?store='+this.props.location.state.storeName,'GET','',promise)\r\n    }\r\n  }\r\n\r\n   /*this function render the discount list */\r\n   renderSelectedDiscountList(element, deleteOn){\r\n    let output=[];\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_TERM:\r\n        output.push(this.renderDiscountByClass(element, deleteOn));\r\n        return output;\r\n      case CLASS_XOR: case CLASS_OR: case CLASS_AND:\r\n        let list = element.DATA.discounts;\r\n        list.forEach(elemnt =>{\r\n          output.push(this.renderDiscountByClass(elemnt, deleteOn) )\r\n        })\r\n        return output;\r\n      default:\r\n        element.forEach(elemnt =>{\r\n            output.push(this.renderDiscountByClass(elemnt, deleteOn) )\r\n        })\r\n        return output;\r\n    }\r\n  }\r\n\r\n  /*the function print the comlicated discount by class */\r\n  renderComlicatedByClass(elemnt){\r\n    let name='';\r\n    switch(elemnt.CLASSNAME) {\r\n      case CLASS_AND: name = 'AND Discount'; break; \r\n      case CLASS_OR: name = 'OR Discount'; break;\r\n      case CLASS_XOR: name = 'XOR Discount'; break;\r\n      default:\r\n    }\r\n    return (\r\n      <div style= {{border:'1px solid black', textAlign:'center', marginBottom:5, backgroundColor:'white'}}>\r\n        <p style={{borderBottom:'1px solid black', backgroundColor:'#47CEFF', marginTop:0}}> {name} </p>\r\n        <div style={{padding:10}}>\r\n          {this.renderSelectedDiscountList(elemnt, false)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  /*the funcion print term discount */\r\n  renderTermByClass(term) {\r\n    let title = 'Simple Term';\r\n    switch(term.CLASSNAME) {\r\n      case CLASS_BASIC_TERM:\r\n        return (        \r\n        <DivBetter>\r\n          <p style={{backgroundColor:'pink',marginTop:0}}>{title}</p>\r\n          <p style={{textAlign:'center'}}> product: {term.DATA.product} </p>\r\n          <p style={{textAlign:'center'}}> amount: {term.DATA.amount} </p>\r\n        </DivBetter>)\r\n      case CLASS_AND_TERM: title = 'AND Term'; break;\r\n      case CLASS_OR_TERM: title = 'OR Term'; break; \r\n      case CLASS_XOR_TERM: title = 'XOR Term'; break;\r\n      default:\r\n    }\r\n    let renderList = (terms) => {\r\n      let output = [];\r\n      terms.forEach(element => {\r\n        output.push(this.renderTermByClass(element))\r\n      })\r\n      return output;\r\n    }\r\n    return (\r\n      <DivBetter>\r\n        <p style={{backgroundColor:'#E640B5',marginTop:0}}>{title}</p>\r\n        <div style={{padding:3}}>\r\n          {renderList(term.DATA.terms)}\r\n        </div>\r\n      </DivBetter>\r\n    )\r\n  }\r\n\r\n  /* this function print diffrent elemnts by the class name */\r\n  renderDiscountByClass(elemnt) {\r\n    switch(elemnt.CLASSNAME) {\r\n      case CLASS_STORE:\r\n        return (<div>\r\n                  <DivBetter style={{margin:4}}>\r\n                    <p style={{backgroundColor:'#FFC242', height:30, marginTop:0}}> Store Discount</p>\r\n                    <p style={{margin:2}}> Amount: {elemnt.DATA.minAmount} </p>\r\n                    <p style={{margin:2}}> Precentage: {elemnt.DATA.percentage} % </p>\r\n                  </DivBetter>\r\n                </div>);\r\n      case CLASS_AND: case CLASS_XOR: case CLASS_OR:\r\n        return (\r\n          <div style = {{padding:2}}>\r\n            {this.renderComlicatedByClass(elemnt)}\r\n          </div>\r\n        );\r\n      case CLASS_SIMPLE:\r\n        return (\r\n          <DivBetter>\r\n            <p style={{backgroundColor:'lightgreen', marginTop:0}}> Simple Discount </p>\r\n            <p style={{textAlign:'center'}}>Product: {elemnt.DATA.product} </p>\r\n            <p style={{textAlign:'center'}}>Precentage: {elemnt.DATA.percantage} % </p>\r\n          </DivBetter>\r\n        )\r\n      case CLASS_TERM:\r\n        let term = elemnt.DATA.term;\r\n        let target_prodct = elemnt.DATA.product;\r\n        let target_amount = elemnt.DATA.amount;\r\n        return (\r\n          <DivBetter> \r\n              <p style={{backgroundColor:'#CC84F0',textAlign:'center', marginTop:0}}> Term Discount </p>\r\n              <p style={{textAlign:'center'}}> Product: {target_prodct}</p>\r\n              <p style={{textAlign:'center'}}> Amount: {target_amount}</p>\r\n              <div style={{padding:4}}>\r\n                {this.renderTermByClass(term)}\r\n              </div>\r\n          </DivBetter>\r\n        );\r\n      default:\r\n    }\r\n  }\r\n\r\n\r\n  deleteCallBack(received){\r\n    if (received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = received.reason;\r\n        if(opt == 'Store_Not_Found') {\r\n            alert(\"Store Not Exites\");\r\n        }\r\n        else if(opt=='Dont_Have_Permission'){\r\n            alert(\"you don't have permmission to delete the disocunt\")\r\n        }\r\n        else if(opt=='Not_Found'){\r\n          alert(\"disount not exist\")\r\n        }\r\n        else if(opt == 'Success') {\r\n          alert(\"discount was removed successfully\");\r\n          this.setState({mapped:false});\r\n          this.getMap();\r\n        }\r\n      }\r\n  }\r\n\r\n  removeDiscount(index){\r\n    let id=this.props.location.state.id;\r\n    let storeName=this.props.location.state.storeName;\r\n    send('/store/discount/delete?store='+storeName+'&id='+id,'POST',index,this.deleteCallBack);\r\n  }\r\n  /*this function render a discount */\r\n  renderDiscount(index) {\r\n    let keys =  Object.getOwnPropertyNames(this.state.map);\r\n    let discount = this.state.map[keys[index]];\r\n\r\n    if(discount!==undefined){\r\n      let out=discount.toString();\r\n      let b=JSON.parse(out);\r\n      return (\r\n        <div>\r\n            {this.renderDiscountByClass(b)}\r\n            { this.state.canDelete? <Button text=\"DELETE\" onClick={() => this.removeDiscount(keys[index])}/> : \"\"}\r\n        </div>        \r\n        )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <p> {discount} </p>\r\n      </div>)\r\n  }\r\n\r\n  /*the discount render a row of discounts elements */\r\n  renderRowOfDiscounts(index,mapsize) {\r\n    let output = [];\r\n    let end = index+this.elementInRow;\r\n    for(let i=index;i<end && i<mapsize;i++) {\r\n      output.push(\r\n        <div style={{float:'left', width:(98/this.elementInRow)+'%'}}>\r\n          {this.renderDiscount(i)}\r\n        </div>\r\n      )\r\n    }\r\n    return output;\r\n  }\r\n\r\n  /*this function render the discount map */\r\n  renderDiscountsMap() {\r\n    this.getMap();\r\n    let keys =  Object.getOwnPropertyNames(this.state.map);\r\n    if(keys.length === 0) {\r\n      return <p style={{textAlign:'center'}}> No disconts in store</p>;\r\n    }\r\n    let output = [];\r\n    for(let i=0;i<=((keys.length+(this.elementInRow-1))/this.elementInRow);i++) {\r\n      output.push(\r\n        <div>\r\n          {this.renderRowOfDiscounts(i*this.elementInRow,keys.length)}\r\n          \r\n        </div>\r\n        )\r\n    }\r\n    return output;\r\n  }\r\n\r\n  /*the main render function */\r\n  render() {\r\n    let onBack= () => {\r\n      pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n    }\r\n    let storeName = this.props.location.state.storeName;\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title={\"View Discounts \"+storeName}/>\r\n        {this.renderDiscountsMap()}\r\n        <div style={{float:'left', width:'100%'}}>\r\n          <Button text=\"Back\" onClick={onBack}/>\r\n        </div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewDiscounts;\r\n\r\nconst titleStyle ={\r\n  textAlign:'center',\r\n  backgroundColor:'lightgray',\r\n  borderBottom:'1px solid black',\r\n  marginBottom:5,\r\n};\r\n\r\nconst buttonX = {\r\n  backgroundColor:'#B38118',\r\n  margin:5,\r\n}\r\n\r\nconst buttonSmall = {\r\n  backgroundColor:'#0041B3', \r\n  color:'white'\r\n}","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Button from \"../../Component/Button\";\r\nimport DivBetter from '../../Component/DivBetter';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nconst CLASS_SYSTEM = 'Domain.PurchasePolicy.SystemPurchasePolicy';\r\nconst CLASS_BASKET = 'Domain.PurchasePolicy.BasketPurchasePolicy';\r\nconst CLASS_COUNRTY = 'Domain.PurchasePolicy.UserPurchasePolicy';\r\nconst CLASS_PRODUCT = 'Domain.PurchasePolicy.ProductPurchasePolicy';\r\nconst CLASS_AND = 'Domain.PurchasePolicy.ComposePolicys.AndPolicy';\r\nconst CLASS_OR = 'Domain.PurchasePolicy.ComposePolicys.OrPolicy';\r\nconst CLASS_XOR = 'Domain.PurchasePolicy.ComposePolicys.XorPolicy';\r\n\r\nclass ManagePolicy extends Component {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/policy\";\r\n    this.list_selected=[];\r\n    this.list_comlicated=[];\r\n    this.list_county=[];\r\n    this.map_prodcts={};\r\n    this.flag = false;\r\n    this.state = {\r\n      age:1,\r\n      maxAmount:0,\r\n      minAmount:0,\r\n      country:'',\r\n      selected_policy:undefined,\r\n      products:[],\r\n      selected_product:undefined,\r\n      selected_amount_max:0,\r\n      selected_amount_min:0,\r\n    };\r\n    this.updateClick = this.updateClick.bind(this);\r\n    this.renderProductPolicy = this.renderProductPolicy.bind(this);\r\n  }\r\n\r\n  renderSystemPurcahsePolicay() {\r\n    let onChange = (event) => {\r\n      if(event.target.value<120)\r\n        this.setState({age:event.target.value})};\r\n    let addChange = () => {\r\n      let obj = {};\r\n      obj['CLASSNAME'] = CLASS_SYSTEM;\r\n      obj['DATA'] = {age:this.state.age}; \r\n      this.list_selected.push(obj);\r\n      this.setState({age:1})\r\n    }\r\n    return (\r\n      <div>\r\n        <h3 style={titleStyle}> Age Policy </h3>\r\n        <SmallInput title=\"Minimum Age\" type=\"number\" min={0} value={this.state.age}\r\n              onChange={onChange}/>\r\n        <Button text=\"Add\" onClick={addChange}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderBasketPurcahsePolicy() {\r\n    let onChange = (event) => {\r\n        this.setState({maxAmount:event.target.value})};\r\n    let addChange = () => {\r\n      let obj = {};\r\n      obj['CLASSNAME'] = CLASS_BASKET;\r\n      obj['DATA'] = {maxAmount:this.state.maxAmount}; \r\n      this.list_selected.push(obj);\r\n      this.setState({maxAmount:1})\r\n    }\r\n    return (\r\n      <div>\r\n        <h3 style={titleStyle}> Store Policy </h3>\r\n        <SmallInput title=\"Maximum Products In Store\" type=\"number\" min={0} value={this.state.maxAmount}\r\n              onChange={onChange}/>\r\n        <Button text=\"Add\" onClick={addChange}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderColumn1() {\r\n    return (\r\n      <div style={{height:400}}>\r\n        <div style={{height:'50%'}}>\r\n          {this.renderSystemPurcahsePolicay()}\r\n        </div>\r\n        <div style={{height:'50%'}}>\r\n          {this.renderBasketPurcahsePolicy()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderByComlicated(element, deleteOn) {\r\n    let selectClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.setState({selected_policy:element});\r\n    }\r\n    let comlicatedClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.list_comlicated.push(element);\r\n      this.setState({});\r\n    }\r\n    let deleteClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.setState({});\r\n    }\r\n    let title ='';\r\n    let color = '';\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_AND: title='And Policy'; color='#33FF9F'; break; \r\n      case CLASS_OR: title='Or Policy';  color='#B2FF4D'; break;\r\n      case CLASS_XOR:  title='Xor Policy';  color='#FFFA70'; break;\r\n    }\r\n    let list = element.DATA.policyList;\r\n    let output = [];\r\n    list.forEach(policy => {\r\n      output.push(\r\n        <div>\r\n          {this.renderByClass(policy,false)}\r\n        </div>\r\n      )\r\n    })\r\n    return (<div style={{border:'1px solid black'}}>\r\n              <h4 style={{backgroundColor:color, textAlign:'center', marginTop:0}}> {title} </h4>\r\n              <div style={{padding:4}}>\r\n                {output}\r\n              </div>\r\n              {deleteOn?<Triple selectClick={()=>selectClick(element)} \r\n                          comlicatedClick={()=>comlicatedClick(element)} \r\n                          deleteClick={()=>deleteClick(element)}/>:''}\r\n            </div>);\r\n  }\r\n\r\n  renderByClass(element, deleteOn) {\r\n    let data = element.DATA;\r\n    let selectClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.setState({selected_policy:element});\r\n    }\r\n    let comlicatedClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.list_comlicated.push(element);\r\n      this.setState({});\r\n    }\r\n    let deleteClick = (element) => {\r\n      this.list_selected.splice(this.list_selected.indexOf(element),1);\r\n      this.setState({});\r\n    }\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_SYSTEM: \r\n        return (\r\n            <div style={{border:'2px solid #5CCCC4', margin:4}}>\r\n                <h4 style={{backgroundColor:'#5CCCC4', textAlign:'center', marginTop:0}}>\r\n                  Age Policy  \r\n                </h4>\r\n                <p style={{textAlign:'center'}}> Age: {data.age} </p>\r\n                {deleteOn?<Triple selectClick={()=>selectClick(element)} \r\n                          comlicatedClick={()=>comlicatedClick(element)} \r\n                          deleteClick={()=>deleteClick(element)}/>:''}\r\n            </div>\r\n        )\r\n      case CLASS_BASKET:\r\n        return (\r\n            <div style={{border:'2px solid #9AB0DB', margin:4}}>\r\n                <h4 style={{backgroundColor:'#9AB0DB', textAlign:'center', marginTop:0}}>\r\n                  Store Policy  \r\n                </h4>\r\n                <p style={{textAlign:'center'}}> Max Amount: {data.maxAmount} </p>\r\n                {deleteOn?<Triple selectClick={()=>selectClick(element)} \r\n                          comlicatedClick={()=>comlicatedClick(element)} \r\n                          deleteClick={()=>deleteClick(element)}/>:''}\r\n            </div>\r\n        )\r\n      case CLASS_AND: case CLASS_OR: case CLASS_XOR:\r\n        return this.renderByComlicated(element,deleteOn); \r\n      case CLASS_COUNRTY:\r\n        let list = data.countries;\r\n        return (\r\n          <div style={{border:'2px solid #B352FF', margin:4}}>\r\n            <h4 style={{backgroundColor:'#B352FF', textAlign:'center', marginTop:0}}>\r\n              Country Policy \r\n            </h4>\r\n            {this.renderCountriesList(list)}\r\n            {deleteOn?<Triple selectClick={()=>selectClick(element)} \r\n                          comlicatedClick={()=>comlicatedClick(element)} \r\n                          deleteClick={()=>deleteClick(element)}/>:''}\r\n          </div>\r\n        )\r\n      case CLASS_PRODUCT:\r\n        let map = data.amountPerProduct;\r\n        let output = [];\r\n        let keys = Object.getOwnPropertyNames(map) \r\n        keys.forEach(key => {\r\n          let obj = map[key];\r\n          let max = obj.max;\r\n          let min = obj.min;\r\n          output.push(\r\n            <div>\r\n              <p style={{textAlign:'center'}}> Product: {key} </p>\r\n              <p style={{textAlign:'center'}}> Min Amount of product: {min} </p>\r\n              <p style={{textAlign:'center'}}> Max Amount of product: {max} </p>\r\n            </div>\r\n          )\r\n        });\r\n        return (\r\n          <div style={{border:'2px solid #B0C8FF', margin:4}}>\r\n            <h4 style={{backgroundColor:'#B0C8FF', textAlign:'center', marginTop:0}}>\r\n              Product Policy\r\n            </h4>\r\n            {output}\r\n            {deleteOn?<Triple selectClick={()=>selectClick(element)} \r\n                          comlicatedClick={()=>comlicatedClick(element)} \r\n                          deleteClick={()=>deleteClick(element)}/>:''}\r\n          </div>\r\n        )\r\n\r\n    }\r\n  }\r\n\r\n  renderList(list, deleteOn) {\r\n    let output =[];\r\n    list.forEach(element => {\r\n      output.push(this.renderByClass(element,deleteOn))\r\n    });\r\n    return (\r\n      <div style={{padding:4}}>\r\n        {output}\r\n      </div>);\r\n  }\r\n\r\n  renderComplex() {\r\n    let clickd = (policy) => {\r\n      this.list_comlicated = [];\r\n      this.list_selected.push(policy);\r\n      this.setState({});\r\n    }\r\n    let andClick = () => {\r\n      if(this.list_comlicated.length==1)\r\n        alert(\"Please Select more then 1 policy to create a complex one\");\r\n      else if(this.list_comlicated.length==0)\r\n        alert(\"Please Select Policies\");\r\n      else {\r\n        let obj = {};\r\n        obj['CLASSNAME']=CLASS_AND;\r\n        obj['DATA']= {policyList:this.list_comlicated}\r\n        clickd(obj);\r\n      }\r\n    }\r\n    let orClick = () => {\r\n      if(this.list_comlicated.length==1)\r\n        alert(\"Please Select more then 1 policy to create a complex one\");\r\n      else if(this.list_comlicated.length==0)\r\n        alert(\"Please Select Policies\");\r\n      else {\r\n        let obj = {};\r\n        obj['CLASSNAME']=CLASS_OR;\r\n        obj['DATA']= {policyList:this.list_comlicated}\r\n        clickd(obj);\r\n      }\r\n    }\r\n    let xorClick = () => {\r\n      if(this.list_comlicated.length==1)\r\n        alert(\"Please Select more then 1 policy to create a complex one\");\r\n      else if(this.list_comlicated.length==0)\r\n        alert(\"Please Select Policies\");\r\n      else {\r\n        let obj = {};\r\n        obj['CLASSNAME']=CLASS_XOR;\r\n        obj['DATA']= {policyList:this.list_comlicated}\r\n        clickd(obj);\r\n      }\r\n    }\r\n    return (\r\n      <div style={{float:'left', width:'100%'}}>\r\n        <h3 style={titleStyle}> Complex Policies </h3>\r\n        {this.renderList(this.list_comlicated, false)}\r\n        <div style={{float:'left', width:'33%'}}>\r\n          <Button text=\"And\" onClick={andClick}/>\r\n        </div>\r\n        <div style={{float:'left', width:'33%'}}>\r\n          <Button text=\"Or\" onClick={orClick}/>\r\n        </div>\r\n        <div style={{float:'left', width:'33%'}}>\r\n          <Button text=\"Xor\" onClick={xorClick}/>\r\n        </div>\r\n      </div>)\r\n  }\r\n\r\n  renderSelectedComplex() {\r\n    return (\r\n      <div>\r\n        <h3 style={titleStyle}> Selected Policies </h3>\r\n        {this.renderList(this.list_selected, true)}\r\n        {this.renderComplex()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  updateClick() {\r\n    let promise = (received) => {\r\n      if(received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        console.log(received)\r\n        let opt = \"\"+ received.reason;\r\n        if(opt === 'Store_Not_Found') {\r\n          alert('Store Not Found. By By');\r\n          pass(this.props.history,'/subscribe','',this.props.location.state);\r\n        }\r\n        else if(opt ==='Invalid_Policy') {\r\n          alert('Invalid Policy, Please try agian later');\r\n          this.setState({selected_policy:undefined});\r\n        }\r\n        else if(opt ==='Dont_Have_Permission'){\r\n          alert('User Dosnt have premission. By By')\r\n          pass(this.props.history,'/subscribe','',this.props.location.state);\r\n        }\r\n        else if(opt ==='Invalid_Product'){\r\n          alert('Invalid Policy, there is a product not valid, Please try agian later');\r\n          this.setState({selected_policy:undefined});\r\n        }\r\n        else if(opt === 'Success') {\r\n          alert('Policy added to Store');;\r\n          this.setState({selected_policy:undefined});\r\n        }\r\n      }\r\n    }\r\n    let id = this.props.location.state.id;\r\n    let store = this.props.location.state.storeName;\r\n    let msg = this.state.selected_policy;\r\n    send('/store/policy/add?id='+id+'&'+'store='+store,'POST',msg,promise);\r\n  }\r\n\r\n  renderSelectedPolicy() {\r\n    if(this.state.selected_policy===undefined)\r\n      return ''\r\n    let cancleClick = () => {\r\n      this.setState({selected_policy:undefined});\r\n    }\r\n    return (\r\n      <div sstyle={{marginBottom:5}}>\r\n        <div style={{float:'left', paddingLeft:500 ,width:'30%'}}>\r\n          {this.renderByClass(this.state.selected_policy,false)}\r\n        <div style={{textAlign:'center'}}>\r\n          <Button text=\"Update\" onClick={this.updateClick}/>\r\n          <Button text=\"Cancle\" onClick={cancleClick}/>\r\n        </div>\r\n        </div>\r\n      </div> \r\n    )\r\n  }\r\n\r\n  renderCountriesList(list) {\r\n    let output = [];\r\n    list.forEach(element=>{\r\n      output.push(\r\n        <p style={{textAlign:'center'}}> Country: {element} </p>\r\n      )\r\n    });\r\n    return output;\r\n  }\r\n\r\n  renderCountryList() {\r\n    if(this.list_county.length===0)\r\n      return <p style={{textAlign:'center'}}> No country selected yet </p>\r\n    let addClick = () => {\r\n      let obj = {};\r\n      obj['CLASSNAME'] = CLASS_COUNRTY;\r\n      obj['DATA'] = {countries:this.list_county};\r\n      this.list_selected.push(obj);\r\n      this.list_county = [];\r\n      this.setState({});\r\n    }\r\n    return (\r\n      <div>\r\n        <h4 style={titleStyle}> Countries: </h4>\r\n        {this.renderCountriesList(this.list_county)}\r\n        <Button text=\"Add Policy\" onClick={addClick}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderCountries() {\r\n    let onChange = (event) => {\r\n      this.setState({country:event.target.value});\r\n    }\r\n    let addContry = () => {\r\n      this.list_county.push(this.state.country);\r\n      this.setState({country:''});\r\n    }\r\n    return (\r\n      <div>\r\n        <h3 style={titleStyle}> Countries Policy </h3>\r\n        <div>\r\n          <SmallInput title=\"County\" type=\"text\" value={this.state.country}\r\n                onChange={onChange}/>\r\n          <Button text=\"Add Country\" onClick={addContry}/>\r\n        </div>\r\n        {this.renderCountryList()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  //this function get the list of product from the server by given store\r\n  getProducts(storeName) {\r\n    let buildProducts = (received) => {\r\n      if(received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+ received.reason;\r\n        if(opt === 'Success') {\r\n          this.setState({products: received.value});\r\n        }\r\n        else {\r\n          alert(\"Cant get Products from store. please try again later\");\r\n          pass(this.props.history,'/storeManagement','',this.props.location.state);\r\n        }\r\n      }\r\n    }\r\n    send('/home/product?store='+storeName, 'GET','', buildProducts)  \r\n  }\r\n\r\n  renderProducts() {\r\n    if(this.state.products.length===0)\r\n      return <p style={{textAlign:'center'}}> No proudtcs in Store</p>\r\n    let output = [];\r\n    let onClick = (element) => {\r\n      this.setState({selected_product:element, selected_amount_max:element.amount})\r\n    }\r\n    this.state.products.forEach(element => {\r\n      output.push(\r\n        <DivBetter onClick={()=>onClick(element)}>\r\n          <h3 style={{backgroundColor:'#FCA6FF', marginTop:0}}> {element.productName} </h3>\r\n          <p> Amount In Store: {element.amount} </p>\r\n        </DivBetter>\r\n      )\r\n    });\r\n    return output;\r\n  }\r\n\r\n  renderSelectedProduct() {\r\n    if(this.state.selected_product===undefined)\r\n      return\r\n    let onChangeMax= (event) => {\r\n      let update_amount = parseInt(event.target.value);\r\n      if( update_amount < this.state.selected_product.amount)\r\n        this.setState({selected_amount_max:update_amount});\r\n      else\r\n        alert(\"cant select amount to policy gratter the amount in store\");\r\n    }\r\n    let onChangeMin= (event) => {\r\n      let update_amount = parseInt(event.target.value);\r\n      if(update_amount < this.state.selected_product.amount)\r\n        this.setState({selected_amount_min:update_amount});\r\n      else\r\n        alert(\"cant select amount to policy gratter the amount in store\");\r\n    }\r\n    let addProduct = () => {\r\n      let min = parseInt(this.state.selected_amount_min);\r\n      let max = parseInt(this.state.selected_amount_max);\r\n      // alert('min ' + min +' max '+ max);\r\n      if(min > max) {\r\n        alert(\"Min cant be greatter then Max. Cant add product to the policy.\");\r\n      }\r\n      else {\r\n        let key = this.state.selected_product.productName;\r\n        let value = {max:this.state.selected_amount_max, min:this.state.selected_amount_min,\r\n                      productName:this.state.selected_product.productName};\r\n        this.map_prodcts[key] = value;\r\n        this.setState({selected_amount_min:0,selected_amount_max:0, selected_product:undefined})\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n         <h3 style={titleStyle}> {this.state.selected_product.productName} </h3>\r\n          <SmallInput title=\"Min Amount of Product\" type=\"number\" min={1} value={this.state.selected_amount_min}\r\n                onChange={onChangeMin}/>\r\n          <SmallInput title=\"Max Amount of Product\" type=\"number\" min={1} value={this.state.selected_amount_max}\r\n                onChange={onChangeMax}/>\r\n          <Button text=\"Add to Selected Products\" onClick={addProduct}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderMapProducts() {\r\n    let keys = Object.getOwnPropertyNames(this.map_prodcts) \r\n    if(keys.length===0)\r\n      return\r\n    let output = [];\r\n    keys.forEach(key => {\r\n      let obj = this.map_prodcts[key];\r\n      let max = obj.max; \r\n      let min = obj.min;\r\n      output.push(\r\n        <div>\r\n          <p style={{textAlign:'center'}}> Product: {key} </p>\r\n          <p style={{textAlign:'center'}}> Min Amount of product: {min} </p>\r\n          <p style={{textAlign:'center'}}> Max Amount of product: {max} </p>\r\n        </div>\r\n      )\r\n    });\r\n    let onClick = () => {\r\n      let obj = {};\r\n      obj['CLASSNAME'] = CLASS_PRODUCT;\r\n      obj['DATA'] = {amountPerProduct:this.map_prodcts}\r\n      this.map_prodcts={};\r\n      this.list_selected.push(obj);\r\n      this.setState({});\r\n    }\r\n    return (\r\n      <div>\r\n        <Button text=\"Add Product Policy\" onClick={onClick}/>\r\n        <h3 style={titleStyle}> Selected Products </h3>\r\n        {output}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderProductPolicy() {\r\n    if(this.state.products.length===0) {\r\n      let store = this.props.location.state.storeName;\r\n      this.getProducts(store);\r\n    }\r\n    return (\r\n      <div>\r\n        <h3 style={titleStyle}> Product Policy </h3>\r\n        {this.renderMapProducts()}\r\n        {this.renderSelectedProduct()}\r\n        <div style={{padding:4}}>\r\n          {this.renderProducts()}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    let height = 600;\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title=\"Policy Managment\" />\r\n        <div style={{float:'left', width:'100%'}}>\r\n          {this.renderSelectedPolicy()}\r\n        </div>\r\n        \r\n        <div style={{float:'left', width:'100%'}}>\r\n          <div style={{float:'left', width:'24.8%', borderLeft:'1px solid black', height:height}}>\r\n            {this.renderColumn1()}\r\n          </div>\r\n          <div style={{float:'left', width:'24.8%', borderLeft:'1px solid black', height:height}}>\r\n            {this.renderCountries()}\r\n          </div>\r\n          <div style={{float:'left', width:'24.8%', borderLeft:'1px solid black', height:height}}>\r\n            {this.renderProductPolicy()}\r\n          </div>\r\n          <div style={{float:'left', width:'24.7%', borderLeft:'1px solid black', height:height}}>\r\n            {this.renderSelectedComplex()}\r\n          </div>\r\n        </div>\r\n        \r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\nexport default ManagePolicy;\r\n\r\nclass SmallInput extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        <div style = {{textAlign:'center'}}>\r\n          <label style={{marginLeft:5, marginRight:12}}> {this.props.title} </label>\r\n        </div>\r\n        <div style= {{textAlign:'center'}}>\r\n          <input style={{textAlign:'center'}} type={this.props.type} min={this.props.min} max={this.props.max} value={this.props.value} onChange={this.props.onChange} />\r\n        </div>  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Triple extends Component {\r\n\r\n  render() {\r\n    return (\r\n    <table style={{width:\"100%\"}}>\r\n      <tr sylte={{ textAlign:'center'}}>\r\n        <th><button style={buttonSmall} onClick={this.props.selectClick}> select </button> </th>\r\n        <th><button style={buttonSmall} onClick={this.props.comlicatedClick}> complicated </button> </th>\r\n        <th><button style={buttonX} onClick={this.props.deleteClick} > X </button> </th>\r\n      </tr>\r\n    </table>\r\n    );\r\n  }\r\n}\r\n\r\nconst titleStyle ={\r\n  textAlign:'center',\r\n  backgroundColor:'lightgray',\r\n  borderBottom:'1px solid black',\r\n  marginBottom:5,\r\n};\r\n\r\nconst buttonX = {\r\n  backgroundColor:'#B38118',\r\n  margin:5,\r\n}\r\n\r\nconst buttonSmall = {\r\n  backgroundColor:'#0041B3', \r\n  color:'white'\r\n}","import React, {Component} from \"react\";\r\nimport BackGrond from \"../../Component/BackGrond\";\r\nimport Menu from \"../../Component/Menu\";\r\nimport Title from \"../../Component/Title\";\r\nimport Button from \"../../Component/Button\";\r\nimport DivBetter from '../../Component/DivBetter';\r\nimport {send} from '../../Handler/ConnectionHandler';\r\nimport {pass} from '../../Utils/Utils'\r\n\r\nconst CLASS_SYSTEM = 'Domain.PurchasePolicy.SystemPurchasePolicy';\r\nconst CLASS_BASKET = 'Domain.PurchasePolicy.BasketPurchasePolicy';\r\nconst CLASS_COUNRTY = 'Domain.PurchasePolicy.UserPurchasePolicy';\r\nconst CLASS_PRODUCT = 'Domain.PurchasePolicy.ProductPurchasePolicy';\r\nconst CLASS_AND = 'Domain.PurchasePolicy.ComposePolicys.AndPolicy';\r\nconst CLASS_OR = 'Domain.PurchasePolicy.ComposePolicys.OrPolicy';\r\nconst CLASS_XOR = 'Domain.PurchasePolicy.ComposePolicys.XorPolicy';\r\n\r\nclass ViewPolicy extends Component {\r\n  constructor() {\r\n    super();\r\n    this.pathname = \"/viewPolicies\";\r\n    this.state = {\r\n      selected_policy:undefined,\r\n    };\r\n    this.getPolicy = this.getPolicy.bind(this);\r\n  }\r\n\r\n  renderByComlicated(element, deleteOn) {\r\n    let title ='';\r\n    let color = '';\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_AND: title='And Policy'; color='#33FF9F'; break; \r\n      case CLASS_OR: title='Or Policy';  color='#B2FF4D'; break;\r\n      case CLASS_XOR:  title='Xor Policy';  color='#FFFA70'; break;\r\n    }\r\n    let list = element.DATA.policyList;\r\n    let output = [];\r\n    list.forEach(policy => {\r\n      output.push(\r\n        <div>\r\n          {this.renderByClass(policy,false)}\r\n        </div>\r\n      )\r\n    })\r\n    return (<div style={{border:'1px solid black'}}>\r\n              <h4 style={{backgroundColor:color, textAlign:'center', marginTop:0}}> {title} </h4>\r\n              <div style={{padding:4}}>\r\n                {output}\r\n              </div>\r\n            </div>);\r\n  }\r\n\r\n  renderByClass(element, deleteOn) {\r\n    let data = element.DATA;\r\n    switch(element.CLASSNAME) {\r\n      case CLASS_SYSTEM: \r\n        return (\r\n            <div style={{border:'2px solid #5CCCC4', margin:4}}>\r\n                <h4 style={{backgroundColor:'#5CCCC4', textAlign:'center', marginTop:0}}>\r\n                  Age Policy  \r\n                </h4>\r\n                <p style={{textAlign:'center'}}> Age: {data.age} </p>\r\n            </div>\r\n        )\r\n      case CLASS_BASKET:\r\n        return (\r\n            <div style={{border:'2px solid #9AB0DB', margin:4}}>\r\n                <h4 style={{backgroundColor:'#9AB0DB', textAlign:'center', marginTop:0}}>\r\n                  Store Policy  \r\n                </h4>\r\n                <p style={{textAlign:'center'}}> Max Amount: {data.maxAmount} </p>\r\n            </div>\r\n        )\r\n      case CLASS_AND: case CLASS_OR: case CLASS_XOR:\r\n        return this.renderByComlicated(element,deleteOn); \r\n      case CLASS_COUNRTY:\r\n        let list = data.countries;\r\n        return (\r\n          <div style={{border:'2px solid #B352FF', margin:4}}>\r\n            <h4 style={{backgroundColor:'#B352FF', textAlign:'center', marginTop:0}}>\r\n              Country Policy \r\n            </h4>\r\n            {this.renderCountriesList(list)}\r\n          </div>\r\n        )\r\n      case CLASS_PRODUCT:\r\n        let map = data.amountPerProduct;\r\n        let output = [];\r\n        let keys = Object.getOwnPropertyNames(map) \r\n        keys.forEach(key => {\r\n          let obj = map[key];\r\n          let min = obj.min; \r\n          let max = obj.max;\r\n          output.push(\r\n            <div>\r\n              <p style={{textAlign:'center'}}> Product: {key} </p>\r\n              <p style={{textAlign:'center'}}> Min Amount of product: {min} </p>\r\n              <p style={{textAlign:'center'}}> Max Amount of product: {max} </p>\r\n            </div>\r\n          )\r\n        });\r\n        return (\r\n          <div style={{border:'2px solid #B0C8FF', margin:4}}>\r\n            <h4 style={{backgroundColor:'#B0C8FF', textAlign:'center', marginTop:0}}>\r\n              Product Policy\r\n            </h4>\r\n            {output}\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  renderCountriesList(list) {\r\n    let output = [];\r\n    list.forEach(element=>{\r\n      output.push(\r\n        <p style={{textAlign:'center'}}> Country: {element} </p>\r\n      )\r\n    });\r\n    return output;\r\n  }\r\n\r\n  getPolicy(){\r\n    let promise = (received)=> {\r\n      if(received==null)\r\n        alert(\"Server Failed\");\r\n      else {\r\n        let opt = ''+ received.reason;\r\n        if(opt === 'Success') {\r\n          console.log(received.value);\r\n          let obj = JSON.parse(received.value);\r\n          this.setState({selected_policy:obj});\r\n        }\r\n        else if(opt === 'Store_Not_Found') {\r\n          alert('Store Not found. Back to the prev page');\r\n          pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state);\r\n        }\r\n      }\r\n    }\r\n    let storeName = this.props.location.state.storeName;\r\n    send('/store/policy/get?store='+storeName,'GET','',promise);\r\n  }\r\n\r\n  checkEmptyPolicy() {\r\n    let obj = this.state.selected_policy;\r\n    if(obj===undefined)\r\n      return true;\r\n    let class_name = obj.CLASSNAME;\r\n    if(class_name!==CLASS_AND)\r\n      return false;\r\n    let data = obj.DATA;\r\n    let list = data.policyList;\r\n    if(list.length===0)\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  renderPolicy() {\r\n    if(this.state.selected_policy === undefined) {\r\n      this.getPolicy();  \r\n    }\r\n    if(this.checkEmptyPolicy()) {\r\n      return <p style={{textAlign:'center'}}> No Policy To Store Yet </p>\r\n    }\r\n    if(this.state.selected_policy=== undefined)\r\n      return\r\n    \r\n    return (\r\n    <div style={{width:'40%', paddingLeft:425}}>\r\n        <h2 style={titleStyle}> Policy </h2>\r\n        {this.renderByClass(this.state.selected_policy, false)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    let height = 600;\r\n    let storeName = this.props.location.state.storeName;\r\n    let onBack= () => {\r\n      pass(this.props.history,this.props.location.fromPath,this.pathname,this.props.location.state); \r\n    };\r\n    return (\r\n      <BackGrond>\r\n        <Menu state={this.props.location.state} />\r\n        <Title title={\"View Policy \"+storeName}/>\r\n        {this.renderPolicy()}\r\n        <div style={{float:'left', width:'100%'}}>\r\n          <Button text=\"Back\" onClick={onBack}/>\r\n        </div>\r\n      </BackGrond>\r\n    );\r\n  }\r\n}\r\nexport default ViewPolicy;\r\n\r\nconst titleStyle ={\r\n  textAlign:'center',\r\n  backgroundColor:'lightgray',\r\n  borderBottom:'1px solid black',\r\n  marginBottom:5,\r\n};\r\n","import React, {Component} from 'react';\r\nimport BackGroud from '../../../Component/BackGrond';\r\nimport Title from '../../../Component/Title';\r\nimport Input from '../../../Component/Input';\r\nimport Button from '../../../Component/Button';\r\nimport {send} from '../../../Handler/ConnectionHandler';\r\nimport {pass} from '../../../Utils/Utils'\r\n\r\nconst FormData = require('form-data')\r\nconst https = require('https');\r\n\r\nclass InitSystem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: -1,\r\n      name: '',\r\n      password: '',\r\n      error: 'Cannot register Admin',\r\n      success: \"Registered Admin\",\r\n    };\r\n\r\n\r\n    this.handleChangeName = this.handleChangeName.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleConnect = this.handleConnect.bind(this);\r\n    this.handleGetId = this.handleGetId.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleReceived = this.handleReceived.bind(this);\r\n  }\r\n\r\n  handleConnect(){\r\n    send('/home/connect','GET','',this.handleGetId)\r\n  }\r\n\r\n  handleGetId(received){\r\n    let opt = ''+received.reason;\r\n    if(opt !== \"Success\")\r\n      alert(this.state.error)\r\n    else {\r\n      this.setState({id: received.value});\r\n      alert(this.state.success);\r\n      pass(this.props.history,'/','',{id:this.state.id})\r\n    }\r\n  };\r\n\r\n  handleChangeName(event) {\r\n    this.setState({name: event.target.value});\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    /* hidden password */\r\n    this.setState({password: event.target.value});\r\n  }\r\n\r\n  handleSubmit() {\r\n    let name = this.state.name;\r\n    let password = this.state.password;\r\n    let msg = {name: name, password: password};\r\n    //RECIVED RESPONSE AS MSG\r\n    send('/admin/init', 'POST', msg, this.handleReceived)\r\n  };\r\n\r\n  handleReceived(buffer) {\r\n    if (buffer && buffer.value)\r\n      this.handleConnect();\r\n    else\r\n      alert(this.state.error);\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <BackGroud>\r\n        <Title title = 'Register Admin'/>\r\n        <div>\r\n          <Input title = 'User Name:' type=\"text\" value={this.state.name} onChange={this.handleChangeName} />\r\n          <Input title = 'Password:' type=\"password\" value={this.state.password} onChange={this.handleChangePassword} />\r\n          <Button text = 'Submit' onClick={this.handleSubmit}/>\r\n        </div>\r\n      </BackGroud>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InitSystem;","import React, {Component} from \"react\";\r\nimport BackGroud from \"../../../Component/BackGrond\";\r\nimport Menu from \"../../../Component/Menu\";\r\nimport Title from \"../../../Component/Title\";\r\nimport Button from \"../../../Component/Button\";\r\nimport {send} from '../../../Handler/ConnectionHandler';\r\nimport {pass} from \"../../../Utils/Utils\";\r\nimport DivBetter from \"../../../Component/DivBetter\";\r\n\r\n\r\nclass WatchRevenu extends Component {\r\n\r\n    constructor() {\r\n      super();\r\n      this.pathname = \"/admin/watchRevenu\";\r\n      this.state = {\r\n        day_income:undefined,\r\n        i_day:undefined,\r\n        i_month:undefined,\r\n        i_year:undefined,\r\n        s_day:undefined,\r\n        s_month:undefined,\r\n        s_year:undefined,\r\n        selected_day_income:undefined,\r\n      };\r\n      this.get_Date  = this.get_Date.bind(this);\r\n      this.pprint_Date = this.pprint_Date.bind(this);\r\n      this.render_SelectedDate = this.render_SelectedDate.bind(this);\r\n      this.onChange_day = this.onChange_day.bind(this);\r\n      this.onChange_month = this.onChange_month.bind(this);\r\n      this.onChange_year = this.onChange_year.bind(this);\r\n      this.render_SelectedIncome = this.render_SelectedIncome.bind(this);\r\n    }\r\n\r\n    get_Date() {\r\n      if(this.state.day===undefined) {\r\n        let date = new Date();\r\n        let day = date.getDate();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        let id = this.props.location.state.id;\r\n        send('/admin/todayRevenue?id='+id,'GET','',(received)=>{\r\n          if(received){\r\n            let opt = ''+received.reason;\r\n            if(opt === \"Success\") {\r\n              this.setState({day:day, month:month, year:year, i_day:day, i_month:month, i_year:year,\r\n                day_income:received.value}); \r\n            }\r\n            else if(opt==='Not_Found') {\r\n              this.setState({day:day, month:month, year:year, i_day:day, i_month:month, i_year:year,\r\n                day_income:0}); \r\n            }\r\n            else if(opt==='NOT_ADMIN') {\r\n              alert(\"Ha Great For You, you cant fool us!!!\");\r\n            }\r\n            else {\r\n              alert(opt)\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    pprint_Date() {\r\n      return this.state.day +'.'+this.state.month+'.'+this.state.year;\r\n    }\r\n\r\n    onChange_day(e) {\r\n      if(parseInt(e.target.value)>31) {\r\n        alert('Cant Enter a day gretter then 31');\r\n      }\r\n      else if(parseInt(e.target.value)<1) {\r\n        alert('Cant Enter a day lower then 1');\r\n      }\r\n      else {\r\n        this.setState({i_day:parseInt(e.target.value)});\r\n      }\r\n    }\r\n\r\n    onChange_month(e) {\r\n      if(parseInt(e.target.value)>12) {\r\n        alert('Cant Enter a month gretter then 12');\r\n      }\r\n      else if(parseInt(e.target.value)<1) {\r\n        alert('Cant Enter a month lower then 1');\r\n      }\r\n      else {\r\n        this.setState({i_month:parseInt(e.target.value)});\r\n      }\r\n    }\r\n\r\n    onChange_year(e) {\r\n      if(parseInt(e.target.value)>9999) {\r\n        alert('Cant Enter a year gretter then 9999');\r\n      }\r\n      else if(parseInt(e.target.value)<1) {\r\n        alert('Cant Enter a year lower then 1');\r\n      }\r\n      else {\r\n        this.setState({i_year:parseInt(e.target.value)});\r\n      }\r\n    }\r\n\r\n    render_SelectedIncome() {\r\n      if(this.state.selected_day_income===undefined)\r\n        return;\r\n      return ( \r\n              <div style={{float:'left', width:'30%', marginLeft:'35%'}}>\r\n                <DivBetter>\r\n                  <h2 style={{marginTop:0, border:'1px solid black', backgroundColor:'#63FFA7'}}> \r\n                      Day Income </h2>\r\n                  <h3>  {this.state.s_day +'.'+this.state.s_month+'.'+this.state.s_year} </h3> \r\n                  <h3> {this.state.selected_day_income} $</h3>\r\n                </DivBetter>\r\n              </div>)\r\n    }\r\n\r\n    render_SelectedDate() {\r\n      let onClick = (e) => {\r\n        if(this.state.year!= undefined && this.state.year < this.state.i_year) {\r\n          alert('Cant Select A Year greater then the current Year');\r\n        }\r\n        else if(this.state.year!= undefined && this.state.month < this.state.i_month) {\r\n          alert('Cant Select A Month greater then the current Month');\r\n        }\r\n        else if(this.state.year!= undefined && this.state.day < this.state.i_day) {\r\n          alert('Cant Select A Day greater then the current Day');\r\n        }\r\n        else {\r\n          let msg = { day:this.state.i_day, month:this.state.i_month, year:this.state.i_year}; \r\n          let id = this.props.location.state.id;\r\n          send('/admin/daysRevenue?id='+id,'POST',msg,(received)=>{\r\n            if(received){\r\n              let opt = ''+received.reason;\r\n              if(opt === \"Success\") {\r\n                this.setState({ s_year:this.state.i_year, s_month:this.state.i_month, s_day:this.state.i_day,\r\n                  selected_day_income:received.value,\r\n                  i_year:this.state.year, i_month:this.state.month, i_day:this.state.day})\r\n                }\r\n              else if(opt==='INVALID_DATE') {\r\n                alert(\"The date inserted isnt valid Date\");\r\n              }\r\n              else if(opt==='Not_Found') {\r\n                this.setState({ s_year:this.state.i_year, s_month:this.state.i_month, s_day:this.state.i_day,\r\n                  selected_day_income:0, \r\n                  i_year:this.state.year, i_month:this.state.month, i_day:this.state.day});\r\n              }\r\n              else if(opt==='NOT_ADMIN') {\r\n                alert(\"Ha Great For You, you cant fool us!!!\");\r\n              }\r\n              else {\r\n                alert('In Day renenu with '+opt)\r\n              }\r\n            }\r\n          });\r\n        }\r\n      } \r\n      return (\r\n        <div style={{float:'left',width:'100%', paddingTop:'15px'}}>\r\n            <div style={{float:'left',width:'60%', paddingLeft:'20%'}}>\r\n              <div style={{float:'left', width:'32%', border:'2px solid black', textAlign:'center'}}>\r\n                <p style={{marginTop:0, marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Day </p>\r\n                <input style={{textAlign:'center',marginBottom:10, width:'50%'}} type={'number'} min={1} max={31} value={this.state.i_day} \r\n                    onChange={this.onChange_day} />\r\n              </div>\r\n              <div style={{float:'left', width:'32%', border:'2px solid black',textAlign:'center'}}>\r\n                <p style={{marginTop:0, marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Month </p>\r\n                <input style={{textAlign:'center' ,marginBottom:10, width:'50%'}} type={'number'} min={1} max={12} value={this.state.i_month} \r\n                    onChange={this.onChange_month} />\r\n              </div>\r\n              <div style={{float:'left', width:'32%', border:'2px solid black', textAlign:'center'}}>\r\n                <p style={{marginTop:0,  marginBottom:10, fontSize:21, width:'99.7%', backgroundColor:'#FFF9A8'}}> Year </p>\r\n                <input style={{textAlign:'center', marginBottom:10, width:'50%'}} type={'number'} min={1} max={9999} value={this.state.i_year} \r\n                    onChange={this.onChange_year} />\r\n              </div>\r\n            </div>\r\n            <div style={{float:'left', width:'100%'}}>\r\n              <Button text=\"View Date Income\" onClick ={onClick}/>\r\n              {this.render_SelectedIncome()}\r\n            </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    render() {\r\n        this.get_Date();\r\n        return (\r\n            <BackGroud>\r\n                <Menu state={this.props.location.state}/>\r\n                <Title title=\"System Revenu\"/>\r\n                <body>\r\n                  <div style={{float:'left', width:'30%', textAlign:'center', \r\n                                border:'1px solid black', marginLeft:'35%'}}>\r\n                    <DivBetter>\r\n                      <h2 style={{marginTop:0, border:'1px solid black', backgroundColor:'#D4E6FF'}}> \r\n                          Day Income </h2>\r\n                      <h3> {this.pprint_Date()} </h3>\r\n                      <h3> {this.state.day_income} $</h3>\r\n                    </DivBetter>\r\n                  </div>\r\n                  {this.render_SelectedDate()}\r\n                </body>\r\n            </BackGroud>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default WatchRevenu;\r\n\r\nconst style_sheet = {\r\n    color: \"black\",\r\n    padding: \"1px\",\r\n    margin: \"10px\",\r\n    lineHeight: 5,\r\n    fontFamily: \"Arial\",\r\n    width:\"80%\",\r\n  }\r\n\r\nconst select_style={\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  alignItems: \"center\"\r\n}","import React, {Component} from 'react';\r\nimport {Route, Router, Switch, withRouter} from 'react-router-dom';\r\nimport GuestIndex from './Screen/Guest/GuestIndex'\r\nimport Register from './Screen/Guest/Register'\r\nimport Login from './Screen/Guest/Login'\r\nimport history from './Screen/history'\r\nimport StoreOwnerWatchHistory from './Screen/Subscribe/StoreOwnerWatchHistory'\r\nimport UserWatchPurchasesHistory from './Screen/Subscribe/UserWatchPurchasesHistory'\r\nimport ViewStoresAndProducts from \"./Screen/Guest/ViewStoresAndProducts\";\r\nimport ViewProductsInCart from './Screen/Guest/ViewProductsInCart';\r\nimport AddProductToCart from './Screen/Guest/AddProductToCart';\r\nimport ViewDeleteProductsInStore from './Screen/Subscribe/ViewDeleteProductsInStore';\r\nimport sendRequestToStore from './Screen/Subscribe/SendRequestToStore';\r\nimport OpenStore from \"./Screen/Subscribe/OpenStore\";\r\nimport ManageProductInStore from './Screen/Subscribe/ManageProductInStore';\r\nimport ManageDiscount from './Screen/Subscribe/ManageDiscount';\r\nimport RemoveManagerFromStore from './Screen/Subscribe/RemoveManagerFromStore';\r\nimport StoreManagement from \"./Screen/Subscribe/StoreManagement\";\r\nimport SearchAndFilterProducts from \"./Screen/Guest/SearchAndFilterProducts\";\r\nimport StoreMenu from \"./Screen/Subscribe/StoreMenu\";\r\nimport AddManagerToStore from \"./Screen/Subscribe/AddManagerToStore\";\r\nimport AddOwnerToStore from \"./Screen/Subscribe/AddOwnerToStore\";\r\nimport ApproveOwnerToStore from './Screen/Subscribe/ApproveOwnerToStore';\r\nimport BuyCart from './Screen/Guest/BuyCart';\r\nimport EditManagerPermissions from \"./Screen/Subscribe/EditManagerPermissions\";\r\nimport ViewAndReplyRequests from \"./Screen/Subscribe/ViewAndReplyRequests\";\r\nimport WatchUserAndStoreHistory from './Screen/Subscribe/Admin/WatchUserAndStoreHistory';\r\nimport SubscribeIndex from './Screen/Subscribe/SubscribetIndex';\r\nimport EditProductInStore from './Screen/Subscribe/EditProudctInStore';\r\nimport ViewDiscounts from './Screen/Subscribe/ViewDiscounts';\r\nimport ManagePolicy from './Screen/Subscribe/ManagePolicy';\r\nimport ViewPolicy from './Screen/Subscribe/ViewPolicy';\r\nimport InitSystem from \"./Screen/Subscribe/Admin/InitSystem\";\r\nimport WatchRevenu from './Screen/Subscribe/Admin/WatchRevenu';\r\nimport WatchDailyUsage from './Screen/Subscribe/Admin/WatchDailyUsage';\r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (<Router history={history}>\r\n            <Switch>\r\n              <Route path=\"/\" component={GuestIndex} exact/>\r\n              <Route path=\"/admin/watchDailyUsage\" component={withRouter(WatchDailyUsage)}/>\r\n              <Route path=\"/admin/watchRevenu\" component={withRouter(WatchRevenu)}/>\r\n              <Route path=\"/admin/storehistory\" component={withRouter(WatchUserAndStoreHistory)} exact/>\r\n              <Route path=\"/admin\" component={withRouter(InitSystem)} exact/>\r\n              <Route path=\"/register\" component={withRouter(Register)} />\r\n              <Route path=\"/searchAndFilter\" component={withRouter(SearchAndFilterProducts)}/>\r\n              <Route path=\"/login\" component={withRouter(Login)} />\r\n              <Route path=\"/storeOwnerWatchHistory\" component={withRouter(StoreOwnerWatchHistory)} />\r\n              <Route path=\"/userWatchPurchasesHistory\" component={withRouter(UserWatchPurchasesHistory)} />\r\n              <Route path=\"/viewStoresAndProducts\" component={withRouter(ViewStoresAndProducts)}/>\r\n              <Route path=\"/viewMyCart\" component={withRouter(ViewProductsInCart)}/>\r\n              <Route path=\"/register\" component={withRouter(Register)} />\r\n              <Route path=\"/login\" component={withRouter(Login)} />\r\n              <Route path=\"/addToCart\" component={withRouter(AddProductToCart)} />\r\n              <Route path=\"/productsDelete\" component={withRouter(ViewDeleteProductsInStore)} />\r\n              <Route path=\"/sendRequest\" component={withRouter(sendRequestToStore)} />\r\n              <Route path=\"/buyCart\" component={withRouter(BuyCart)} />\r\n              <Route path=\"/openStore\" component={withRouter(OpenStore)} />\r\n              <Route path=\"/manageProducts\" component={withRouter(ManageProductInStore)} />\r\n              <Route path=\"/manageDiscount\" component={withRouter(ManageDiscount)}/>\r\n              <Route path=\"/viewDiscounts\" component={withRouter(ViewDiscounts)}/>\r\n              <Route path=\"/storeManagement\" component={withRouter(StoreManagement)} />\r\n              <Route path=\"/storeMenu\" component={withRouter(StoreMenu)} />\r\n              <Route path=\"/removeManagerFromStore\" component={withRouter(RemoveManagerFromStore)} />\r\n              <Route path=\"/addManagerToStore\" component={withRouter(AddManagerToStore)} />\r\n              <Route path=\"/addOwnerToStore\" component={withRouter(AddOwnerToStore)} />\r\n              <Route path=\"/approveOwnerToStore\" component={withRouter(ApproveOwnerToStore)} />\r\n              <Route path=\"/editManagerPermissions\" component={withRouter(EditManagerPermissions)} />\r\n              <Route path=\"/viewAndReplyRequests\" component={withRouter(ViewAndReplyRequests)} />\r\n              <Route path=\"/watchUserAndStoreHistory\" component={withRouter(WatchUserAndStoreHistory)} />\r\n              <Route path=\"/editProduct\" component={withRouter(EditProductInStore)} />\r\n              <Route path=\"/policy\" component={withRouter(ManagePolicy)}/>\r\n              <Route path=\"/viewPolicies\" component={withRouter(ViewPolicy)}/>\r\n              <Route path=\"/subscribe\" component={withRouter(SubscribeIndex)} />\r\n            </Switch>\r\n          </Router>)\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/store.effb3e87.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404_logo.31ca3259.jpg\";"],"sourceRoot":""}